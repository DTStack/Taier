---
title: 工作流
sidebar_label: 工作流
---
## 工作流
当需要将一组任务串起来运行时，可以使用「工作流」类型的任务

工作流相当于是一个「空壳」，里面可包含若干「节点」，每个节点相当于一个任务，例如SparkSQL节点，在运行时与一个SparkSQL任务没有差别

:::tip
工作流适用于一组相关度较高的操作，用工作流的方式将其「打包」为一个整体，运行、重跑等场景下操作比较方便
整个工作流必须作为整体来运行，在配置依赖关系、小范围重跑等操作时不够灵活
:::

## 配置要求
节点依赖要求：
- 需设置一个唯一的起点，整个工作流不能有多个起点
- 工作流内部依赖可以有分支，但不能成环
- 提交： 工作流需要将每个节点的配置信息分别保存后才可以提交
- 调度与依赖配置：工作流作为一个整体，可以配置调度依赖、上下游依赖等信息。工作流内部的每个节点，可以单独设置是否冻结、重试配置和起调时间
- 起调时间：工作流整体有启动运行的时间（例如每天05:00启动），每个节点可以单独设置起调时间（例如内部几个节点可以在06:00、08:00、10:00启动）
- 节点参数、环境参数：每个节点单独配置，与普通任务相同

## 向导操作
画布操作
- 拖拽：可从左侧拖拽节点至画布，在弹窗中补充相关信息可建立节点  
- 画布操作：支持自动整理、放大、缩小、搜索操作，自动整理时可能会发生连线重叠的情况，单击某个节点可高亮相关连线  
- 节点连线：hover在某个节点的下部，按住左键可进行节点间的连线。任务将按连线的上下依赖关系运行，上游任务成功后，下游任务才具备运行条件  
- 双击节点：进入节点信息编辑页面，例如双击SparkSQL类型的节点，进入SQL编辑页面  
- 节点操作：右键单击节点，弹出右键菜单  
- 保存节点：保存当前节点的所有信息  
- 编辑名称：编辑当前节点的名称  
- 编辑节点属性：编辑当前节点的属性信息，例如Spark Jar类型的节点，编辑的弹窗与新建节点的弹窗是一样的，可通过这种方式执行替换Jar包等操作  
- 查看节点内容：与双击节点相同  
- 删除节点：删除本节点及相关的连线（此操作不可撤销）  
- 删除连线：右键单击连线，可删除此连线  

:::tip
整个工作流必须作为一个整体，作为其他任务的上游或下游，不支持将依赖关系指定到工作流内部的节点  
整个工作流状态依赖自身内部子任务，内部子任务有任务失败时，自身会立即失败
:::