(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+JEa":function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return i});var n=a("LvDl"),r=a("HqU/"),o=a.n(r),s=a("udPp");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a;return arguments[1].type,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.a.UPDATE_APP:return null!==t.data?Object(n.assign)({},e,t.data):e;default:return e}}},"/T6w":function(e,t,a){"use strict";var n=a("PVY6");t.a={CREATE_TABLE:n.f+"/batch/batchHiveTableInfo/createTable",SEARCH_TABLE:n.f+"/batch/batchHiveTableInfo/showTables",GET_TABLE:n.f+"/batch/batchHiveTableInfo/getTable",PREVIEW_TABLE:n.f+"/batch/batchHiveTableInfo/getData",SAVE_TABLE:n.f+"/batch/batchHiveTableInfo/alterTable",SEARCH_LOG:n.f+"/batch/batchHiveActionRecord/getRecords",GET_CREATE_CODE:n.f+"/batch/batchHiveTableInfo/createSql",DROP_TABLE:n.f+"/batch/batchHiveTableInfo/dropTable",DDL_CREATE_TABLE:n.f+"/batch/batchHiveTableInfo/ddlCreateTable",CHECK_TABLE_EXIST:n.f+"/batch/batchHiveTableInfo/isTableExist",GET_TABLES_BY_NAME:n.f+"/batch/batchHiveTableInfo/getTableList",CHECK_HDFSLOC_EXIST:n.f+"/batch/batchHiveTableInfo/isHdfsDirExist",GET_TABLE_PARTITION:n.f+"/batch/batchHiveTablePartition/getPartitions",UPLOAD_TABLE_DATA:n.f+"/upload/batch/batchHiveDataImport/importData",CHECK_TABLE_PARTITION:n.f+"/batch/batchHiveTablePartition/checkPartitionExists",NEW_SEARCH_TABLE:n.f+"/batch/batchHiveTableInfo/pageQuery",QUERY_TABLE:n.f+"/batch/batchHiveTableInfo/tableQuery",GET_USERS_IN_TENANT:n.f+"/common/user/getUsersInTenant",GET_TABLE_CATALOGUE:n.f+"/batch/batchHiveCatalogue/getHiveCatalogue",ADD_TABLE_CATALOGUE:n.f+"/batch/batchHiveCatalogue/addCatalogue",DEL_TABLE_CATALOGUE:n.f+"/batch/batchHiveCatalogue/deleteCatalogue",UPDATE_TABLE_CATALOGUE:n.f+"/batch/batchHiveCatalogue/updateHiveCatalogue",ADD_TABLE_TO_CATALOGUE:n.f+"/batch/hiveTableCatalogue/updateHiveCatalogue",DEL_TABLE_IN_CATALOGUE:n.f+"/batch/hiveTableCatalogue/deleteTableCatalogue",APPLY_TABLE:n.f+"/batch/batchApply/apply",GET_REL_TABLE_TREE:n.f+"/batch/batchTableBlood/getTree",GET_REL_TABLE_INFO:n.f+"/batch/batchTableBlood/getTableInfo",GET_PARENT_REL_TABLES:n.f+"/batch/batchTableBlood/getUpstream",GET_CHILD_REL_TABLES:n.f+"/batch/batchTableBlood/getDownstream",GET_REL_TABLE_TASKS:n.f+"/batch/batchTableBlood/getRelateTask",GET_REL_TABLE_COLUMNS:n.f+"/batch/batchTableBlood/getColumns",GET_REL_TABLE_UP_DOWN_COLUMNS:n.f+"/batch/batchTableBlood/getUpAndDownStreamColumns",GET_DIRTY_DATA_TREND:n.f+"/batch/batchDirtyData/dataTrend",TOP30_DIRTY_DATA:n.f+"/batch/batchDirtyData/dataTop",GET_DIRTY_DATA_TABLES:n.f+"/batch/batchDirtyData/getTables",GET_PUB_SYNC_TASK:n.f+"/batch/batchDirtyData/getPubSyncTask",GET_DIRTY_DATA_TABLE_INFO:n.f+"/batch/batchDirtyData/tableInfo",GET_DIRTY_TABLE_OVERVIEW:n.f+"/batch/batchDirtyData/dataOverview",COUNT_DIRTY_DATA:n.f+"/batch/batchDirtyData/countInfo",GET_DIRTY_DATA_ANALYTICS:n.f+"/batch/batchDirtyData/reason",APPLY_LIST:n.f+"/batch/batchApply/pageQuery",APPLY_SOURCE:n.f+"/batch/batchApply/apply",APPLY_CANCEL:n.f+"/batch/batchApply/cancel",REVOKE_PERMISSION:n.f+"/batch/batchApply/revoke",APPLY_HANDLE:n.f+"/batch/batchApply/getRelateTask",ADD_MARK:n.f+"/batch/batchHiveTableCollect/collect",CANCEL_MARK:n.f+"/batch/batchHiveTableCollect/cancelCollect",ApplY_REPLY:n.f+"/batch/batchApply/reply",PROJECT_TABLE_COUNT:n.f+"/batch/batchHiveTableCount/tableCount",PROJECT_STORE_COUNT:n.f+"/batch/batchHiveTableCount/totalSize",PROJECT_STORE_TOP:n.f+"/batch/batchHiveTableCount/projectSizeTopOrder",PROJECT_TABLE_STORE_TOP:n.f+"/batch/batchHiveTableCount/tableSizeTopOrder",PROJECT_DATA_OVERVIEW:n.f+"/batch/batchHiveTableCount/dataHistory"}},"1I4j":function(e,t,a){"use strict";a("7Qib");var n=a("IHrQ"),r=(a("OZjc"),a("sVOr")),o=a("yGiC"),s=a("W95b"),c=a("hPfy"),i=function(e){return s.a.post(c.a.MASSAGE_QUERY,e)},u=function(e){return s.a.post(c.a.GET_MASSAGE_BY_ID,e)},l=function(e){return s.a.post(c.a.MASSAGE_MARK_AS_READ,e)},E=function(e){return s.a.post(c.a.MASSAGE_MARK_AS_ALL_READ,e)},_=function(e){return s.a.post(c.a.MASSAGE_DELETE,e)},T=a("wPMF"),d=a("vB4/"),f=(a("zbcj"),a("PVY6")),p={MASSAGE_QUERY:f.f+"/common/notifyRecord/pageQuery",GET_MASSAGE_BY_ID:f.f+"/common/notifyRecord/getOne",MASSAGE_MARK_AS_READ:f.f+"/common/notifyRecord/tabRead",MASSAGE_MARK_AS_ALL_READ:f.f+"/common/notifyRecord/allRead",MASSAGE_DELETE:f.f+"/common/notifyRecord/delete"};t.a={checkRoot:function(e){return n.a.post(d.a.CHECKISROOT,e,{isSilent:!0})},getProjects:function(e,t){switch(e){case T.b.RDOS:return r.a.getProjects(t);default:return}},queryRole:function(e,t){switch(e){case T.b.DATA_QUALITY:return o.a.queryRole(t);case T.b.API:return n.a.post(d.a.DATAAPI_ROLE_QUERY,t);case T.b.LABEL:return n.a.post(d.a.DL_ROLE_QUERY,t);case T.b.RDOS:default:return r.a.getRoleList(t)}},updateRole:function(e,t){switch(e){case T.b.RDOS:return r.a.updateRole(t);case T.b.DATA_QUALITY:return o.a.updateRole(t);case T.b.API:return n.a.post(d.a.DATAAPI_ROLE_PERMISSION_ADD_OR_EDIT,t);case T.b.LABEL:return n.a.post(d.a.DL_ROLE_PERMISSION_ADD_OR_EDIT,t);default:return}},deleteRole:function(e,t){switch(e){case T.b.RDOS:return r.a.deleteRole(t);case T.b.DATA_QUALITY:return o.a.deleteRole(t);case T.b.API:return n.a.post(d.a.DATAAPI_REMOVE_ROLE,t);case T.b.LABEL:return n.a.post(d.a.DL_REMOVE_ROLE,t);default:return}},getRoleInfo:function(e,t){switch(e){case T.b.RDOS:return r.a.getRoleInfo(t);case T.b.DATA_QUALITY:return o.a.getRolePerission(t);case T.b.API:return n.a.post(d.a.DATAAPI_ROLE_PERMISSION,t);case T.b.LABEL:return n.a.post(d.a.DL_ROLE_PERMISSION,t);default:return}},getRoleTree:function(e,t){switch(e){case T.b.RDOS:return r.a.getRoleTree(t);case T.b.DATA_QUALITY:return o.a.getRolePerissions(t);case T.b.API:return n.a.post(d.a.DATAAPI_GET_ROLE_TREE,t);case T.b.LABEL:return n.a.post(d.a.DL_GET_ROLE_TREE,t);default:return}},getMessage:function(e,t){switch(e){case T.b.RDOS:return n.a.post(p.MASSAGE_QUERY,t);case T.b.DATA_QUALITY:return i(t);case T.b.API:return n.a.post(d.a.DATAAPI_MASSAGE_QUERY,t);case T.b.LABEL:return n.a.post(d.a.DL_MASSAGE_QUERY,t);default:return null}},getMsgById:function(e,t){switch(e){case T.b.RDOS:return n.a.post(p.GET_MASSAGE_BY_ID,t);case T.b.DATA_QUALITY:return u(t);case T.b.API:return n.a.post(d.a.DATAAPI_GET_MASSAGE_BY_ID,t);case T.b.LABEL:return n.a.post(d.a.DL_GET_MASSAGE_BY_ID,t);default:return null}},markAsRead:function(e,t){switch(e){case T.b.RDOS:return n.a.post(p.MASSAGE_MARK_AS_READ,t);case T.b.DATA_QUALITY:return l(t);case T.b.API:return n.a.post(d.a.DATAAPI_MASSAGE_MARK_AS_READ,t);case T.b.LABEL:return n.a.post(d.a.DL_MASSAGE_MARK_AS_READ,t);default:return null}},markAsAllRead:function(e,t){switch(e){case T.b.RDOS:return n.a.post(p.MASSAGE_MARK_AS_ALL_READ,t);case T.b.DATA_QUALITY:return E(t);case T.b.API:return n.a.post(d.a.DATAAPI_MASSAGE_MARK_AS_ALL_READ,t);case T.b.LABEL:return n.a.post(d.a.DL_MASSAGE_MARK_AS_ALL_READ,t);default:return null}},deleteMsgs:function(e,t){switch(e){case T.b.RDOS:return n.a.post(p.MASSAGE_DELETE,t);case T.b.DATA_QUALITY:return _(t);case T.b.API:return n.a.post(d.a.DATAAPI_MASSAGE_DELETE,t);case T.b.LABEL:return n.a.post(d.a.DL_MASSAGE_DELETE,t);default:return null}},queryUser:function(e,t){switch(e){case T.b.RDOS:return r.a.getProjectUsers(t);case T.b.DATA_QUALITY:return o.a.getUserPages(t);case T.b.API:return n.a.post(d.a.DATAAPI_QUERY_USER,t);case T.b.LABEL:return n.a.post(d.a.DL_QUERY_USER,t);default:return}},loadUsersNotInProject:function(e,t){switch(e){case T.b.RDOS:return n.a.post(d.a.RDOS_SEARCH_UIC_USERS,t);case T.b.DATA_QUALITY:return n.a.post(d.a.DQ_SEARCH_UIC_USERS,t);case T.b.LABEL:return n.a.post(d.a.DL_SEARCH_UIC_USERS,t);case T.b.API:return n.a.post(d.a.DATAAPI_SEARCH_UIC_USERS,t);default:return}},addRoleUser:function(e,t){switch(e){case T.b.RDOS:return n.a.post(d.a.RDOS_ADD_USER,t);case T.b.DATA_QUALITY:return n.a.post(d.a.DQ_ADD_USER,t);case T.b.LABEL:return n.a.post(d.a.DL_ADD_USER,t);case T.b.API:return n.a.post(d.a.DATAAPI_ADD_USER,t);default:return}},removeProjectUser:function(e,t){switch(e){case T.b.RDOS:return r.a.removeProjectUser(t);case T.b.DATA_QUALITY:return o.a.delUser(t);case T.b.API:return n.a.post(d.a.DATAAPI_REMOVE_USER,t);case T.b.LABEL:return n.a.post(d.a.DL_REMOVE_USER,t);default:return}},updateUserRole:function(e,t){switch(e){case T.b.RDOS:return r.a.updateUserRole(t);case T.b.DATA_QUALITY:return o.a.updateUser(t);case T.b.API:return n.a.post(d.a.DATAAPI_UPDATE_USER_ROLE,t);case T.b.LABEL:return n.a.post(d.a.DL_UPDATE_USER_ROLE,t);default:return}}}},"2BCK":function(e,t,a){"use strict";var n={};a.d(n,"updateMsg",function(){return D});var r=a("QbLZ"),o=a.n(r),s=(a("FGdI"),a("Pbn2")),c=a.n(s),i=a("Yz+Y"),u=a.n(i),l=a("iCc5"),E=a.n(l),_=a("V7oC"),T=a.n(_),d=a("FYw3"),f=a.n(d),p=a("mRg0"),A=a.n(p),m=a("sbe7"),h=a.n(m),S=(a("17x9"),a("/MKj")),R=a("fvjX"),b=a("dtw8"),g=(a("7Qib"),a("s9ml")),O=(a("K84j"),a("d+5I"));function D(e){return{type:O.a.UPDATE_MSG,data:e}}var C,L=a("pLPX"),I=(a("rHgN"),Object(S.b)(function(e){return{user:e.user,apps:e.apps,routing:e.routing,msgList:e.msgList}},function(e){return Object(R.b)(n,e)})(C=function(e){function t(){return E()(this,t),f()(this,(t.__proto__||u()(t)).apply(this,arguments))}return A()(t,e),T()(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=(e.user,e.apps),a=e.children,n=e.msgList,r=e.updateMsg,s=h.a.createElement(b.c,{to:"/message"},h.a.createElement(L.b,null,h.a.createElement(c.a,{type:"message"})),h.a.createElement(L.d,null,"消息中心")),i=a?h.a.cloneElement(a,{msgList:n,updateMsg:r,apps:t}):h.a.createElement(g.a,null);return h.a.createElement("div",{className:"message"},h.a.createElement(L.c,o()({logo:s,menuItems:[]},this.props)),h.a.createElement("div",{className:"container"},i))}}]),t}(m.Component))||C);t.a=I},"2FT0":function(e,t,a){"use strict";a.d(t,"b",function(){return _}),a.d(t,"a",function(){return T}),a.d(t,"c",function(){return d});var n=a("4d7F"),r=a.n(n),o=(a("tL+A"),a("QpBz")),s=a.n(o),c=(a("pjuD"),a("rR1Q")),i=a.n(c),u=a("dtw8"),l=(a("OZjc"),a("7Qib")),E=a("sVOr");function _(e){switch(e.status){case 500:case 502:case 504:i.a.error({message:title,description:"服务器出现了点问题"});case 402:case 200:return e;case 302:s.a.info("登录超时, 请重新登录！");case 413:i.a.error({message:"异常",description:e.message});default:return e}}function T(e){switch(e.code){case 1:return e;case 0:return E.a.openLogin(),r.a.reject(e);case 3:return 0===document.querySelectorAll(".ant-notification-notice").length&&i.a.error({message:"权限通知",description:e.message}),r.a.reject(e);case 16:u.g.push("/");default:return e.message&&i.a.error({message:"异常",description:e.message}),e}}function d(){var e=l.a.getCookie("project_id");e&&"undefined"!==e||(l.a.deleteCookie("project_id"),u.g.push("/"))}},"2Ul7":function(e,t,a){"use strict";a.d(t,"a",function(){return P});a("hr7U");var n=a("9xET"),r=a.n(n),o=(a("MaXC"),a("4IMT")),s=a.n(o),c=(a("fv9D"),a("ZPTe")),i=a.n(c),u=(a("tL+A"),a("QpBz")),l=a.n(u),E=a("Yz+Y"),_=a.n(E),T=a("iCc5"),d=a.n(T),f=a("V7oC"),p=a.n(f),A=a("FYw3"),m=a.n(A),h=a("mRg0"),S=a.n(h),R=a("sbe7"),b=a.n(R),g=a("7Qib"),O=a("CPzz"),D=a("1I4j"),C=a("ER3F"),L=a("wPMF"),I=a("YIQC"),P=function(e){function t(){var e,a,n,r;d()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=m()(this,(e=t.__proto__||_()(t)).call.apply(e,[this].concat(s))),n.state={app:g.a.getParameterByName("app")},n.goIndex=function(){n.props.router.go(-1)},n.submit=function(){var e=n,t=n.state.app;e.form.validateFieldsAndScroll(function(e,a){e||(a.roleType=1,D.a.updateRole(t,a).then(function(e){1===e.code&&(l.a.success("创建角色成功！"),n.goIndex())}))})},r=a,m()(n,r)}return S()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.state.app;return b.a.createElement("div",{className:"box-1"},b.a.createElement("div",{className:"box-card"},b.a.createElement("h1",{className:"card-title"},b.a.createElement(C.a,null)," 创建 ",Object(I.a)(t),"角色"),b.a.createElement("article",{className:"section"},b.a.createElement(O.a,{key:"add-role",ref:function(t){return e.form=t}}),b.a.createElement(r.a,null,b.a.createElement(i.a,L.d.labelCol),b.a.createElement(i.a,L.d.wrapperCol,b.a.createElement(s.a,{type:"primary",onClick:this.submit},"确认添加"),b.a.createElement(s.a,{style:{marginLeft:"20px"},onClick:this.goIndex},"取消"))))))}}]),t}(R.Component)},5012:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"e",function(){return u}),a.d(t,"f",function(){return l}),a.d(t,"d",function(){return E}),a.d(t,"c",function(){return _}),a.d(t,"b",function(){return T}),a.d(t,"i",function(){return d}),a.d(t,"g",function(){return f}),a.d(t,"h",function(){return p});a("pjuD");var n=a("rR1Q"),r=a.n(n),o=(a("4d7F"),a("P2sY")),s=a.n(o),c=a("LvDl");function i(){var e=c.debounce.apply(void 0,arguments);return function(t){return t.persist(),e(t)}}function u(e,t){for(var a=0;a<e.length;a+=1){if(e[a].id===t.id){e.splice(a,1);break}e[a].children&&u(e[a].children,t)}}function l(e,t){if(e.id!==parseInt(t.id,10)){if(e.children)for(var a=e.children,n=0;n<a.length;n+=1)l(a[n],t)}else e=s()(e,t)}function E(e,t){if(l(e,t),t.children)for(var a=t.children,n=0;n<a.length;n+=1)E(e,a[n])}function _(e){return"rdos"===e}function T(e){var t=[],a=[];if(!e)return"";for(var n=0;n<e.length;n++){var r=e[n];t.push({index:n,char:r});var o=t[0];if(t.length<2)"'"!=o.char&&'"'!=o.char&&"-"!=o.char&&(t=[]);else{var s=t[t.length-1];if("'"==o.char||'"'==o.char){if(s.char==o.char){t=[];continue}}else if("-"==o.char){if("-"!=t[1].char){t=[];continue}if("\n"==s.char){a.push({begin:o.index,end:s.index}),t=[];continue}if(n==e.length-1){a.push({begin:o.index,end:n});continue}}else t=[]}}return e=function(e,t,a){var n="",r=0;if(!a||a.length<1)return e;for(var o=0;o<a.length;o++){var s=a[o],c=s.begin;n=n+e.substring(r,c)+t,r=s.end+1,o==a.length-1&&(n+=e.substring(r))}return n}(e,"",a)}function d(e){if(!e)return e;e=e.trim(),Object(c.endsWith)(e,";")||(e+=";");for(var t=[],a=0,n=null,r=0;r<e.length;r++){var o=e[r];"'"==o||'"'==o?n=n==o?null:o:";"==o&&null==n&&(t.push(e.substring(a,r)),a=r+1)}return t}function f(e){var t=document.getElementById(e);t&&t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t&&t.scrollIntoView&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}function p(e,t){0===document.querySelectorAll(".ant-notification-notice").length&&r.a.error({message:e,description:t})}},"56ye":function(e,t,a){},"7Qib":function(e,t,a){"use strict";var n=a("FyfS"),r=a.n(n),o=a("gDS+"),s=a.n(o),c=a("wd/R"),i=a.n(c),u={pageWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},pageHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},checkExist:function(e){return void 0!==e&&null!==e},isMacOs:function(){return navigator.userAgent.indexOf("Macintosh")>-1},isWindows:function(){return navigator.userAgent.indexOf("Windows")>-1},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},getBase64:function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)},percent:function(e,t){return e&&e!==1/0?(e>1&&(e=1),t=t||2,t=Math.pow(10,t),Math.round(e*t*100)/t+"%"):"0%"},getCssText:function(e){var t="";for(var a in e)t+=a+":"+e[a]+";";return t},formatDateTime:function(e){return i.a.locale("zh-cn"),i()(e).format("YYYY-MM-DD HH:mm:ss")},formatDate:function(e){return i.a.locale("zh-cn"),i()(e).format("YYYY-MM-DD")},formatDateHours:function(e){return i.a.locale("zh-cn"),i()(e).format("YYYY-MM-DD HH:mm")},formatHours:function(e){return i.a.locale("zh-cn"),i()(e).format("HH:mm")},trim:function(e){return"string"==typeof e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},trimlr:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},getCookie:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},deleteCookie:function(e,t,a){var n=new Date;n.setDate(n.getDate()-1);t=t||document.domain,a=a||"/";document.cookie=e+"=; expires="+n+"; domain="+t+"; path="+a},deleteAllCookies:function(e,t){for(var a=document.cookie.split(";"),n=0;n<a.length;n++)a[n]&&this.deleteCookie(a[n].split("=")[0],t,e)},setCookie:function(e,t,a){var n="";if(a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3),n="; expires="+r.toUTCString()}document.cookie=e+"="+t+n+"; path=/"},convertBytes:function(e){if(e>1024){var t=(e/1024).toFixed(2);if(t>1024){var a=(t/1024).toFixed(2);return a>1024?(a/1024).toFixed(2)+" GB":a+" MB"}return t+" KB"}return e+" B"},toQfw:function(e){if(!e)return 0;return e=(e=e.toString?e.toString():e).replace(/(?=(?!(\b))(\d{3})+$)/g,",")},textOverflowExchange:function(e,t){return e&&e.length>t?e.substring(0,t)+"...":e},jsonFormat:function(e,t){try{var a=JSON.parse(e);return s()(a,null,t||2)}catch(e){return null}},sortByCompareFunctions:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];e.sort(function(e,t){var n=0,o=!0,s=!1,c=void 0;try{for(var i,u=r()(a);!(o=(i=u.next()).done);o=!0){if(0!=(n=(0,i.value)(e,t)))return n}}catch(e){s=!0,c=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw c}}return n})}};t.a=u},"7UKp":function(e,t,a){"use strict";var n=a("7Qib"),r=a("IHrQ"),o=a("OZjc"),s=a("vB4/"),c=APP_CONF.UIC_URL||"",i=APP_CONF.UIC_DOMAIN||"";t.a={logout:function(){r.a.post(s.a.LOGOUT).then(function(e){o.a.clear(),n.a.deleteCookie("dt_user_id",i,"/"),n.a.deleteCookie("dt_token",i,"/"),n.a.deleteCookie("dt_tenant_id",i,"/"),n.a.deleteCookie("dt_tenant_name",i,"/"),n.a.deleteCookie("dt_username",i,"/"),n.a.deleteCookie("dt_is_tenant_admin",i,"/"),n.a.deleteCookie("dt_is_tenant_creator",i,"/"),n.a.deleteCookie("project_id",i,"/"),window.location.href=c+"/#/login"})},getInitUser:function(){return this.getLoginedUser()},getLoginedUser:function(){var e={};return e.userName=n.a.getCookie("dt_username"),e.dtuicUserId=n.a.getCookie("dt_user_id"),e.isTenantAdmin="true"===n.a.getCookie("dt_is_tenant_admin"),e.isTenantCreator="true"===n.a.getCookie("dt_is_tenant_creator"),e}}},AVFO:function(e,t,a){"use strict";a.d(t,"a",function(){return U});a("nT0F");var n=a("MM9K"),r=a.n(n),o=(a("hr7U"),a("9xET")),s=a.n(o),c=(a("MaXC"),a("4IMT")),i=a.n(c),u=(a("fv9D"),a("ZPTe")),l=a.n(u),E=(a("tL+A"),a("QpBz")),_=a.n(E),T=a("Yz+Y"),d=a.n(T),f=a("iCc5"),p=a.n(f),A=a("V7oC"),m=a.n(A),h=a("FYw3"),S=a.n(h),R=a("mRg0"),b=a.n(R),g=a("sbe7"),O=a.n(g),D=a("LvDl"),C=a("7Qib"),L=a("1I4j"),I=a("wPMF"),P=a("ER3F"),v=a("YIQC"),y=a("CPzz"),U=function(e){function t(){var e,a,n,r;p()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=S()(this,(e=t.__proto__||d()(t)).call.apply(e,[this].concat(s))),n.state={roleInfo:{},loading:!1,app:C.a.getParameterByName("app")},n.goIndex=function(){n.props.router.go(-1)},n.submit=function(){var e=n;e.form.validateFieldsAndScroll(function(t,a){if(!t){var r=Object(D.assign)(n.state.roleInfo,a);L.a.updateRole(app,r).then(function(t){1===t.code&&(_.a.success("角色更新成功！"),e.goIndex())})}})},n.getRoleInfo=function(){var e=n,t=n.state.app,a=e.props.params;e.setState({loading:!0}),L.a.getRoleInfo(t,{roleId:a.roleId}).then(function(t){1===t.code&&e.setState({roleInfo:t.data,loading:!1})})},r=a,S()(n,r)}return b()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.getRoleInfo()}},{key:"render",value:function(){var e=this,t=this.state,a=t.app,n=t.roleInfo;return O.a.createElement("div",{className:"box-1"},O.a.createElement("div",{className:"box-card"},O.a.createElement("h1",{className:"card-title"},O.a.createElement(P.a,null)," 查看 ",Object(v.a)(a),"角色"),O.a.createElement(r.a,{tip:"Loading...",spinning:this.state.loading},O.a.createElement("article",{className:"section"},O.a.createElement(y.a,{roleInfo:n,ref:function(t){return e.form=t}}),O.a.createElement(s.a,null,O.a.createElement(l.a,I.d.labelCol),O.a.createElement(l.a,I.d.wrapperCol,O.a.createElement(i.a,{type:"primary",disabled:!0,onClick:this.submit},"确认更新"),O.a.createElement(i.a,{style:{marginLeft:"20px"},onClick:this.goIndex},"取消")))))))}}]),t}(g.Component)},CMun:function(e,t,a){"use strict";var n=a("zbcj"),r=a.n(n)()(["GET_USER","UPDATE_USER","GET_NOT_PROJECT_USERS","GET_PROJECT_USERS"],{prefix:"user/"});t.a=r},CPzz:function(e,t,a){"use strict";var n=a("QbLZ"),r=a.n(n),o=(a("cUip"),a("iJl9")),s=a.n(o),c=a("m1cH"),i=a.n(c),u=a("Yz+Y"),l=a.n(u),E=a("iCc5"),_=a.n(E),T=a("V7oC"),d=a.n(T),f=a("FYw3"),p=a.n(f),A=a("mRg0"),m=a.n(A),h=(a("ywA0"),a("sF4d")),S=a.n(h),R=(a("ek7I"),a("FAat")),b=a.n(R),g=(a("nTym"),a("qu0K")),O=a.n(g),D=a("sbe7"),C=a.n(D),L=a("7Qib"),I=a("wPMF"),P=a("1I4j"),v=O.a.Item,y=(b.a.Option,S.a.TreeNode),U=function(e){function t(){var e,a,n,r;_()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=p()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(s))),n.state={expandedKeys:[],autoExpandParent:!0,checkedKeys:[],roleTree:[]},n.onCheck=function(e){n.setState({checkedKeys:e},function(){n.props.form.setFieldsValue({permissionIds:e})})},n.getLeafNodes=function(e){var t=[].concat(i()(e));return function e(a){for(var n=0;n<a.length;n++){var r=a[n];if(r.children&&r.children.length>0){var o=t.indexOf(""+r.nodeId);o>-1&&t.splice(o,1),e(r.children)}}}(n.state.roleTree),t},n.renderTreeNodes=function(e){return e&&e.map(function(e){var t=e.bindData,a=""+e.nodeId;return e.children&&e.children.length>0?C.a.createElement(y,{key:a,dataRef:t,title:t.display},n.renderTreeNodes(e.children)):C.a.createElement(y,{key:a,dataRef:t,title:t.display})})},r=a,p()(n,r)}return m()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this,t=L.a.getParameterByName("app");P.a.getRoleTree(t).then(function(t){1===t.code&&e.setState({roleTree:t.data&&t.data.children||[]})})}},{key:"componentWillReceiveProps",value:function(e){if(e.roleInfo!==this.props.roleInfo){var t=e.roleInfo&&e.roleInfo.permissionIds||[];t=t&&t.map(function(e){return""+e}),this.onCheck(t)}}},{key:"render",value:function(){var e=this.state,t=e.roleTree,a=e.checkedKeys,n=this.props,o=n.roleInfo,c=n.form.getFieldDecorator;return C.a.createElement(O.a,null,C.a.createElement(v,r()({},I.d,{label:"角色名称",hasFeedback:!0}),c("roleName",{rules:[{required:!0,message:"角色名称不可为空！"}],initialValue:o&&o.roleName||""})(C.a.createElement(s.a,null))),C.a.createElement(v,r()({},I.d,{label:"角色描述"}),c("roleDesc",{rules:[],initialValue:o&&o.roleDesc||""})(C.a.createElement(s.a,{type:"textarea"}))),C.a.createElement(v,r()({},I.d,{label:"权限点",className:"dstree"}),c("permissionIds",{rules:[{required:!0,message:"请选择相应的角色权限！"}],initialValue:[]})(C.a.createElement(S.a,{style:{marginTop:"-10px"},checkable:!0,defaultExpandAll:!0,onCheck:this.onCheck,checkedKeys:a},this.renderTreeNodes(t)))))}}]),t}(D.Component),k=O.a.create()(U);t.a=k},E7pB:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a("Z8Mf");var n=a("j7zX"),r=a.n(n),o=a("sbe7"),s=a.n(o),c=(a("17x9"),a("dtw8"),a("7Qib"),a("nLvT"),a("sVOr"),a("yGiC"),r.a.TabPane);function i(e){var t=e.apps,a=e.content,n=e.onPaneChange,o=e.activeKey,i=t.filter(function(e){return e.enable&&"main"!==e.id}),u=i.length>0&&i.map(function(e){return!e.disableExt&&s.a.createElement(c,{tab:e.name,key:e.id,data:e},a)});return s.a.createElement("div",{className:"m-tabs"},i.length<2?a:s.a.createElement(r.a,{animated:!1,activeKey:o,onChange:n},u))}},ER3F:function(e,t,a){"use strict";a.d(t,"a",function(){return S});a("FGdI");var n=a("Pbn2"),r=a.n(n),o=a("P2sY"),s=a.n(o),c=a("Yz+Y"),i=a.n(c),u=a("iCc5"),l=a.n(u),E=a("V7oC"),_=a.n(E),T=a("FYw3"),d=a.n(T),f=a("mRg0"),p=a.n(f),A=a("sbe7"),m=a.n(A),h=a("dtw8"),S=function(e){function t(){var e,a,n,r;l()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=d()(this,(e=t.__proto__||i()(t)).call.apply(e,[this].concat(s))),n.go=function(){var e=n.props,t=e.url,a=e.history,r=e.autoClose;t?a?h.f.push(t):h.g.push(t):1==window.history.length?r&&window.close():h.g.go(-1)},r=a,d()(n,r)}return p()(t,e),_()(t,[{key:"getButtonView",value:function(){var e=this.props,t=(e.type,e.style),a=(e.size,{cursor:"pointer"}),n={cursor:"pointer",fontFamily:"anticon",fontSize:"18px",color:"rgb(148, 168, 198)",letterSpacing:"5px",position:"relative",top:"2px"};return t&&(a=s()(a,t),n=s()(n,t)),m.a.createElement(r.a,{style:n,type:"left-circle-o",onClick:this.go})}},{key:"render",value:function(){return this.getButtonView()}}]),t}(A.Component)},HmMx:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("7UKp"),r=a("CMun");function o(){var e=n.a.getInitUser();return{type:r.a.GET_USER,data:e}}},"HqU/":function(e,t,a){e.exports=[{id:"main",name:"首页",link:"index.html",filename:"index.html",target:"_self",enable:!0,apiBase:"/main"},{id:"rdos",name:"开发套件",filename:"ide.html",link:"/ide.html#",target:"_self",enable:!0,hasProject:!0,default:!0,apiBase:"/rdos",icon:"/public/main/img/icon_1.png",description:"一站式大数据开发平台，帮助企业快速完全数据中台搭建"},{id:"dataQuality",name:"数据质量",link:"dataQuality.html#/",filename:"dataQuality.html",target:"_self",enable:!0,apiBase:"/dq",icon:"/public/main/img/icon_2.png",description:"对过程数据和结果数据进行质量校验，帮助企业及时发现数据质量问题"},{id:"dataApi",name:"数据API",link:"dataApi.html#/",filename:"dataApi.html",target:"_self",enable:!0,apiBase:"/dataApi",icon:"/public/main/img/icon_3.png",description:"快速生成数据API、统一管理API服务，帮助企业提高数据开放效率"},{id:"dataLabel",name:"标签工厂",link:"dataLabel.html#/",filename:"dataLabel.html",target:"_self",enable:!1,apiBase:"/dataLabel",icon:"/public/main/img/icon_4.png",description:"快速生成规则标签，提供便捷、统一标签服务管理"},{id:"console",name:"控制台",link:"console.html#/",filename:"console.html",target:"_self",enable:!0,apiBase:"/console",icon:"/public/main/img/icon_5.png",description:"计算资源分配、多集群管理",needRoot:!0,disableExt:!0},{id:"map",name:"数据地图",link:"map.html#/",filename:"map.html",target:"_self",enable:!1,apiBase:"/map",description:"可视化的数据资产中心，帮助企业全盘掌控数据资产情况和数据的来源去向"}]},IHrQ:function(e,t,a){"use strict";var n=a("gDS+"),r=a.n(n),o=a("iCc5"),s=a.n(o),c=a("V7oC"),i=a.n(c),u=(a("bZMm"),a("wFDc")),l=a("5012"),E=a("4d7F"),_=a.n(E),T=(a("tL+A"),a("QpBz")),d=a.n(T),f=(a("dtw8"),a("7Qib"),a("OZjc"),a("7UKp"));function p(e){switch(e.status){case 200:return e;case 302:d.a.info("登录超时, 请重新登录！");default:return e}}function A(e){switch(e.code){case 1:return e;case 0:return f.a.logout(),_.a.reject(e);case 16:default:return e.message&&d.a.error(e.message,3),e}}var m=function(){function e(){s()(this,e)}return i()(e,[{key:"get",value:function(e,t){var a=t?this.build(e,t):e;return this.request(a,{method:"GET"})}},{key:"post",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={method:"POST"};return t&&(n.body=r()(t)),this.request(e,n,a)}},{key:"postAsFormData",value:function(e,t){var a={method:"POST"};return t&&(a.body=this.buildFormData(t)),this.request(e,a)}},{key:"postForm",value:function(e,t){var a={method:"POST"};return t&&(a.body=new FormData(t)),this.request(e,a)}},{key:"request",value:function(e,t,a){return u.a.show(),t.credentials="same-origin",fetch(e,t).then(p).then(function(e){return setTimeout(function(){u.a.hide()},300),e.json()}).then(A).catch(function(e){return a.isSilent?e:(u.a.hide(),Object(l.h)("请求异常","服务器可能出了点问题, 请稍后再试！"),e)})}},{key:"defaultHeader",value:function(){return{Accept:"*/*","Content-Type":"application/json"}}},{key:"build",value:function(e,t){var a=[];if(t)for(var n in t)n&&a.push(n+"="+encodeURIComponent(t[n]));return e+"?"+a.join("&")}},{key:"buildFormData",value:function(e){if(e){var t=new FormData;for(var a in e)a&&t.append(a,e[a]);return t}}}]),e}();t.a=new m},K84j:function(e,t,a){"use strict";var n,r=a("QbLZ"),o=a.n(r),s=a("Yz+Y"),c=a.n(s),i=a("iCc5"),u=a.n(i),l=a("V7oC"),E=a.n(l),_=a("FYw3"),T=a.n(_),d=a("mRg0"),f=a.n(d),p=a("sbe7"),A=a.n(p),m=a("/MKj"),h=a("pLPX"),S=Object(m.b)(function(e){return{user:e.user,apps:e.apps,routing:e.routing}})(n=function(e){function t(e){u()(this,t);var a=T()(this,(t.__proto__||c()(t)).call(this,e));return a.state={},a}return f()(t,e),E()(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.apps),a=A.a.createElement("span",null,A.a.createElement("img",{alt:"logo",style:{height:"20px",marginTop:"15px"},src:"public/main/img/logo.svg"}),A.a.createElement("span",{style:{paddingLeft:"10px",fontSize:"14px",color:"#ffffff",position:"absolute",left:"70px",top:0,letterSpacing:"1px"}},"DTinsight"));return A.a.createElement(h.c,o()({logo:a,menuItems:t},this.props))}}]),t}(p.Component))||n;t.a=S},NX2S:function(e,t,a){"use strict";a("FGdI");var n=a("Pbn2"),r=a.n(n),o=a("Yz+Y"),s=a.n(o),c=a("iCc5"),i=a.n(c),u=a("V7oC"),l=a.n(u),E=a("FYw3"),_=a.n(E),T=a("mRg0"),d=a.n(T),f=a("sbe7"),p=a.n(f),A=(a("17x9"),a("7Qib")),m=a("ER3F"),h=(a("wPMF"),a("1I4j")),S=function(e){function t(){var e,a,n,r;i()(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return a=n=_()(this,(e=t.__proto__||s()(t)).call.apply(e,[this].concat(c))),n.state={msgInfo:"",app:A.a.getParameterByName("app")},n.loadMsg=function(e){h.a.getMsgById(n.state.app,{notifyRecordId:e}).then(function(t){n.setState({msgInfo:t.data}),1!==t.data.readStatus&&n.markAsRead(e)})},n.markAsRead=function(e){var t=n.state.app;h.a.markAsRead(t,{notifyRecordIds:[e]})},r=a,_()(n,r)}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.router.params.msgId;this.loadMsg(e)}},{key:"render",value:function(){var e=this.state,t=e.msgInfo,a=e.app,n="dataApi"==this.props.router.location.query.app?p.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.content}}):p.a.createElement("p",null,t.content);return p.a.createElement("div",{className:"box-1"},p.a.createElement("div",{className:"box-card msg-box"},p.a.createElement("main",null,p.a.createElement("h1",{className:"card-title"},p.a.createElement(m.a,{history:!0,url:"message?app="+a})," 消息详情 ")),n,p.a.createElement("footer",null,p.a.createElement("span",null,p.a.createElement(r.a,{type:"notification"}),"发送于 ",A.a.formatDateTime(t.gmtCreate)))))}}]),t}(f.Component);t.a=S},OZjc:function(e,t,a){"use strict";var n=a("gDS+"),r=a.n(n),o=a("EJiy"),s=a.n(o),c={set:function(e,t){if(t){var a="object"===(void 0===t?"undefined":s()(t))?r()(t):t;window.localStorage[e]=a}else delete window.localStorage[e]},get:function(e){var t=window.localStorage[e]||"";return this.isJSONStr(t)?JSON.parse(t):t},isJSONStr:function(e){return"{"===e.charAt(0)&&"}"===e.charAt(e.length-1)||"["===e.charAt(0)&&"]"===e.charAt(e.length-1)},clear:function(){window.localStorage.clear()}};t.a=c},PVY6:function(e,t,a){"use strict";a.d(t,"g",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"e",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return c}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return u}),a.d(t,"l",function(){return l}),a.d(t,"k",function(){return E}),a.d(t,"i",function(){return _}),a.d(t,"j",function(){return T}),a.d(t,"h",function(){return d});var n="/uic/api",r="/api/rdos",o="/api/dq/service",s="/api/da/service",c="/api/tag/service",i="/api/console/service",u="/api/console",l={id:"rdos",name:"开发套件",filename:"ide.html",link:"/ide.html#",target:"_blank",enable:!0,hasProject:!0,default:!0,apiBase:"/rdos"},E={id:"dataQuality",name:"数据质量",link:"dataQuality.html#/",filename:"dataQuality.html",target:"_blank",enable:!0,apiBase:"/dq"},_={id:"dataApi",name:"API管理",link:"dataApi.html#/",filename:"dataApi.html",target:"_blank",enable:!0,apiBase:"/dataApi"},T={id:"dataLabel",name:"标签工厂",link:"dataLabel.html#/",filename:"dataLabel.html",target:"_blank",enable:!0,apiBase:"/tag"},d={id:"console",name:"控制台",link:"console.html#/",filename:"console.html",target:"_blank",enable:!1,apiBase:"/console",needRoot:!0,disableExt:!0}},RnhZ:function(e,t,a){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error('Cannot find module "'+e+'".');throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="RnhZ"},TCqc:function(e,t,a){"use strict";var n=a("7Qib"),r=a("W95b"),o=a("OZjc"),s=a("hPfy"),c=APP_CONF.UIC_URL||"",i=APP_CONF.UIC_DOMAIN||"";t.a={logout:function(){var e=this;r.a.post(s.a.APP_LOGOUT).then(function(t){1===t.code&&e.openLogin()})},openLogin:function(){o.a.clear(),n.a.deleteCookie("dt_user_id",i,"/"),n.a.deleteCookie("dt_token",i,"/"),n.a.deleteCookie("dt_tenant_id",i,"/"),n.a.deleteCookie("dt_tenant_name",i,"/"),n.a.deleteCookie("dt_username",i,"/"),n.a.deleteCookie("dt_is_tenant_admin",i,"/"),n.a.deleteCookie("dt_is_tenant_creator",i,"/"),n.a.deleteCookie("project_id",i,"/"),window.location.href=c+"/#/login"},getLoginedUser:function(){return r.a.post(s.a.DQ_GET_USER_BY_ID)},getUserList:function(){return r.a.post(s.a.DQ_GET_USER_LIST)}}},UopC:function(e,t,a){"use strict";var n,r=a("QbLZ"),o=a.n(r),s=(a("FGdI"),a("Pbn2")),c=a.n(s),i=a("Yz+Y"),u=a.n(i),l=a("iCc5"),E=a.n(l),_=a("V7oC"),T=a.n(_),d=a("FYw3"),f=a.n(d),p=a("mRg0"),A=a.n(p),m=a("sbe7"),h=a.n(m),S=a("/MKj"),R=a("dtw8"),b=a("s9ml"),g=a("pLPX"),O=Object(S.b)(function(e){return{user:e.user,apps:e.apps,routing:e.routing}})(n=function(e){function t(){return E()(this,t),f()(this,(t.__proto__||u()(t)).apply(this,arguments))}return A()(t,e),T()(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=(e.user,e.apps),a=e.children,n=h.a.createElement(R.c,{to:"/admin/user"},h.a.createElement(g.b,null,h.a.createElement(c.a,{type:"setting"})),h.a.createElement(g.d,null,"系统管理")),r=a?h.a.cloneElement(a,{apps:t}):h.a.createElement(b.a,null);return h.a.createElement("div",{className:"message"},h.a.createElement(g.c,o()({logo:n,menuItems:[{id:"admin/user",name:"用户管理",link:"/admin/user",enable:!0},{id:"admin/role",name:"角色管理",link:"/admin/role",enable:!0}]},this.props)),h.a.createElement("div",{className:"container"},r))}}]),t}(m.Component))||n;t.a=O},W95b:function(e,t,a){"use strict";var n=a("gDS+"),r=a.n(n),o=a("iCc5"),s=a.n(o),c=a("V7oC"),i=a.n(c),u=(a("bZMm"),a("wFDc")),l=a("5012"),E=(a("pjuD"),a("rR1Q")),_=a.n(E),T=a("4d7F"),d=a.n(T),f=(a("tL+A"),a("QpBz")),p=a.n(f),A=(a("dtw8"),a("7Qib"),a("OZjc"),a("TCqc"));function m(e){switch(e.status){case 402:case 200:return e;case 302:p.a.info("登录超时, 请重新登录！");default:return e}}function h(e){switch(e.code){case 1:return e;case 0:return A.a.openLogin(),d.a.reject(e);case 3:return _.a.error({message:"权限通知",description:e.message}),d.a.reject(e);case 16:hashHistory.push("/");default:return e.message&&_.a.error({message:"错误",description:e.message}),e}}var S=function(){function e(){s()(this,e)}return i()(e,[{key:"get",value:function(e,t){var a=t?this.build(e,t):e;return this.request(a,{method:"GET"})}},{key:"post",value:function(e,t){var a={method:"POST"};return t&&(a.body=r()(t)),this.request(e,a)}},{key:"postAsFormData",value:function(e,t){var a={method:"POST"};return t&&(a.body=this.buildFormData(t)),this.request(e,a)}},{key:"postForm",value:function(e,t){var a={method:"POST"};return t&&(a.body=new FormData(t)),this.request(e,a)}},{key:"request",value:function(e,t){return u.a.show(),t.credentials="same-origin",fetch(e,t).then(m).then(function(e){return setTimeout(function(){u.a.hide()},300),e.json()}).then(h).catch(function(e){return u.a.hide(),Object(l.h)("请求异常","服务器可能出了点问题, 请稍后再试！"),e})}},{key:"defaultHeader",value:function(){return{Accept:"*/*","Content-Type":"application/json"}}},{key:"build",value:function(e,t){var a=[];if(t)for(var n in t)n&&a.push(n+"="+encodeURIComponent(t[n]));return e+"?"+a.join("&")}},{key:"buildFormData",value:function(e){if(e){var t=new FormData;for(var a in e)a&&t.append(a,e[a]);return t}}}]),e}();t.a=new S},X9CO:function(e,t,a){"use strict";a("fwXI");var n,r=a("CC+v"),o=a.n(r),s=a("FyfS"),c=a.n(s),i=(a("mN36"),a("N9UN")),u=a.n(i),l=(a("zmYW"),a("DtFj")),E=a.n(l),_=(a("MaXC"),a("4IMT")),T=a.n(_),d=(a("eOfH"),a("h0/l")),f=a.n(d),p=(a("tL+A"),a("QpBz")),A=a.n(p),m=a("QbLZ"),h=a.n(m),S=a("Yz+Y"),R=a.n(S),b=a("iCc5"),g=a.n(b),O=a("V7oC"),D=a.n(O),C=a("FYw3"),L=a.n(C),I=a("mRg0"),P=a.n(I),v=(a("cUip"),a("iJl9")),y=a.n(v),U=(a("ek7I"),a("FAat")),k=a.n(U),N=a("sbe7"),G=a.n(N),M=a("LvDl"),j=a("/MKj"),F=a("7Qib"),B=a("5012"),w=a("wPMF"),Y=a("1I4j"),K=a("E7pB"),J=(a("pJsf"),a("g4D/")),Q=a.n(J),x=(a("nTym"),a("qu0K")),H=a.n(x),V=H.a.Item,z=k.a.Option,q=Q.a.Group,W=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(e){case w.b.RDOS:return a.isTenantAdmin||n.isProjectOwner?t===w.c.PROJECT_OWNER||t===w.c.TENANT_OWVER:!n.isProjectAdmin||(t===w.c.PROJECT_OWNER||t===w.c.TENANT_OWVER||t===w.c.PROJECT_ADMIN);case w.b.API:case w.b.LABEL:case w.b.DATA_QUALITY:return a.isTenantAdmin?t===w.a.TENANT_OWVER:!n.isProjectAdmin||(t===w.a.TENANT_OWVER||t===w.a.ADMIN);default:return!1}},X=function(e){function t(){var e,a,n,r;g()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=L()(this,(e=t.__proto__||R()(t)).call.apply(e,[this].concat(s))),n.debounceSearch=Object(M.debounce)(n.props.onSearchUsers,300,{maxWait:2e3}),r=a,L()(n,r)}return P()(t,e),D()(t,[{key:"render",value:function(){var e=this.props,t=e.roles,a=e.form,n=e.notProjectUsers,r=e.app,o=e.user,s=e.myRoles,c=a.getFieldDecorator,i=n&&n.map(function(e){return G.a.createElement(z,{key:e.userId,value:""+e.userId,name:e.userName,optionFilterProp:"name"},e.userName)}),u=[],l=[];return t&&t.forEach(function(e){var t=W(r,e.roleValue,o,s);e.roleValue==w.a.VISITOR&&w.b.RDOS!=r?l.push(e.id):e.roleValue==w.c.VISITOR&&w.b.RDOS==r&&l.push(e.id),u.push({label:e.roleName,value:e.id,disabled:t})}),G.a.createElement(H.a,null,G.a.createElement(V,h()({},w.d,{label:"请选择用户",hasFeedback:!0}),c("targetUserIds",{rules:[{required:!0,message:"用户不可为空！"}]})(G.a.createElement(k.a,{mode:"multiple",showSearch:!0,showArrow:!0,style:{width:"100%"},notFoundContent:"当前用户不存在",placeholder:"请搜索并选择用户",optionFilterProp:"name",onSearch:this.debounceSearch},i))),G.a.createElement(V,h()({},w.d,{label:"角色设置"}),c("roleIds",{rules:[],initialValue:l})(G.a.createElement(q,{options:u,onChange:this.roleChange}))))}}]),t}(N.Component),Z=H.a.create()(X),$=H.a.Item,ee=Q.a.Group,te={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},ae=function(e){function t(){var e,a,n,r;g()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=L()(this,(e=t.__proto__||R()(t)).call.apply(e,[this].concat(s))),n.setFields=function(e){var t=e&&e.roles?e.roles.map(function(e){return e.id}):[];n.props.form.setFieldsValue({roleIds:t})},r=a,L()(n,r)}return P()(t,e),D()(t,[{key:"componentDidMount",value:function(){this.setFields(this.props.user)}},{key:"componentWillReceiveProps",value:function(e){this.props.user!==e.user&&this.setFields(e.user)}},{key:"render",value:function(){var e=this.props,t=e.roles,a=e.form,n=e.app,r=e.loginUser,o=e.myRoles,s=a.getFieldDecorator,c=[];return t&&t.forEach(function(e){var t=W(n,e.roleValue,r,o);c.push({label:e.roleName,value:e.id,disabled:t})}),G.a.createElement(H.a,null,G.a.createElement($,h()({},te,{label:"请选择用户角色"}),s("roleIds",{rules:[],initialValue:[]})(G.a.createElement(ee,{options:c}))))}}]),t}(N.Component),ne=H.a.create()(ae),re=k.a.Option,oe=y.a.Search,se=Object(j.b)(function(e){return{user:e.user}})(n=function(e){function t(){var e,a,n,r;g()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=L()(this,(e=t.__proto__||R()(t)).call.apply(e,[this].concat(s))),n.state={active:"",loading:"success",users:{data:[]},projects:[],selectedProject:null,notProjectUsers:[],roles:[],editTarget:"",currentPage:1,visible:!1,visibleEditRole:!1,searchName:void 0},n.loadData=function(){var e=n.state,t=e.active,a=e.selectedProject,r=e.currentPage,o=e.projects,s={pageSize:10,currentPage:r};0===o.length&&Object(B.c)(t)?n.getProjects(t):0!==o.length||Object(B.c)(app)?(s.projectId=a,n.loadUsers(t,s),n.loadRoles(t,Object(M.assign)(s,{currentPage:1}))):(n.loadUsers(t,s),n.loadRoles(t,Object(M.assign)(s,{currentPage:1}))),n.getOwnRole(t,s)},n.loadUsers=function(e,t){var a=n.state.searchName,r=n;n.setState({loading:!0});var o=h()({},t);o.name=a,Y.a.queryUser(e,o).then(function(e){r.setState({users:e.data,loading:!1})})},n.loadRoles=function(e,t){var a=n;Y.a.queryRole(e,t).then(function(e){a.setState({roles:e.data&&e.data.data})})},n.getProjects=function(e){var t=n;Y.a.getProjects(e).then(function(e){if(1===e.code){t.setState({projects:e.data});var a=F.a.getCookie("project_id")||e.data[0].id;n.setState({selectedProject:a},n.loadData)}})},n.loadUsersNotInProject=function(e){var t=n.state,a=t.active,r=t.selectedProject,o={userName:e};Object(B.c)(a)&&(o.projectId=r),Y.a.loadUsersNotInProject(a,o).then(function(e){n.setState({notProjectUsers:e.data})})},n.addMember=function(){for(var e=n,t=n.state,a=t.active,r=t.selectedProject,o=t.notProjectUsers,s=n.memberForm.props.form,c=s.getFieldsValue(),i=[],u=c.targetUserIds,l=function(e){var t=o.find(function(t){return""+t.userId===u[e]});t&&i.push(t)},E=0;E<u.length;E++)l(E);c.targetUsers=i,s.validateFields(function(t){t||(Object(B.c)(a)&&(c.projectId=r),Y.a.addRoleUser(a,c).then(function(t){1===t.code&&(e.setState({visible:!1},function(){s.resetFields()}),e.loadData(),A.a.success("添加成员成功!"))}))})},n.removeUserFromProject=function(e){var t=n,a=n.state,r=a.active,o=a.selectedProject,s={targetUserId:e.userId};Object(B.c)(r)&&(s.projectId=o),Y.a.removeProjectUser(r,s).then(function(e){1===e.code&&(t.loadData(),A.a.success("移出项目成员成功!"))})},n.updateMemberRole=function(e){var t=n,a=n.state,r=a.editTarget,o=a.active,s=a.selectedProject,c=t.eidtRoleForm.props.form.getFieldsValue();if(0!==c.roleIds.length){var i={targetUserId:r.userId,roleIds:c.roleIds};Object(B.c)(o)&&(i.projectId=s),Y.a.updateUserRole(o,i).then(function(e){1===e.code&&(A.a.success("设置成功！"),t.setState({visibleEditRole:!1}),t.loadData())})}else A.a.error("用户角色不可为空！")},n.onRoleIdsChange=function(e){n.setState({roleIds:e})},n.onCancel=function(){n.setState({visible:!1,visibleEditRole:!1,editTarget:"",notProjectUsers:[]},function(){n.eidtRoleForm&&n.eidtRoleForm.props.form.resetFields(),n.memberForm&&n.memberForm.props.form.resetFields()})},n.handleTableChange=function(e){n.setState({currentPage:e.current},n.loadData)},n.onPaneChange=function(e){n.setState({active:e,currentPage:1,roleIds:[],notProjectUsers:[],searchName:void 0},n.loadData)},n.onProjectSelect=function(e){n.setState({selectedProject:e,currentPage:1},n.loadData)},n.initAddMember=function(){n.props.params;n.loadUsersNotInProject(),n.setState({visible:!0})},n.initColums=function(){var e=n,t=n.state.active!==w.b.RDOS;return[{title:"账号",dataIndex:"user.userName",key:"account",render:function(t,a){return G.a.createElement("a",{onClick:function(){e.setState({visibleEditRole:!0,editTarget:a})}},t)}},{title:"邮箱",dataIndex:"user.email",key:"email"},{title:"手机号",dataIndex:"user.phoneNumber",key:"phoneNumber"},{title:"角色",width:120,dataIndex:"roles",key:"roles",render:function(e){return e.map(function(e){return e&&e.roleName}).join(",")}},{title:"加入时间",dataIndex:"gmtCreate",key:"gmtCreate",render:function(e){return F.a.formatDateTime(e)}},{title:"操作",dataIndex:"id",width:135,key:"id",render:function(a,n){return G.a.createElement("span",null,G.a.createElement("a",{onClick:function(){e.setState({visibleEditRole:!0,editTarget:n})}},"编辑角色"),t?"":G.a.createElement("span",null,G.a.createElement("span",{className:"ant-divider"}),G.a.createElement(f.a,{title:"确认将该成员从项目中移除？",okText:"确定",cancelText:"取消",onConfirm:function(){e.removeUserFromProject(n)}},G.a.createElement("a",null,"移出项目"))))}}]},n.searchProjectUser=function(e){n.setState({searchName:e},n.loadData)},n.searchNameChange=function(e){n.setState({searchName:e.target.value})},n.renderTitle=function(){var e=n.state,t=e.projects,a=e.active,r=e.selectedProject,o=e.searchName,s=t&&t.map(function(e){return G.a.createElement(re,{value:""+e.id,key:""+e.id},e.projectAlias)});return G.a.createElement("span",null,Object(B.c)(a)&&G.a.createElement("span",null,"选择项目：",G.a.createElement(k.a,{showSearch:!0,value:""+r,style:{width:200,marginRight:10},placeholder:"按项目名称搜索",optionFilterProp:"name",onSelect:n.onProjectSelect,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s)),G.a.createElement(oe,{placeholder:"请输入要搜索的账号",value:o,onChange:function(e){return n.searchNameChange(e)},style:{width:200,marginTop:10},onSearch:function(e){return n.searchProjectUser(e)}}))},n.renderPane=function(){n.props.apps;var e=n.state,t=e.users,a=e.loading,r=(e.active,G.a.createElement(T.a,{style:{marginTop:"10px"},type:"primary",onClick:n.initAddMember},"添加用户")),o={total:t.totalCount,defaultPageSize:10,current:t.currentPage};return G.a.createElement(u.a,{bordered:!1,noHovering:!0,title:n.renderTitle(),extra:r},G.a.createElement(E.a,{rowKey:"userId",className:"m-table",columns:n.initColums(),onChange:n.handleTableChange,loading:"loading"===a,pagination:o,dataSource:t.data||[]}))},r=a,L()(n,r)}return P()(t,e),D()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.apps;if(t&&t.length>0){var a=F.a.getParameterByName("app"),n=t.find(function(e){return e.default}),r=a||n.id;this.setState({active:r},function(){e.loadData()})}}},{key:"getOwnRole",value:function(e,t){var a=this,n=h()({},t,{currentPage:1,pageSize:1,name:this.props.user.userName});Y.a.queryUser(e,n).then(function(t){var n=t.data&&t.data.data[0].roles,r=!1,o=!1,s=!1,i=!0,u=!1,l=void 0;try{for(var E,_=c()(n);!(i=(E=_.next()).done);i=!0){var T=E.value.roleValue;switch(e){case w.b.RDOS:T==w.c.VISITOR?r=!0:T==w.c.PROJECT_ADMIN?o=!0:T==w.c.PROJECT_OWNER&&(s=!0);case w.b.API:case w.b.LABEL:case w.b.DATA_QUALITY:T==w.a.VISITOR?r=!0:T==w.a.ADMIN&&(o=!0)}}}catch(e){u=!0,l=e}finally{try{!i&&_.return&&_.return()}finally{if(u)throw l}}a.setState({myRoles:{isVisitor:r,isProjectAdmin:o,isProjectOwner:s}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.apps,n=t.user,r=this.state,s=r.visible,c=r.roles,i=r.notProjectUsers,u=r.visibleEditRole,l=r.editTarget,E=r.active,_=r.myRoles,T=this.renderPane();return G.a.createElement("div",{className:"user-admin"},G.a.createElement("h1",{className:"box-title"},"用户管理"),G.a.createElement("div",{className:"box-2 m-card",style:{height:"785px"}},G.a.createElement(K.a,{apps:a,activeKey:E,content:T,onPaneChange:this.onPaneChange})),G.a.createElement(o.a,{title:"添加用户",wrapClassName:"vertical-center-modal",visible:s,onOk:this.addMember,onCancel:this.onCancel},G.a.createElement(Z,{myRoles:_,wrappedComponentRef:function(t){e.memberForm=t},roles:c,app:E,user:n,onSearchUsers:this.loadUsersNotInProject,notProjectUsers:i})),G.a.createElement(o.a,{title:"设置用户角色",wrapClassName:"vertical-center-modal",visible:u,onOk:this.updateMemberRole,onCancel:this.onCancel,width:Math.min(1e3,Math.max(520,400+(c?60*c.length:0)))+"px"},G.a.createElement(ne,{myRoles:_,user:l,app:E,roles:c,loginUser:n,wrappedComponentRef:function(t){e.eidtRoleForm=t}})))}}]),t}(N.Component))||n;t.a=se},XLg0:function(e,t,a){"use strict";var n,r=a("Yz+Y"),o=a.n(r),s=a("iCc5"),c=a.n(s),i=a("V7oC"),u=a.n(i),l=a("FYw3"),E=a.n(l),_=a("mRg0"),T=a.n(_),d=a("sbe7"),f=a.n(d),p=a("17x9"),A=a.n(p),m=a("/MKj"),h=(a("7Qib"),a("s9ml")),S=a("HmMx"),R=a("CMun"),b=a("1I4j"),g={children:A.a.node},O=Object(m.b)(function(e){return{user:e.user}})(n=function(e){function t(){return c()(this,t),E()(this,(t.__proto__||o()(t)).apply(this,arguments))}return T()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.user,t=Object(S.a)();this.props.dispatch(t),this.checkRoot(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.user;this.props.user.dtuicUserId!=t.dtuicUserId&&t.dtuicUserId&&this.checkRoot(t)}},{key:"checkRoot",value:function(e){var t=this;e&&e.dtuicUserId&&b.a.checkRoot({userId:e.dtuicUserId}).then(function(e){1==e.code?t.props.dispatch({type:R.a.UPDATE_USER,data:{isRoot:!0}}):t.props.dispatch({type:R.a.UPDATE_USER,data:{isRoot:!1}})}).catch(function(e){})}},{key:"render",value:function(){return this.props.children||f.a.createElement(h.a,null)}}]),t}(d.Component))||n;O.propTypes=g,O.defaultProps={children:[]},t.a=O},YIQC:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var n=a("wPMF");function r(e){switch(e){case n.b.RDOS:return"开发套件";case n.b.DATA_QUALITY:return"数据质量";case n.b.API:return"API管理";case n.b.LABEL:return"标签管理";case n.b.DATA_MAP:return"数据地图";case n.b.META_DATA:return"元数据管理";default:return""}}function o(e,t){switch(e){case n.b.RDOS:return"-";case n.b.DATA_QUALITY:switch(t){case 1:return"监控任务运行失败";case 2:return"监控任务不通过";case 3:return"逐行校验任务取消";case 4:return"逐行校验任务失败";case 5:return"逐行校验任务成功";default:return"-"}case n.b.API:switch(t){case 0:return"通知管理员处理";case 1:return"申请API";case 2:return"申请通过";case 3:return"停用申请";case 4:return"创建API";case 5:return"禁用API";case 6:return"启用API";case 7:return"API出错";default:return"-"}case n.b.LABEL:switch(t){case 0:return"通知管理员处理";case 1:return"申请标签";case 2:return"申请通过";case 3:return"停用申请";case 4:return"创建标签";case 5:return"禁用标签";case 6:return"启用标签";case 7:return"标签出错";case 8:return"规则标签执行成功";case 9:return"规则标签执行失败";default:return"-"}default:return""}}},btJW:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a("QbLZ"),r=a.n(n),o=a("P2sY"),s=a.n(o),c=a("sbe7"),i=a.n(c),u={width:"8px",height:"8px",display:"inline-block",borderRadius:"50% 50%",background:"#43576a"};function l(e){var t=s()(u,e.style);return i.a.createElement("div",r()({},e,{style:t}),e.children||"")}},"d+5I":function(e,t,a){"use strict";var n=a("zbcj"),r=a.n(n)()(["UPDATE_MSG"],{prefix:"message/"});t.a=r},dVc0:function(e,t,a){"use strict";a("mN36");var n=a("N9UN"),r=a.n(n),o=(a("zmYW"),a("DtFj")),s=a.n(o),c=(a("MaXC"),a("4IMT")),i=a.n(c),u=(a("tL+A"),a("QpBz")),l=a.n(u),E=a("Yz+Y"),_=a.n(E),T=a("iCc5"),d=a.n(T),f=a("V7oC"),p=a.n(f),A=a("FYw3"),m=a.n(A),h=a("mRg0"),S=a.n(h),R=(a("Z8Mf"),a("j7zX")),b=a.n(R),g=(a("ek7I"),a("FAat")),O=a.n(g),D=a("sbe7"),C=a.n(D),L=(a("17x9"),a("dtw8")),I=a("7Qib"),P=a("5012"),v=a("1I4j"),y=a("E7pB"),U=O.a.Option,k=(b.a.TabPane,function(e){function t(){var e,a,n,o;d()(this,t);for(var c=arguments.length,u=Array(c),E=0;E<c;E++)u[E]=arguments[E];return a=n=m()(this,(e=t.__proto__||_()(t)).call.apply(e,[this].concat(u))),n.state={active:"",data:"",projects:[],selectedProject:"",currentPage:1,loading:"success"},n.loadData=function(){n.setState({loading:"loading"});var e=n.state,t=e.active,a=e.selectedProject,r=t,o={pageSize:10,currentPage:e.currentPage};!a&&Object(P.c)(r)?n.getProjects(r):a||Object(P.c)(r)?(o.projectId=a,n.loadRoles(r,o)):n.loadRoles(r,o)},n.loadRoles=function(e,t){v.a.queryRole(e,t).then(function(e){n.setState({data:e.data}),n.setState({loading:"success"})})},n.getProjects=function(e){var t=n;v.a.getProjects(e).then(function(e){if(1===e.code){t.setState({projects:e.data});var a=e.data[0].id;n.setState({selectedProject:a},n.loadData)}})},n.removeRole=function(e){var t=n.state.active;v.a.deleteRole(t,{roleId:e.id}).then(function(e){1===e.code&&(l.a.success("移除角色成功！"),n.loadData())})},n.onPaneChange=function(e){n.setState({active:e,currentPage:1},function(){n.props.router.replace("/admin/role?app="+e),n.loadData()})},n.handleTableChange=function(e,t){n.setState({currentPage:e.current},n.loadData)},n.onProjectSelect=function(e){n.setState({selectedProject:e,currentPage:1},n.loadData)},n.initColums=function(){var e=n.state.active;n.removeRole;return[{title:"角色名称",dataIndex:"roleName",key:"roleName",render:function(t,a){return C.a.createElement(L.c,{to:"/admin/role/edit/"+a.id+"?app="+e},t)},width:"150px"},{title:"角色描述",dataIndex:"roleDesc",key:"roleDesc"},{title:"最近修改时间",dataIndex:"gmtModified",key:"gmtModified",render:function(e){return I.a.formatDateTime(e)}},{title:"最近修改人",dataIndex:"person",key:"person",width:120,render:function(e){return e||"-"}},{title:"操作",dataIndex:"id",key:"id",width:80,render:function(t,a){return C.a.createElement("span",null,C.a.createElement(L.c,{to:"/admin/role/edit/"+t+"?app="+e},"查看"))}}]},n.renderPane=function(){var e=n.state,t=e.data,a=e.loading,o=e.projects,c=e.active,u=e.selectedProject,l=o&&o.map(function(e){return C.a.createElement(U,{value:e.id,key:e.id},e.projectAlias)}),E=Object(P.c)(c)&&C.a.createElement("span",{style:{marginTop:"10px"}},"选择项目：",C.a.createElement(O.a,{showSearch:!0,value:u,style:{width:200},placeholder:"按项目名称搜索",optionFilterProp:"name",onSelect:n.onProjectSelect},l)),_=(C.a.createElement(i.a,{style:{marginTop:"10px"},type:"primary"},C.a.createElement(L.c,{to:"/admin/role/add?app="+c},"新建角色")),{total:t&&t.totalCount,defaultPageSize:10,current:t.currentPage});return C.a.createElement(r.a,{bordered:!1,noHovering:!0,title:E,extra:""},C.a.createElement(s.a,{rowKey:"id",className:"m-table",columns:n.initColums(),loading:"loading"===a,dataSource:t?t.data:[],pagination:_,onChange:n.handleTableChange}))},o=a,m()(n,o)}return S()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props.apps;if(e&&e.length>0){var t=I.a.getParameterByName("app"),a=e.find(function(e){return e.default}),n=t||a.id;this.setState({active:n},this.loadData)}}},{key:"render",value:function(){var e=this.props.apps,t=this.renderPane();return C.a.createElement("div",{className:"user-admin"},C.a.createElement("h1",{className:"box-title"},"角色管理"),C.a.createElement("div",{className:"box-2 m-card",style:{height:"785px"}},C.a.createElement(y.a,{apps:e,activeKey:this.state.active,content:t,onPaneChange:this.onPaneChange})))}}]),t}(D.Component));t.a=k},f7r7:function(e,t,a){"use strict";var n=a("QbLZ"),r=a.n(n),o=a("Yz+Y"),s=a.n(o),c=a("iCc5"),i=a.n(c),u=a("V7oC"),l=a.n(u),E=a("FYw3"),_=a.n(E),T=a("mRg0"),d=a.n(T),f=a("sbe7"),p=a.n(f);t.a=function(e,t){return function(a){function n(e){i()(this,n);var t=_()(this,(n.__proto__||s()(n)).call(this,e));return t.Component=null,t.state={Component:n.Component,error:!1},t}return d()(n,a),l()(n,[{key:"componentWillMount",value:function(){var t=this;this.state.Component||e().then(function(e){n.Component=e,t.setState({Component:e})}).catch(function(e){t.setState({error:!0})})}},{key:"render",value:function(){return this.state.error?p.a.createElement("div",null,"\b",p.a.createElement("h2",{style:{textAlign:"center"}},"该模块更新中，请刷新重试。"),p.a.createElement("h4",{style:{textAlign:"center"}},"若该问题长时间存在，请联系管理员。")):this.state.Component?p.a.createElement(this.state.Component,r()({},this.props,t)):null}}]),n}(p.a.Component)}},hPfy:function(e,t,a){"use strict";var n=a("PVY6");t.a={DQ_ROLE_QUERY:n.e+"/role/pageQuery",DQ_ROLE_UPDATE:n.e+"/role/addOrUpdateRole",DQ_ROLE_DELETE:n.e+"/role/deleteRole",DQ_ROLE_PERMISSION_TREE:n.e+"/permission/tree",DQ_ROLE_PERMISSION:n.e+"/permission/getPermissionIdsByRoleId",DQ_GET_USER_BY_ID:n.e+"/user/getUserById",DQ_GET_USER_LIST:n.e+"/user/list",DQ_GET_USER_PAGES:n.e+"/user/pageQuery",DQ_USER_ROLE_ADD:n.e+"/roleUser/addRoleUser",DQ_USER_ROLE_DELETE:n.e+"/roleUser/remove",DQ_USER_ROLE_UPDATE:n.e+"/roleUser/updateUserRole",DQ_GET_USER_NOT_IN_PROJECT:n.e+"/user/listNotIn",MASSAGE_QUERY:n.e+"/notify/pageQuery",GET_MASSAGE_BY_ID:n.e+"/notify/getOne",MASSAGE_MARK_AS_READ:n.e+"/notify/tabRead",MASSAGE_MARK_AS_ALL_READ:n.e+"/notify/allRead",MASSAGE_DELETE:n.e+"/notify/delete",GET_TOP_RECORD:n.e+"/monitorRecord/countTopRecord",GET_ALARM_SUM:n.e+"/monitorRecord/sumAlarm",GET_ALARM_TREND:n.e+"/monitorRecord/monthAlarm",GET_DASHBOARD_USAGE:n.e+"/monitorRecord/usage",GET_DATA_SOURCES:n.e+"/dataSource/pageQuery",CHECK_CONNECTION:n.e+"/dataSource/checkConnection",ADD_DATA_SOURCES:n.e+"/dataSource/addSource",UPDATE_DATA_SOURCES:n.e+"/dataSource/updateSource",DELETE_DATA_SOURCES:n.e+"/dataSource/deleteSource",GET_DATA_SOURCES_LIST:n.e+"/dataSource/list",GET_DATA_SOURCES_TYPE:n.e+"/dataSource/getTypes",GET_DATA_SOURCES_TABLE:n.e+"/dataSource/tablelist",GET_DATA_SOURCES_COLUMN:n.e+"/dataSource/tablecolumn",GET_DATA_SOURCES_PART:n.e+"/dataSource/getPartValue",GET_DATA_SOURCES_PREVIEW:n.e+"/dataSource/preview",GET_CHECK_LIST:n.e+"/verify/pageQuery",GET_CHECK_DETAIL:n.e+"/verify/getOne",ADD_CHECK:n.e+"/verify/add",UPDATE_CHECK:n.e+"/verify/update",DELETE_CHECK:n.e+"/verify/deleteVerify",GET_CHECK_REPORT:n.e+"/verify/report",GET_CHECK_REPORT_TABLE:n.e+"/verify/reportTable",UPDATE_CHECK_ENV_PARAMS:n.e+"/verify/updateTaskParams",GET_MONITOR_LIST:n.e+"/monitor/pageQuery",ADD_MONITOR:n.e+"/monitor/add",UPDATE_MONITOR:n.e+"/monitor/update",GET_RULE_PART:n.e+"/monitor/getPart",CHANGE_MONITOR_STATUS:n.e+"/monitor/closeOrOpen",GET_MONITOR_DETAIL:n.e+"/monitor/detail",RULE_REMOTE_TRIGGER:n.e+"/monitor/remoteTrigger",EXECUTE_MONITOR:n.e+"/monitor/immediatelyExecuted",CHECK_MONITOR:n.e+"/monitor/checkMonitor",UPDATE_TASK_PARAMS:n.e+"/monitor/updateTaskParams",GET_REMOTE_TRIGGER:n.e+"/monitor/getRemoteTrigger",ADD_REMOTE_TRIGGER:n.e+"/monitor/addRemoteTriger",DEL_REMOTE_TRIGGER:n.e+"/monitor/deleteRemoteTrigger",GET_MONITOR_RULE:n.e+"/monitorRule/getRules",SAVE_MONITOR_RULE:n.e+"/monitorRule/save",DELETE_MONITOR_RULE:n.e+"/monitorRule/delete",GET_RULE_FUNCTION:n.e+"/function/getFunctions",GET_MONITOR_TABLE_COLUMN:n.e+"/monitor/tablecolumn",SUBSCRIBE_TABLE:n.e+"/subscribe/subscribe",UNSUBSCRIBE_TABLE:n.e+"/subscribe/unSubscribe",CHECK_SUBSCRIBE:n.e+"/subscribe/isSubscribe",GET_TASK_LIST:n.e+"/monitorRecord/pageQuery",GET_TASK_DETAIL:n.e+"/monitorRecord/detailReport",GET_TABLE_REPORT:n.e+"/monitorRecord/tableReport",GET_TASK_ALARM_NUM:n.e+"/monitorRecord/ruleMonth",DQ_GET_ALL_DICT:n.e+"/dict/allDicts"}},"lFj+":function(e,t,a){"use strict";var n=a("PVY6");t.a={UNLOCK_FILE:n.f+"/common/readWriteLock/getLock",SQL_FORMAT:n.f+"/batch/batchHiveTableInfo/sqlFormat",SAVE_TASK:n.f+"/batch/batchTask/addOrUpdateTask",FORCE_UPDATE_TASK:n.f+"/batch/batchTask/forceUpdate",GET_TASK:n.f+"/batch/batchTask/getTaskById",DELETE_TASK:n.f+"/batch/batchTask/deleteTask",QUERY_CATA_TASK:n.f+"/batch/batchTask/getLogsByTaskId",GET_TASKS_BY_PROJECT_ID:n.f+"/batch/batchTask/getTasksByProjectId",GET_TASKS_BY_NAME:n.f+"/batch/batchTask/getTasksByName",QUERY_TASKS:n.f+"/batch/batchTask/queryTasks",GET_TASK_CHILDREN:n.f+"/batch/batchTaskTask/displayOffSpring",GET_TASK_PARENTS:n.f+"/batch/batchTaskTask/displayForefathers",GET_TASK_LOG:n.f+"/batch/batchServerLog/getLogsByJobId",GLOBAL_SEARCH_TASK:n.f+"/batch/batchTask/globalSearch",GET_TASK_TYPES:n.f+"/batch/batchTask/getSupportJobTypes",PUBLISH_TASK:n.f+"/batch/batchTask/publishTask",GET_CUSTOM_TASK_PARAMS:n.f+"/batch/batchTask/getSysParams",FROZEN_TASK:n.f+"/batch/batchTask/frozenTask",TASK_VERSION_SCHEDULE_CONF:n.f+"/batch/batchTask/taskVersionScheduleConf ",UPDATE_TASK_OWNER:n.f+"/batch/batchTask/setOwnerUser ",SAVE_SCRIPT:n.f+"/batch/batchScript/addOrUpdateScript",FORCE_UPDATE_SCRIPT:n.f+"/batch/batchScript/forceUpdate",EXEC_SCRIPT:n.f+"/batch/batchScript/startSqlImmediately",STOP_SCRIPT:n.f+"/batch/batchScript/stopSqlImmediately",DELETE_SCRIPT:n.f+"/batch/batchScript/deleteScript",GET_SCRIPT_BY_ID:n.f+"/batch/batchScript/getScriptById",GET_SCRIPT_TYPES:n.f+"/batch/batchScript/getTypes",QUERY_JOBS:n.f+"/batch/batchJob/queryJobs",GET_JOB_BY_ID:n.f+"/batch/batchJob/getJobById",GET_JOB_GRAPH:n.f+"/batch/batchJob/getJobGraph",GET_JOB_STATISTICS:n.f+"/batch/batchJob/getStatusCount",GET_JOB_TOP_TIME:n.f+"/batch/batchJob/runTimeTopOrder",GET_JOB_TOP_ERROR:n.f+"/batch/batchJob/errorTopOrder",PATCH_TASK_DATA:n.f+"/batch/batchJob/fillTaskData",QUERY_PATCH_TASK_DATA:n.f+"/batch/batchJob/queryBugJobs",START_JOB:n.f+"/batch/batchJob/loadDataJob",STOP_JOB:n.f+"/batch/batchJob/stopJob",BATCH_STOP_JOBS:n.f+"/batch/batchJob/batchStopJobs",RESTART_AND_RESUME_JOB:n.f+"/batch/batchJob/restartJobAndResume",BATCH_RESTART_AND_RESUME_JOB:n.f+"/batch/batchJob/batchRestartJobAndResume",GET_FILL_DATA:n.f+"/batch/batchJob/getFillDataJobInfoPreview",GET_FILL_DATE:n.f+"/batch/batchJob/getFillDataBizDay",GET_FILL_DATA_DETAIL:n.f+"/batch/batchJob/getFillDataDetailInfo",GET_JOB_CHILDREN:n.f+"/batch/batchJobJob/displayOffSpring",GET_JOB_PARENT:n.f+"/batch/batchJobJob/displayForefathers",EXEC_SQL_IMMEDIATELY:n.f+"/batch/batchJob/startSqlImmediately",STOP_SQL_IMMEDIATELY:n.f+"/batch/batchJob/stopSqlImmediately",SELECT_SQL_RESULT_DATA:n.f+"/batch/batchHiveSelectSql/selectData",CHECK_IS_LOOP:n.f+"/batch/batchTask/checkIsLoop",GET_JOB_RUNTIME_INFO:n.f+"/batch/batchJob/jobDetail",QUERY_JOB_STATISTICS:n.f+"/batch/batchJob/queryJobsStatusStatistics",QUERY_JOB_SUB_NODES:n.f+"/batch/batchJob/getAllChildJobWithSameDay",STATISTICS_TASK_RUNTIME:n.f+"/batch/batchJob/statisticsTaskRecentInfo",STOP_FILL_DATA_JOBS:n.f+"/batch/batchJob/stopFillDataJobs",GET_SYNC_SCRIPT_TEMPLATE:n.f+"/batch/batchTask/getJsonTemplate",GET_RESTART_JOBS:n.f+"/batch/batchJob/getRestartChildJob",DOWNLOAD_SQL_RESULT:n.f+"/download/batch/batchDownload/downloadSqlExeResult",GET_OFFLINE_CATALOGUE:n.f+"/batch/batchCatalogue/getCatalogue",GET_OFFLINE_CATALOGUE_BY_LOCATION:n.f+"/batch/batchCatalogue/getLocation",ADD_OFFLINE_CATALOGUE:n.f+"/batch/batchCatalogue/addCatalogue",EDIT_OFFLINE_CATALOGUE:n.f+"/batch/batchCatalogue/updateCatalogue",ADD_OFFLINE_RESOURCE:n.f+"/upload/batch/batchResource/addResource",ADD_OFFLINE_TASK:n.f+"/batch/batchTask/addOrUpdateTask",GET_OFFLINE_TASK:n.f+"/batch/batchTask/getTaskById",GET_OFFLINE_TASK_BY_NAME:n.f+"/batch/batchTask/getDependencyTask",GET_OFFLINE_DATASOURCE:n.f+"/batch/batchDataSource/list",GET_OFFLINE_TABLELIST:n.f+"/batch/batchDataSource/tablelist",GET_OFFLINE_TABLECOLUMN:n.f+"/batch/batchDataSource/tablecolumn",GET_OFFLINE_COLUMNFORSYNCOPATE:n.f+"/batch/batchDataSource/columnForSyncopate",GET_OFFLINE_JOBDATA:n.f+"/batch/batchDataSource/trace",SAVE_OFFLINE_JOBDATA:n.f+"/batch/batchTask/addOrUpdateTask",ADD_OFFLINE_FUNCTION:n.f+"/batch/batchFunction/addFunction",DEL_OFFLINE_TASK:n.f+"/batch/batchTask/deleteTask",DEL_OFFLINE_FOLDER:n.f+"/batch/batchCatalogue/deleteCatalogue",DEL_OFFLINE_RES:n.f+"/batch/batchResource/deleteResource",DEL_OFFLINE_FN:n.f+"/batch/batchFunction/deleteFunction",MOVE_OFFLINE_FN:n.f+"/batch/batchFunction/moveFunction",GET_FN_DETAIL:n.f+"/batch/batchFunction/getFunction",GET_RES_DETAIL:n.f+"/batch/batchResource/getResourceById",DATA_PREVIEW:n.f+"/batch/batchDataSource/preview",GET_ALARM_LIST:n.f+"/batch/batchAlarm/getAlarmList",ADD_ALARM:n.f+"/batch/batchAlarm/createAlarm",UPDATE_ALARM:n.f+"/batch/batchAlarm/updateAlarm",CLOSE_ALARM:n.f+"/batch/batchAlarm/closeAlarm",OEPN_ALARM:n.f+"/batch/batchAlarm/startAlarm",DELETE_ALARM:n.f+"/batch/batchAlarm/deleteAlarm",GET_ALARM_RECORDS:n.f+"/batch/batchAlarmRecord/getAlarmRecordList",ALARM_STATISTICS:n.f+"/batch/batchAlarmRecord/countAlarm",SAVE_DATA_SOURCE:n.f+"/batch/batchDataSource/addOrUpdateSource",DELETE_DATA_SOURCE:n.f+"/batch/batchDataSource/deleteSource",QUERY_DATA_SOURCE:n.f+"/batch/batchDataSource/pageQuery",GET_DATA_SOURCE_BY_ID:n.f+"/batch/batchDataSource/getBySourceId",TEST_DATA_SOURCE_CONNECTION:n.f+"/batch/batchDataSource/checkConnection",GET_DATA_SOURCE_TYPES:n.f+"/batch/batchDataSource/getTypes",GET_HBASE_COLUMN_FAMILY:n.f+"/batch/batchDataSource/columnfamily",GET_TASK_LIST_OF_OFFLINE_SOURCE:n.f+"/batch/batchDataSource/getSourceTaskRef",GET_TABLE_CATALOGUE:n.f+"/batch/hiveCatalogue/getHiveCatalogue",ADD_TABLE_CATALOGUE:n.f+"/batch/hiveCatalogue/addCatalogue",DEL_TABLE_CATALOGUE:n.f+"/batch/hiveCatalogue/deleteCatalogue",UPDATE_TABLE_CATALOGUE:n.f+"/batch/hiveCatalogue/updateHiveCatalogue",ADD_TABLE_TO_CATALOGUE:n.f+"/batch/hiveTableCatalogue/updateHiveCatalogue",DEL_TABLE_IN_CATALOGUE:n.f+"/batch/hiveTableCatalogue/deleteTableCatalogue",SAVE_SYNC_CONFIG:n.f+"/batch/batchDataSourceMigration/saveConfig",GET_SYNC_HISTORY:n.f+"/batch/batchDataSourceMigration/list",GET_SYNC_DETAIL:n.f+"/batch/batchDataSourceMigration/getDetail",PUBLISH_SYNC_TASK:n.f+"/batch/batchDataSourceMigration/task",CHECK_SYNC_CONFIG:n.f+"/batch/batchDataSourceMigration/checkTransformConfig",PROJECT_TABLE_COUNT:n.f+"/batch/hiveTableCount/tableCount",PROJECT_STORE_COUNT:n.f+"/batch/hiveTableCount/totalSize",PROJECT_STORE_TOP:n.f+"/batch/hiveTableCount/projectSizeTopOrder",PROJECT_TABLE_STORE_TOP:n.f+"/batch/hiveTableCount/tableSizeTopOrder",PROJECT_DATA_OVERVIEW:n.f+"/batch/hiveTableCount/dataHistory"}},lSrH:function(e,t,a){"use strict";function n(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function r(e){e.prototype.shouldComponentUpdate=function(e,t){return!n(this.state,t)||!n(this.props,e)}}a.d(t,"a",function(){return r})},nLvT:function(e,t,a){},og7n:function(e,t,a){},pLPX:function(e,t,a){"use strict";a.d(t,"d",function(){return y}),a.d(t,"b",function(){return U}),a.d(t,"a",function(){return G}),a.d(t,"c",function(){return M});var n,r=a("Yz+Y"),o=a.n(r),s=a("iCc5"),c=a.n(s),i=a("V7oC"),u=a.n(i),l=a("FYw3"),E=a.n(l),_=a("mRg0"),T=a.n(_),d=(a("G851"),a("ZvzK")),f=a.n(d),p=(a("FGdI"),a("Pbn2")),A=a.n(p),m=(a("PFYH"),a("Jv8k")),h=a.n(m),S=a("CSPP"),R=a.n(S),b=a("sbe7"),g=a.n(b),O=a("dtw8"),D=a("9ObM"),C=a("lSrH"),L=a("7UKp"),I=(a("og7n"),R()(["\n    color: #ffffff;\n    margin-left: 10px;\n    font-size: 14px;\n"],["\n    color: #ffffff;\n    margin-left: 10px;\n    font-size: 14px;\n"])),P=R()(["\n    font-size: 18px;\n"],["\n    font-size: 18px;\n"]),v=APP_CONF.UIC_URL||"",y=D.a.span(I),U=D.a.span(P);function k(e,t){return e&&e.length>0?e.map(function(e){return e.enable&&(!e.needRoot||e.needRoot&&t)?g.a.createElement(h.a.Item,{key:e.id},g.a.createElement("a",{href:e.link,target:e.target},e.name)):""}):[]}function N(e){var t=e.activeKey,a=e.onClick,n=e.menuItems,r=e.user;return g.a.createElement("div",{className:"menu left"},g.a.createElement(h.a,{className:"my-menu",onClick:a,selectedKeys:[t],mode:"horizontal"},k(n,r.isRoot)))}function G(e){var t,a=e.onClick,n=e.settingMenus,r=e.user,o=e.apps,s=e.app,c=e.showHelpSite,i=e.helpUrl,u=!s||!s.disableExt,l=s?"?app="+(s&&s.id):"",E=g.a.createElement(h.a,{onClick:a},g.a.createElement(h.a.Item,{key:"ucenter"},g.a.createElement("a",{href:v},"用户中心")),g.a.createElement(h.a.Item,{key:"logout"},"退出登录")),_=g.a.createElement(h.a,null,g.a.createElement(h.a.Item,{key:"setting:1"},g.a.createElement("a",{href:"/admin/user"+l,target:"blank"},"用户管理")),g.a.createElement(h.a.Item,{key:"setting:2"},g.a.createElement("a",{href:"/admin/role"+l,target:"blank"},"角色管理")),(t=n)&&t.length>0?t.map(function(e){return e.enable?g.a.createElement(h.a.Item,{key:e.id},g.a.createElement(O.c,{to:e.link,target:e.target},e.name)):""}):[]),T=g.a.createElement(h.a,{selectedKeys:[""+(s&&s.id)]},k(o,r.isRoot));return g.a.createElement("div",{className:"menu right"},g.a.createElement("menu",{className:"menu-right"},c?g.a.createElement("span",{title:"帮助文档",className:"menu-item"},g.a.createElement("a",{href:i,target:"blank",style:{color:"#ffffff"}},g.a.createElement(A.a,{type:"question-circle-o"}))):null,g.a.createElement(f.a,{overlay:T,trigger:["click"]},g.a.createElement("span",{className:"menu-item"},g.a.createElement(A.a,{type:"home"}))),g.a.createElement("span",{className:"divide left"}),u&&g.a.createElement("a",{href:"/message"+l,target:"blank",style:{color:"#ffffff"}},g.a.createElement("span",{className:"menu-item"},g.a.createElement(A.a,{type:"message"}))),u&&g.a.createElement(f.a,{overlay:_,trigger:["click"]},g.a.createElement("span",{className:"menu-item"},g.a.createElement(A.a,{type:"setting"})," ")),g.a.createElement(f.a,{overlay:E,trigger:["click"]},g.a.createElement("div",{className:"user-info"},g.a.createElement("span",{className:"user-name",title:r&&r.userName},r&&r.userName||"未登录")))))}var M=Object(C.a)(n=function(e){function t(e){c()(this,t);var a=E()(this,(t.__proto__||o()(t)).call(this,e));return a.handleClick=function(e){e.item.props;var t=a.props.onMenuClick;a.setState({current:e.key}),t&&t(e)},a.clickUserMenu=function(e){"logout"===e.key&&L.a.logout()},a.updateSelected=function(){var e=a.props.menuItems,t=""+window.location.pathname+window.location.hash;if(e&&e.length>0){var n=e.find(function(e){return t.indexOf(e.id)>-1});n?a.setState({current:n.id}):a.setState({current:e[0].id})}},a.state={current:""},a}return T()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.updateSelected()}},{key:"componentWillReceiveProps",value:function(e){this.props.routing&&this.props.routing.locationBeforeTransitions.pathname!=e.routing.locationBeforeTransitions.pathname&&this.updateSelected()}},{key:"componentWillReceiveProps",value:function(e){this.props.routing!==e.routing&&this.updateSelected()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.logo,n=e.menuItems,r=e.settingMenus,o=e.apps,s=e.app,c=e.menuLeft,i=e.menuRight,u=e.logoWidth,l=this.state.current;return g.a.createElement("header",{className:"header"},g.a.createElement("div",{style:{width:u},className:"logo left txt-left"},a),c||g.a.createElement(N,{user:t,activeKey:l,menuItems:n,onClick:this.handleClick}),i||g.a.createElement(G,{activeKey:l,user:t,app:s,apps:o,onClick:this.clickUserMenu,settingMenus:r}))}}]),t}(b.Component))||n},rHgN:function(e,t,a){},s9ml:function(e,t,a){"use strict";a.d(t,"a",function(){return A});a("FGdI");var n=a("Pbn2"),r=a.n(n),o=a("Yz+Y"),s=a.n(o),c=a("iCc5"),i=a.n(c),u=a("V7oC"),l=a.n(u),E=a("FYw3"),_=a.n(E),T=a("mRg0"),d=a.n(T),f=a("sbe7"),p=a.n(f),A=function(e){function t(){return i()(this,t),_()(this,(t.__proto__||s()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"txt-center",style:{lineHeight:"200px"}},p.a.createElement("h1",null,p.a.createElement(r.a,{type:"frown-o"})," 亲，是不是走错地方了？"))}}]),t}(f.Component)},sVOr:function(e,t,a){"use strict";var n,r=a("OZjc"),o=a("7Qib"),s=a("PVY6"),c={ADD_ROLE_USRE:s.f+"/common/roleUser/addRoleUser",GET_NOT_PROJECT_USERS:s.f+"/common/project/getUsersNotInProject",LOGOUT:"/uic/api/v2/logout",APP_LOGOUT:s.f+"/login/out",UPDATE_USER_ROLE:s.f+"/common/roleUser/updateUserRole",GET_USER_BY_ID:s.f+"/common/user/getUserById",SEARCH_UIC_USERS:s.f+"/common/project/getUicUsersNotInProject",CREATE_PROJECT:s.f+"/common/project/createProject",REMOVE_USER_FROM_PROJECT:s.f+"/common/roleUser/removeRoleUserFromProject",ADD_PROJECT_USER:s.f+"/common/roleUser/addRoleUserNew",QUERY_PROJECT_LIST:s.f+"/common/project/queryProjects",GET_PROJECT_LIST:s.f+"/common/project/getProjects",GET_ALL_PROJECTS:s.f+"/common/project/getAllProjects",GET_USRE_PROJECTS:s.f+"/common/project/getProjectUserIn",GET_PROJECT_USERS:s.f+"/common/project/getProjectUsers",GET_PROJECT_BY_ID:s.f+"/common/project/getProjectByProjectId",UPDATE_PROJECT_INFO:s.f+"/common/project/updateProjectInfo",GET_PROJECT_INFO:s.f+"/common/project/getProjectInfo",GET_PROJECT_LIST_INFO:s.f+"/common/project/getProjectList",SET_STICKY:s.f+"/common/project/setSticky",DELETE_PROJECT:s.f+"/common/project/deleteProject",GET_ROLE_LIST:s.f+"/common/role/pageQuery",UPDATE_ROLE:s.f+"/common/role/addOrUpdateRole",DELETE_ROLE:s.f+"/common/role/deleteRole",GET_ROLE_TREE:s.f+"/common/permission/tree",GET_ROLE_INFO:s.f+"/common/permission/getPermissionIdsByRoleId",SQL_FORMAT:s.f+"/stream/streamTask/sqlFormat",SAVE_TASK:s.f+"/stream/streamTask/addOrUpdateTask",FORCE_UPDATE_TASK:s.f+"/stream/streamTask/forceUpdate",START_TASK:s.f+"/stream/streamTask/startTask",STOP_TASK:s.f+"/stream/streamTask/stopTask",GET_TASK:s.f+"/stream/streamTask/getTaskById",UPDATE_TASK_RES:s.f+"/stream/streamTask/updateTaskResource",GET_TASK_LIST:s.f+"/stream/streamTask/getTaskList",GET_TASKS_BY_STATUS:s.f+"/stream/streamTask/getTaskListByStatus",SEARCH_TASKS_BY_NAME:s.f+"/stream/streamTask/searchTaskByName",SORT_TASKS:s.f+"/stream/streamTask/changeTaskOrder",DELETE_TASK:s.f+"/stream/streamTask/deleteTask",TASK_STATISTICS:s.f+"/stream/streamTask/getStatusCount",GET_TASK_LOG:s.f+"/stream/streamServerLog/getLogsByTaskId",GLOBAL_SEARCH_TASK:s.f+"/stream/streamTask/globalSearch",GET_TASK_TYPES:s.f+"/stream/streamTask/getSupportJobTypes",PUBLISH_REALTIME_TASK:s.f+"/stream/streamTask/publishStreamTask",GET_TYPE_ORIGIN_DATA:s.f+"/stream/streamDataSource/listDataSourceBaseInfo",GET_TOPIC_TYPE:s.f+"/stream/streamDataSource/getKafkaTopics",GET_STREM_TABLE_TYPE:s.f+"/stream/streamDataSource/tablelist",GET_CREATE_TARGET_TABLE:s.f+"/batch/batchHiveTableInfo/getCreateTargetTableSql",GET_COLUMNS_OF_TABLE:s.f+"/batch/batchHiveTableInfo/simpleTableColumns",GET_ALL_FUNCTION_NAME:s.f+"/batch/batchFunction/getAllFunctionName",GET_CATALOGUE:s.f+"/stream/streamCatalogue/getCatalogue",UPDATE_CATALOGUE:s.f+"/stream/streamCatalogue/updateCatalogue",ADD_CATALOGUE:s.f+"/stream/streamCatalogue/addCatalogue",DELETE_CATALOGUE:s.f+"/stream/streamCatalogue/deleteCatalogue",GET_STREAM_CATALOGUE_BY_LOCATION:s.f+"/stream/streamCatalogue/getLocation",CREATE_FUNC:s.f+"/stream/streamFunction/addFunction",GET_FUNC:s.f+"/stream/streamFunction/getFunction",DELETE_FUNC:s.f+"/stream/streamFunction/deleteFunction",MOVE_FUNC:s.f+"/stream/streamFunction/moveFunction",GET_SYS_FUNC:s.f+"/stream/streamFunction/getSystemFunctions",GET_TABLE_LIST_BY_NAME:s.f+"/batch/batchCatalogue/getTableList",GET_RECOMMEND_TASK:s.f+"/batch/batchTask/recommendDependencyTask",UPLOAD_RES:s.f+"/upload/stream/streamResource/addResource",GET_RES_LIST:s.f+"/stream/streamResource/getResources",DELETE_RES:s.f+"/stream/streamResource/deleteResource",GET_RES_BY_ID:s.f+"/stream/streamResource/getResourceById",RENAME_RES:s.f+"/stream/streamResource/renameResource",GET_ALARM_LIST:s.f+"/stream/streamAlarm/getAlarmList",ADD_ALARM:s.f+"/stream/streamAlarm/createAlarm",UPDATE_ALARM:s.f+"/stream/streamAlarm/updateAlarm",CLOSE_ALARM:s.f+"/stream/streamAlarm/closeAlarm",OEPN_ALARM:s.f+"/stream/streamAlarm/startAlarm",DELETE_ALARM:s.f+"/stream/streamAlarm/deleteAlarm",GET_ALARM_RECORDS:s.f+"/stream/streamAlarmRecord/getAlarmRecordList",ALARM_STATISTICS:s.f+"/stream/streamAlarmRecord/countAlarm",GET_CHECK_POINT_RANGE:s.f+"/stream/streamTaskCheckpoint/getCheckpointTimeRange",GET_CHECK_POINTS:s.f+"/stream/streamTaskCheckpoint/getCheckpointList"},i=a("xis9"),u=a("lFj+"),l=a("YEIV"),E=a.n(l),_=(n={STREAM_SAVE_DATA_SOURCE:s.f+"/stream/streamDataSource/addOrUpdateSource",STREAM_TEST_DATA_SOURCE_CONNECTION:s.f+"/stream/streamDataSource/checkConnection",STREAM_DELETE_DATA_SOURCE:s.f+"/stream/streamDataSource/deleteSource",GET_STREAM_TABLELIST:s.f+"/stream/streamDataSource/tablelist",STREAM_QUERY_DATA_SOURCE:s.f+"/stream/streamDataSource/pageQuery"},E()(n,"GET_STREAM_TABLELIST",s.f+"/stream/streamDataSource/list"),E()(n,"GET_STREAM_TABLECOLUMN",s.f+"/stream/streamDataSource/tablecolumn"),E()(n,"GET_TASK_LIST_OF_STREAM_SOURCE",s.f+"/stream/streamDataSource/getSourceTaskRef"),n),T=a("/T6w"),d=APP_CONF.UIC_URL||"",f=APP_CONF.UIC_DOMAIN||"";t.a={sqlFormat:function(e){return i.a.post(u.a.SQL_FORMAT,e)},streamSqlFormat:function(e){return i.a.post(c.SQL_FORMAT,e)},unlockFile:function(e){return i.a.post(u.a.UNLOCK_FILE,e)},logout:function(){var e=this;i.a.post(c.APP_LOGOUT).then(function(t){1===t.code&&e.openLogin()})},openLogin:function(){r.a.clear(),o.a.deleteCookie("dt_user_id",f,"/"),o.a.deleteCookie("dt_token",f,"/"),o.a.deleteCookie("dt_tenant_id",f,"/"),o.a.deleteCookie("dt_tenant_name",f,"/"),o.a.deleteCookie("dt_username",f,"/"),o.a.deleteCookie("dt_is_tenant_admin",f,"/"),o.a.deleteCookie("dt_is_tenant_creator",f,"/"),o.a.deleteCookie("project_id",f,"/"),window.location.href=d+"/#/login"},addRoleUser:function(e){return i.a.post(c.ADD_ROLE_USRE,e)},getLoginedUser:function(){return i.a.post(c.GET_USER_BY_ID)},updateUserRole:function(e){return i.a.post(c.UPDATE_USER_ROLE,e)},getNotProjectUsers:function(e){return i.a.post(c.GET_NOT_PROJECT_USERS,e)},searchUICUsers:function(e){return i.a.post(c.SEARCH_UIC_USERS,e)},queryProjects:function(e){return i.a.post(c.QUERY_PROJECT_LIST,e)},getProjects:function(e){return i.a.post(c.GET_PROJECT_LIST,e)},getAllProjects:function(e){return i.a.post(c.GET_ALL_PROJECTS,e)},removeProjectUser:function(e){return i.a.post(c.REMOVE_USER_FROM_PROJECT,e)},addProjectUser:function(e){return i.a.post(c.ADD_PROJECT_USER,e)},getUserProjects:function(e){return i.a.post(c.GET_USRE_PROJECTS,e)},getProjectUsers:function(e){return i.a.post(c.GET_PROJECT_USERS,e)},getProjectByID:function(e){return i.a.post(c.GET_PROJECT_BY_ID,e)},upateProjectInfo:function(e){return i.a.post(c.UPDATE_PROJECT_INFO,e)},createProject:function(e){return i.a.post(c.CREATE_PROJECT,e)},getProjectInfo:function(e){return i.a.post(c.GET_PROJECT_INFO,e)},getProjectListInfo:function(e){return i.a.post(c.GET_PROJECT_LIST_INFO,e)},setSticky:function(e){return i.a.post(c.SET_STICKY,e)},deleteProject:function(e){return i.a.post(c.DELETE_PROJECT,e)},getRoleList:function(e){return i.a.post(c.GET_ROLE_LIST,e)},updateRole:function(e){return i.a.post(c.UPDATE_ROLE,e)},deleteRole:function(e){return i.a.post(c.DELETE_ROLE,e)},getRoleTree:function(e){return i.a.post(c.GET_ROLE_TREE,e)},getRoleInfo:function(e){return i.a.post(c.GET_ROLE_INFO,e)},saveTask:function(e){return i.a.post(c.SAVE_TASK,e)},forceUpdateTask:function(e){return i.a.post(c.FORCE_UPDATE_TASK,e)},startTask:function(e){return i.a.post(c.START_TASK,e)},stopTask:function(e){return i.a.post(c.STOP_TASK,e)},updateTaskRes:function(e){return i.a.post(c.UPDATE_TASK_RES,e)},getTasks:function(e){return i.a.post(c.GET_TASK_LIST,e)},getTask:function(e){return i.a.post(c.GET_TASK,e)},getTasksByStatus:function(e){return i.a.post(c.GET_TASKS_BY_STATUS,e)},searchTask:function(e){return i.a.post(c.SEARCH_TASKS_BY_NAME,e)},sortTask:function(e){return i.a.post(c.SORT_TASKS,e)},deleteTask:function(e){return i.a.post(c.DELETE_TASK,e)},taskStatistics:function(){return i.a.post(c.TASK_STATISTICS)},getTaskLogs:function(e){return i.a.post(c.GET_TASK_LOG,e)},searchRealtimeTask:function(e){return i.a.post(c.GLOBAL_SEARCH_TASK,e)},getRealtimeTaskTypes:function(e){return i.a.post(c.GET_TASK_TYPES,e)},getCheckPointRange:function(e){return i.a.post(c.GET_CHECK_POINT_RANGE,e)},getCheckPoints:function(e){return i.a.post(c.GET_CHECK_POINTS,e)},publishRealtimeTask:function(e){return i.a.post(c.PUBLISH_REALTIME_TASK,e)},taskVersionScheduleConf:function(e){return i.a.post(u.a.TASK_VERSION_SCHEDULE_CONF,e)},updateTaskOwner:function(e){return i.a.post(u.a.UPDATE_TASK_OWNER,e)},getTypeOriginData:function(e){return i.a.post(c.GET_TYPE_ORIGIN_DATA,e)},getTopicType:function(e){return i.a.post(c.GET_TOPIC_TYPE,e)},getStremTableType:function(e){return i.a.post(c.GET_STREM_TABLE_TYPE,e)},getCatalogues:function(e){return i.a.post(c.GET_CATALOGUE,e)},updateCatalogue:function(e){return i.a.post(c.UPDATE_CATALOGUE,e)},addCatalogue:function(e){return i.a.post(c.ADD_CATALOGUE,e)},deleteCatalogue:function(e){return i.a.post(c.DELETE_CATALOGUE,e)},locateStreamCataPosition:function(e){return i.a.post(c.GET_STREAM_CATALOGUE_BY_LOCATION,e)},getFunc:function(e){return i.a.post(c.GET_FUNC,e)},createFunc:function(e){return i.a.post(c.CREATE_FUNC,e)},delFunc:function(e){return i.a.post(c.DELETE_FUNC,e)},moveFunc:function(e){return i.a.post(c.MOVE_FUNC,e)},getSysFunc:function(e){return i.a.post(c.GET_SYS_FUNC,e)},uploadRes:function(e){return i.a.postAsFormData(c.UPLOAD_RES,e)},getResList:function(e){return i.a.post(c.GET_RES_LIST,e)},deleteRes:function(e){return i.a.post(c.DELETE_RES,e)},getRes:function(e){return i.a.post(c.GET_RES_BY_ID,e)},renameRes:function(e){return i.a.post(c.RENAME_RES,e)},getAlarmList:function(e){return i.a.post(c.GET_ALARM_LIST,e)},addAlarm:function(e){return i.a.post(c.ADD_ALARM,e)},updateAlarm:function(e){return i.a.post(c.UPDATE_ALARM,e)},closeAlarm:function(e){return i.a.post(c.CLOSE_ALARM,e)},openAlarm:function(e){return i.a.post(c.OEPN_ALARM,e)},deleteAlarm:function(e){return i.a.post(c.DELETE_ALARM,e)},getAlarmRecords:function(e){return i.a.post(c.GET_ALARM_RECORDS,e)},getAlarmStatistics:function(e){return i.a.post(c.ALARM_STATISTICS,e)},saveOfflineTask:function(e){return i.a.post(u.a.SAVE_TASK,e)},forceUpdateOfflineTask:function(e){return i.a.post(u.a.FORCE_UPDATE_TASK,e)},getOfflineTaskByID:function(e){return i.a.post(u.a.GET_TASK,e)},deleteOfflineTask:function(e){return i.a.post(u.a.DELETE_TASK,e)},queryOfflineCataTask:function(e){return i.a.post(u.a.QUERY_CATA_TASK,e)},getOfflineTasksByProject:function(e){return i.a.post(u.a.GET_TASKS_BY_PROJECT_ID,e)},getOfflineTasksByName:function(e){return i.a.post(u.a.GET_TASKS_BY_NAME,e)},queryOfflineTasks:function(e){return i.a.post(u.a.QUERY_TASKS,e)},getOfflineTaskLog:function(e){return i.a.post(u.a.GET_TASK_LOG,e)},searchOfflineTask:function(e){return i.a.post(u.a.GLOBAL_SEARCH_TASK,e)},getCustomParams:function(e){return i.a.post(u.a.GET_CUSTOM_TASK_PARAMS,e)},getSyncTemplate:function(e){return i.a.post(u.a.GET_SYNC_SCRIPT_TEMPLATE,e)},getCreateTargetTable:function(e){return i.a.post(c.GET_CREATE_TARGET_TABLE,e)},saveScript:function(e){return i.a.post(u.a.SAVE_SCRIPT,e)},forceUpdateOfflineScript:function(e){return i.a.post(u.a.FORCE_UPDATE_SCRIPT,e)},getScriptById:function(e){return i.a.post(u.a.GET_SCRIPT_BY_ID,e)},execScript:function(e){return i.a.post(u.a.EXEC_SCRIPT,e)},stopScript:function(e){return i.a.post(u.a.STOP_SCRIPT,e)},deleteScript:function(e){return i.a.post(u.a.DELETE_SCRIPT,e)},getScriptTypes:function(e){return i.a.post(u.a.GET_SCRIPT_TYPES,e)},queryJobs:function(e){return i.a.post(u.a.QUERY_JOBS,e)},publishOfflineTask:function(e){return i.a.post(u.a.PUBLISH_TASK,e)},getTaskTypes:function(e){return i.a.post(u.a.GET_TASK_TYPES,e)},getJobById:function(e){return i.a.post(u.a.GET_JOB_BY_ID,e)},getJobGraph:function(e){return i.a.post(u.a.GET_JOB_GRAPH,e)},getJobStatistics:function(e){return i.a.post(u.a.GET_JOB_STATISTICS,e)},getJobTopTime:function(e){return i.a.post(u.a.GET_JOB_TOP_TIME,e)},getJobTopError:function(e){return i.a.post(u.a.GET_JOB_TOP_ERROR,e)},patchTaskData:function(e){return i.a.post(u.a.PATCH_TASK_DATA,e)},getTaskChildren:function(e){return i.a.post(u.a.GET_TASK_CHILDREN,e)},getTaskParents:function(e){return i.a.post(u.a.GET_TASK_PARENTS,e)},getFillData:function(e){return i.a.post(u.a.GET_FILL_DATA,e)},getFillDate:function(e){return i.a.post(u.a.GET_FILL_DATE,e)},getFillDataDetail:function(e){return i.a.post(u.a.GET_FILL_DATA_DETAIL,e)},startJob:function(e){return i.a.post(u.a.START_JOB,e)},stopJob:function(e){return i.a.post(u.a.STOP_JOB,e)},restartAndResume:function(e){return i.a.post(u.a.RESTART_AND_RESUME_JOB,e)},batchStopJob:function(e){return i.a.post(u.a.BATCH_STOP_JOBS,e)},batchRestartAndResume:function(e){return i.a.post(u.a.BATCH_RESTART_AND_RESUME_JOB,e)},batchRestartJob:function(e){return i.a.post(u.a.BATCH_RESTART_JOB,e)},getJobChildren:function(e){return i.a.post(u.a.GET_JOB_CHILDREN,e)},getJobParents:function(e){return i.a.post(u.a.GET_JOB_PARENT,e)},execSQLImmediately:function(e){return i.a.post(u.a.EXEC_SQL_IMMEDIATELY,e)},stopSQLImmediately:function(e){return i.a.post(u.a.STOP_SQL_IMMEDIATELY,e)},selectSQLResultData:function(e){return i.a.post(u.a.SELECT_SQL_RESULT_DATA,e)},checkIsLoop:function(e){return i.a.post(u.a.CHECK_IS_LOOP,e)},getJobRuntimeInfo:function(e){return i.a.post(u.a.GET_JOB_RUNTIME_INFO,e)},queryJobStatics:function(e){return i.a.post(u.a.QUERY_JOB_STATISTICS,e)},queryJobSubNodes:function(e){return i.a.post(u.a.QUERY_JOB_SUB_NODES,e)},forzenTask:function(e){return i.a.post(u.a.FROZEN_TASK,e)},statisticsTaskRunTime:function(e){return i.a.post(u.a.STATISTICS_TASK_RUNTIME,e)},stopFillDataJobs:function(e){return i.a.post(u.a.STOP_FILL_DATA_JOBS,e)},getRestartJobs:function(e){return i.a.post(u.a.GET_RESTART_JOBS,e)},getOfflineCatalogue:function(e){return i.a.post(u.a.GET_OFFLINE_CATALOGUE,e)},addOfflineCatalogue:function(e){return i.a.post(u.a.ADD_OFFLINE_CATALOGUE,e)},editOfflineCatalogue:function(e){return i.a.post(u.a.EDIT_OFFLINE_CATALOGUE,e)},locateCataPosition:function(e){return i.a.post(u.a.GET_OFFLINE_CATALOGUE_BY_LOCATION,e)},addOfflineResource:function(e){return i.a.postAsFormData(u.a.ADD_OFFLINE_RESOURCE,e)},addOfflineTask:function(e){return i.a.post(u.a.ADD_OFFLINE_TASK,e)},getOfflineTaskDetail:function(e){return i.a.post(u.a.GET_OFFLINE_TASK,e)},getOfflineTaskByName:function(e){return i.a.post(u.a.GET_OFFLINE_TASK_BY_NAME,e)},getOfflineDataSource:function(e){return i.a.post(u.a.GET_OFFLINE_DATASOURCE,e)},getOfflineTableList:function(e){return i.a.post(u.a.GET_OFFLINE_TABLELIST,e)},getOfflineTableColumn:function(e){return i.a.post(u.a.GET_OFFLINE_TABLECOLUMN,e)},getOfflineColumnForSyncopate:function(e){return i.a.post(u.a.GET_OFFLINE_COLUMNFORSYNCOPATE,e)},getOfflineJobData:function(e){return i.a.post(u.a.GET_OFFLINE_JOBDATA,e)},saveOfflineJobData:function(e){return i.a.post(u.a.SAVE_OFFLINE_JOBDATA,e)},addOfflineFunction:function(e){return i.a.post(u.a.ADD_OFFLINE_FUNCTION,e)},getTableListByName:function(e){return i.a.post(c.GET_TABLE_LIST_BY_NAME,e)},getRecommentTask:function(e){return i.a.post(c.GET_RECOMMEND_TASK,e)},getColumnsOfTable:function(e){return i.a.post(c.GET_COLUMNS_OF_TABLE,e)},getAllFunction:function(e){return i.a.post(c.GET_ALL_FUNCTION_NAME,e)},delOfflineTask:function(e){return i.a.post(u.a.DEL_OFFLINE_TASK,e)},delOfflineFolder:function(e){return i.a.post(u.a.DEL_OFFLINE_FOLDER,e)},delOfflineRes:function(e){return i.a.post(u.a.DEL_OFFLINE_RES,e)},delOfflineFn:function(e){return i.a.post(u.a.DEL_OFFLINE_FN,e)},moveOfflineFn:function(e){return i.a.post(u.a.MOVE_OFFLINE_FN,e)},getOfflineFn:function(e){return i.a.post(u.a.GET_FN_DETAIL,e)},getOfflineRes:function(e){return i.a.post(u.a.GET_RES_DETAIL,e)},getDataPreview:function(e){return i.a.post(u.a.DATA_PREVIEW,e)},getHBaseColumnFamily:function(e){return i.a.post(u.a.GET_HBASE_COLUMN_FAMILY,e)},getOfflineAlarmList:function(e){return i.a.post(u.a.GET_ALARM_LIST,e)},addOfflineAlarm:function(e){return i.a.post(u.a.ADD_ALARM,e)},updateOfflineAlarm:function(e){return i.a.post(u.a.UPDATE_ALARM,e)},closeOfflineAlarm:function(e){return i.a.post(u.a.CLOSE_ALARM,e)},openOfflineAlarm:function(e){return i.a.post(u.a.OEPN_ALARM,e)},deleteOfflineAlarm:function(e){return i.a.post(u.a.DELETE_ALARM,e)},getOfflineAlarmRecords:function(e){return i.a.post(u.a.GET_ALARM_RECORDS,e)},getOfflineAlarmStatistics:function(e){return i.a.post(u.a.ALARM_STATISTICS,e)},addOrUpdateSource:function(e){return i.a.post(u.a.SAVE_DATA_SOURCE,e)},deleteDataSource:function(e){return i.a.post(u.a.DELETE_DATA_SOURCE,e)},queryDataSource:function(e){return i.a.post(u.a.QUERY_DATA_SOURCE,e)},getDataSourceById:function(e){return i.a.post(u.a.GET_DATA_SOURCE_BY_ID,e)},testDSConnection:function(e){return i.a.post(u.a.TEST_DATA_SOURCE_CONNECTION,e)},getDataSourceTypes:function(e){return i.a.post(u.a.GET_DATA_SOURCE_TYPES,e)},saveSyncConfig:function(e){return i.a.post(u.a.SAVE_SYNC_CONFIG,e)},getSyncHistoryList:function(e){return i.a.post(u.a.GET_SYNC_HISTORY,e)},getSyncDetail:function(e){return i.a.post(u.a.GET_SYNC_DETAIL,e)},publishSyncTask:function(e){return i.a.post(u.a.PUBLISH_SYNC_TASK,e)},checkSyncConfig:function(e){return i.a.post(u.a.CHECK_SYNC_CONFIG,e)},getTaskOfOfflineSource:function(e){return i.a.post(u.a.GET_TASK_LIST_OF_OFFLINE_SOURCE,e)},getTaskOfStreamSource:function(e){return i.a.post(_.GET_TASK_LIST_OF_STREAM_SOURCE,e)},createTable:function(e){return i.a.post(T.a.CREATE_TABLE,e)},searchTable:function(e){return i.a.post(T.a.SEARCH_TABLE,e)},getTable:function(e){return i.a.post(T.a.GET_TABLE,e)},getTablesByName:function(e){return i.a.post(T.a.GET_TABLES_BY_NAME,e)},previewTable:function(e){return i.a.post(T.a.PREVIEW_TABLE,e)},saveTable:function(e){return i.a.post(T.a.SAVE_TABLE,e)},searchLog:function(e){return i.a.post(T.a.SEARCH_LOG,e)},getProjectUsersData:function(e){return i.a.post(c.GET_PROJECT_USERS,e)},getCreateTableCode:function(e){return i.a.post(T.a.GET_CREATE_CODE,e)},dropTable:function(e){return i.a.post(T.a.DROP_TABLE,e)},createDdlTable:function(e){return i.a.post(T.a.DDL_CREATE_TABLE,e)},uploadTableData:function(e){return i.a.post(T.a.UPLOAD_TABLE_DATA,e)},checkTableExist:function(e){return i.a.post(T.a.CHECK_TABLE_EXIST,e)},checkHdfsLocExist:function(e){return i.a.post(T.a.CHECK_HDFSLOC_EXIST,e)},getTablePartition:function(e){return i.a.post(T.a.GET_TABLE_PARTITION,e)},checkTablePartition:function(e){return i.a.post(T.a.CHECK_TABLE_PARTITION,e)},importLocalData:function(e){return i.a.postAsFormData(T.a.UPLOAD_TABLE_DATA,e)},getTableRelTree:function(e){return i.a.post(T.a.GET_REL_TABLE_TREE,e)},getRelTableInfo:function(e){return i.a.post(T.a.GET_REL_TABLE_INFO,e)},getParentRelTable:function(e){return i.a.post(T.a.GET_PARENT_REL_TABLES,e)},getChildRelTables:function(e){return i.a.post(T.a.GET_CHILD_REL_TABLES,e)},getRelTableTasks:function(e){return i.a.post(T.a.GET_REL_TABLE_TASKS,e)},getDirtyDataTrend:function(e){return i.a.post(T.a.GET_DIRTY_DATA_TREND,e)},top30DirtyData:function(e){return i.a.post(T.a.TOP30_DIRTY_DATA,e)},getDirtyDataTables:function(e){return i.a.post(T.a.GET_DIRTY_DATA_TABLES,e)},getPubSyncTask:function(e){return i.a.post(T.a.GET_PUB_SYNC_TASK,e)},getDirtyDataTableInfo:function(e){return i.a.post(T.a.GET_DIRTY_DATA_TABLE_INFO,e)},getDirtyDataTableOverview:function(e){return i.a.post(T.a.GET_DIRTY_TABLE_OVERVIEW,e)},countDirtyData:function(e){return i.a.post(T.a.COUNT_DIRTY_DATA,e)},getDirtyDataAnalytics:function(e){return i.a.post(T.a.GET_DIRTY_DATA_ANALYTICS,e)},countProjectTable:function(e){return i.a.post(u.a.PROJECT_TABLE_COUNT,e)},countProjectStore:function(e){return i.a.post(u.a.PROJECT_STORE_COUNT,e)},getProjectStoreTop:function(e){return i.a.post(u.a.PROJECT_STORE_TOP,e)},getProjectTableStoreTop:function(e){return i.a.post(u.a.PROJECT_TABLE_STORE_TOP,e)},getProjectDataOverview:function(e){return i.a.post(u.a.PROJECT_DATA_OVERVIEW,e)},streamSaveDataSource:function(e){return i.a.post(_.STREAM_SAVE_DATA_SOURCE,e)},streamTestDataSourceConnection:function(e){return i.a.post(_.STREAM_TEST_DATA_SOURCE_CONNECTION,e)},streamDeleteDataSource:function(e){return i.a.post(_.STREAM_DELETE_DATA_SOURCE,e)},getStreamTablelist:function(e){return i.a.post(_.GET_STREAM_TABLELIST,e)},streamQueryDataSource:function(e){return i.a.post(_.STREAM_QUERY_DATA_SOURCE,e)},getStreamDataSource:function(e){return i.a.post(_.GET_STREAM_DATA_SOURCE,e)},getStreamTableColumn:function(e){return i.a.post(_.GET_STREAM_TABLECOLUMN,e)}}},udPp:function(e,t,a){"use strict";var n=a("zbcj"),r=a.n(n)()(["UPDATE_APP"],{prefix:"app/"});t.a=r},"vB4/":function(e,t,a){"use strict";a("zbcj");var n=a("PVY6");t.a={LOGOUT:n.g+"/v2/logout",CHECKISROOT:n.b+"/status/status",RDOS_SEARCH_UIC_USERS:n.f+"/common/project/getUicUsersNotInProject",RDOS_ADD_USER:n.f+"/common/roleUser/addRoleUserNew",DQ_SEARCH_UIC_USERS:n.e+"/user/getUicUsersNotInProject",DQ_ADD_USER:n.e+"/roleUser/addRoleUserNew",DATAAPI_MASSAGE_QUERY:n.c+"/notify/pageQuery",DATAAPI_GET_MASSAGE_BY_ID:n.c+"/notify/getOne",DATAAPI_MASSAGE_MARK_AS_READ:n.c+"/notify/tabRead",DATAAPI_MASSAGE_MARK_AS_ALL_READ:n.c+"/notify/allRead",DATAAPI_MASSAGE_DELETE:n.c+"/notify/delete",DATAAPI_QUERY_USER:n.c+"/user/pageQuery",DATAAPI_REMOVE_USER:n.c+"/roleUser/remove",DATAAPI_UPDATE_USER_ROLE:n.c+"/roleUser/updateUserRole",DATAAPI_ADD_USER:n.c+"/roleUser/addRoleUserNew",DATAAPI_ROLE_QUERY:n.c+"/role/pageQuery",DATAAPI_GET_ROLE_TREE:n.c+"/permission/tree",DATAAPI_ROLE_PERMISSION:n.c+"/permission/getPermissionIdsByRoleId",DATAAPI_ROLE_PERMISSION_ADD_OR_EDIT:n.c+"/role/addOrUpdateRole",DATAAPI_REMOVE_ROLE:n.c+"/role/deleteRole",DATAAPI_SEARCH_UIC_USERS:n.c+"/user/getUicUsersNotInProject",DL_MASSAGE_QUERY:n.d+"/notify/pageQuery",DL_GET_MASSAGE_BY_ID:n.d+"/notify/getOne",DL_MASSAGE_MARK_AS_READ:n.d+"/notify/tabRead",DL_MASSAGE_MARK_AS_ALL_READ:n.d+"/notify/allRead",DL_MASSAGE_DELETE:n.d+"/notify/delete",DL_QUERY_USER:n.d+"/user/pageQuery",DL_REMOVE_USER:n.d+"/roleUser/remove",DL_ADD_USER:n.d+"/roleUser/addRoleUserNew",DL_UPDATE_USER_ROLE:n.d+"/roleUser/updateUserRole",DL_ROLE_QUERY:n.d+"/role/pageQuery",DL_GET_ROLE_TREE:n.d+"/permission/tree",DL_ROLE_PERMISSION:n.d+"/permission/getPermissionIdsByRoleId",DL_ROLE_PERMISSION_ADD_OR_EDIT:n.d+"/role/addOrUpdateRole",DL_REMOVE_ROLE:n.d+"/role/deleteRole",DL_SEARCH_UIC_USERS:n.d+"/user/getUicUsersNotInProject"}},vFRS:function(e,t,a){"use strict";a("tL+A");var n=a("QpBz"),r=a.n(n),o=(a("zmYW"),a("DtFj")),s=a.n(o),c=(a("MaXC"),a("4IMT")),i=a.n(c),u=(a("pJsf"),a("g4D/")),l=a.n(u),E=a("Yz+Y"),_=a.n(E),T=a("iCc5"),d=a.n(T),f=a("V7oC"),p=a.n(f),A=a("FYw3"),m=a.n(A),h=a("mRg0"),S=a.n(h),R=(a("PFYH"),a("Jv8k")),b=a.n(R),g=(a("Z8Mf"),a("j7zX")),O=a.n(g),D=a("sbe7"),C=a.n(D),L=(a("17x9"),a("LvDl")),I=a("dtw8"),P=a("7Qib"),v=a("1I4j"),y=a("btJW");function U(e){var t="";switch(e.value){case 0:t="#EF5350";break;case 1:default:t="#d9d9d9"}return C.a.createElement(y.a,{style:{background:t}})}var k=a("YIQC"),N=O.a.TabPane,G=b.a.Item,M=function(e){function t(){var e,a,n,r;d()(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return a=n=m()(this,(e=t.__proto__||_()(t)).call.apply(e,[this].concat(c))),n.state={selectedApp:"",table:{data:[]},selectedRowKeys:[],selectedRows:[],selectedAll:!1},n.loadMsg=function(e){var t=n.props.msgList,a=n.state.selectedApp,r=Object(L.assign)({currentPage:t.currentPage,pageSize:10,mode:t.msgType},e);v.a.getMessage(a,r).then(function(e){n.setState({table:e.data})})},n.getUnreadRows=function(){var e=[];return n.state.selectedRows.forEach(function(t){0===t.readStatus&&e.push(t.id)}),e},n.resetRowKeys=function(){n.setState({selectedRowKeys:[],selectedRows:[],selectedAll:!1})},n.markAsRead=function(){var e=n.state,t=e.selectedApp,a=(e.selectedRowKeys,n.getUnreadRows());n.selectedNotNull(a)&&v.a.markAsRead(t,{notifyRecordIds:a}).then(function(e){1===e.code&&(n.resetRowKeys(),n.loadMsg())})},n.markAsAllRead=function(){var e=n.state,t=e.selectedApp,a=(e.selectedRowKeys,n.getUnreadRows());v.a.markAsAllRead(t,{notifyRecordIds:a}).then(function(e){1===e.code&&(n.resetRowKeys(),n.loadMsg())})},n.deleteMsg=function(){var e=n.state,t=e.selectedApp,a=e.selectedRowKeys;n.selectedNotNull(a)&&v.a.deleteMsgs(t,{notifyRecordIds:a}).then(function(e){1===e.code&&(n.loadMsg(),n.setState({selectedAll:!1,selectedRowKeys:[]}))})},n.handleTableChange=function(e,t){n.props.updateMsg({currentPage:e.current}),n.setState({selectedRowKeys:[],selectedAll:!1},n.loadMsg)},n.onPaneChange=function(e){n.props.updateMsg({currentPage:1,msgType:e}),n.loadMsg({mode:e})},n.onAppSelect=function(e){var t=e.key;n.props.updateMsg({currentPage:1}),n.setState({selectedApp:t,selectedRowKeys:[]},n.loadMsg)},n.onCheckAllChange=function(e){var t=[],a=[];if(e.target.checked)for(var r=n.state.table.data,o=0;o<r.length;o++){var s=r[o];t.push(s.id),a.push(s)}n.setState({selectedRowKeys:t,selectedRows:a,selectedAll:e.target.checked})},n.tableFooter=function(e){var t=n.props.msgList,a=n.state,r=a.selectedAll,o=a.table,s=!o||!o.data||0===o.data.length;return C.a.createElement("tr",{className:"ant-table-row  ant-table-row-level-0"},C.a.createElement("td",{style:{padding:"0 24px"}},C.a.createElement(l.a,{checked:r,disabled:s,onChange:n.onCheckAllChange})),C.a.createElement("td",null,C.a.createElement(i.a,{size:"small",type:"primary",disabled:s,onClick:n.deleteMsg},"删除"),"3"!==t.msgType&&C.a.createElement("span",null,C.a.createElement(i.a,{size:"small",type:"primary",disabled:s,onClick:n.markAsRead},"标为已读"),C.a.createElement(i.a,{disabled:s,size:"small",type:"primary",onClick:n.markAsAllRead},"全部已读"))))},n.renderPane=function(){var e=n.props,t=e.apps,a=e.msgList,r=n.state,o=r.table,c=r.selectedApp,i=r.selectedRowKeys,u=[];if(t&&t.length>0)for(var l=0;l<t.length;l++){var E=t[l];E.enable&&"main"!==E.id&&!E.disableExt&&u.push(C.a.createElement(G,{app:E,key:E.id},E.name))}var _=[{title:"标题与内容",dataIndex:"content",key:"content",render:function(e,t){return C.a.createElement(I.c,{to:"message/detail/"+t.id+"?app="+c},C.a.createElement(U,{value:t.readStatus})," ",e)}},{width:100,title:"状态",dataIndex:"readStatus",key:"readStatus",render:function(e){var t="未读";return 1===e&&(t="已读"),t}},{width:150,title:"发送时间",dataIndex:"gmtCreate",key:"gmtCreate",render:function(e){return P.a.formatDateTime(e)}},{width:120,title:"类型描述",dataIndex:"status",key:"status",render:function(e){return Object(k.b)(c,e)}}],T={selectedRowKeys:i,onChange:function(e,t){n.setState({selectedRowKeys:e,selectedRows:t})}},d={total:o&&o.totalCount,defaultPageSize:10,current:a.currentPage};return C.a.createElement("div",{className:"m-panel",style:{overflowY:"auto",height:"calc(100% - 80px)"}},C.a.createElement(b.a,{selectedKeys:[c],onSelect:n.onAppSelect,className:"left"},u),C.a.createElement("div",{className:"right panel-content"},C.a.createElement(s.a,{rowKey:"id",className:"m-table",columns:_,dataSource:o.data||[],rowSelection:T,onChange:n.handleTableChange,pagination:d,footer:n.tableFooter})))},r=a,m()(n,r)}return S()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props.apps,t=P.a.getParameterByName("app"),a=e.find(function(e){return e.default});a&&this.setState({selectedApp:t||a.id},this.loadMsg)}},{key:"selectedNotNull",value:function(e){return!(!e||e.length<=0)||(r.a.error("请选择要操作的消息！"),!1)}},{key:"render",value:function(){var e=this.props.msgList,t=this.renderPane();return C.a.createElement("div",{className:"box-1 m-tabs",style:{height:"calc(100% - 40px)"}},C.a.createElement(O.a,{animated:!1,activeKey:e.msgType,onChange:this.onPaneChange},C.a.createElement(N,{tab:"全部消息",key:"1"}," ",t," "),C.a.createElement(N,{tab:"未读消息",key:"2"}," ",t," "),C.a.createElement(N,{tab:"已读消息",key:"3"}," ",t," ")))}}]),t}(D.Component);t.a=M},wFDc:function(e,t,a){"use strict";var n=a("iCc5"),r=a.n(n),o=a("V7oC"),s=a.n(o),c=(a("56ye"),function(){function e(){r()(this,e),this.className="progress-bar",this.hodor=document.createElement("div"),this.hodor.className=this.className,this.img=document.createElement("div"),this.img.className="progress-img",this.img.innerHTML='<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                         width="30px" height="30px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">\n                        <path fill="#2491F7" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z">\n                        <animateTransform attributeType="xml"\n                          attributeName="transform"\n                          type="rotate"\n                          from="0 25 25"\n                          to="360 25 25"\n                          dur="0.6s"\n                          repeatCount="indefinite"/>\n                        </path>\n                      </svg>'}return s()(e,[{key:"show",value:function(){document.body.appendChild(this.hodor),document.body.appendChild(this.img)}},{key:"hide",value:function(){this.hasAdded()&&(document.body.removeChild(this.hodor),document.body.removeChild(this.img))}},{key:"hasAdded",value:function(){return document.getElementsByClassName(this.className).length>0}}]),e}());t.a=new c},wPMF:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return s});var n={MAIN:"main",RDOS:"rdos",DATA_QUALITY:"dataQuality",API:"dataApi",LABEL:"dataLabel",DATA_MAP:"map",META_DATA:"metaData"},r={TENANT_OWVER:1,PROJECT_OWNER:2,PROJECT_ADMIN:3,VISITOR:4,OPERATION:5,DEVELOPER:6,CUSTOM:7},o={TENANT_OWVER:1,ADMIN:2,VISITOR:3,DEVELOPER:4,CUSTOM:5},s={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}}},xis9:function(e,t,a){"use strict";var n=a("gDS+"),r=a.n(n),o=a("iCc5"),s=a.n(o),c=a("V7oC"),i=a.n(c),u=(a("bZMm"),a("wFDc")),l=a("5012"),E=a("2FT0"),_=function(){function e(){s()(this,e)}return i()(e,[{key:"get",value:function(e,t){var a=t?this.build(e,t):e;return this.request(a,{method:"GET"})}},{key:"post",value:function(e,t){var a={method:"POST"};return t&&(a.body=r()(t)),this.request(e,a)}},{key:"postAsFormData",value:function(e,t){var a={method:"POST"};return t&&(a.body=this.buildFormData(t)),this.request(e,a)}},{key:"postForm",value:function(e,t){var a={method:"POST"};return t&&(a.body=new FormData(t)),this.request(e,a)}},{key:"request",value:function(e,t){return u.a.show(),t.credentials="same-origin",fetch(e,t).then(E.b).then(function(e){return setTimeout(function(){u.a.hide()},300),e.json()}).then(E.a).catch(function(e){return u.a.hide(),Object(l.h)("请求异常","服务器可能出了点问题, 请稍后再试！"),e})}},{key:"defaultHeader",value:function(){return{Accept:"*/*","Content-Type":"application/json"}}},{key:"build",value:function(e,t){var a=[];if(t)for(var n in t)n&&a.push(n+"="+encodeURIComponent(t[n]));return e+"?"+a.join("&")}},{key:"buildFormData",value:function(e){if(e){var t=new FormData;for(var a in e)a&&t.append(a,e[a]);return t}}}]),e}();t.a=new _},yGiC:function(e,t,a){"use strict";a("7Qib");var n=a("W95b"),r=a("hPfy");t.a={queryRole:function(e){return n.a.post(r.a.DQ_ROLE_QUERY,e)},updateRole:function(e){return n.a.post(r.a.DQ_ROLE_UPDATE,e)},deleteRole:function(e){return n.a.post(r.a.DQ_ROLE_DELETE,e)},getRolePerissions:function(e){return n.a.post(r.a.DQ_ROLE_PERMISSION_TREE,e)},getRolePerission:function(e){return n.a.post(r.a.DQ_ROLE_PERMISSION,e)},getUserById:function(e){return n.a.post(r.a.DQ_GET_USER_BY_ID,e)},addUser:function(e){return n.a.post(r.a.DQ_USER_ROLE_ADD,e)},delUser:function(e){return n.a.post(r.a.DQ_USER_ROLE_DELETE,e)},updateUser:function(e){return n.a.post(r.a.DQ_USER_ROLE_UPDATE,e)},getUsers:function(e){return n.a.post(r.a.DQ_GET_USER_LIST,e)},getUserPages:function(e){return n.a.post(r.a.DQ_GET_USER_PAGES,e)},getUsersNotInProject:function(e){return n.a.post(r.a.DQ_GET_USER_NOT_IN_PROJECT,e)}}}}]);