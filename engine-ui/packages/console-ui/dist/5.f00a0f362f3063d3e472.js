(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"76p7":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("QbLZ"),a=n.n(r),i={OPEN_COMMAND_LINE:"editor.action.quickCommand",OPEN_FIND_TOOL:"actions.find",OPEN_REPLACE_TOOL:"editor.action.startFindReplaceAction"};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a()({},{find:"find",replace:"replace",commandPane:"commandPane"},t);return function(t){switch(t){case n.find:return void e.trigger("anyString",i.OPEN_FIND_TOOL);case n.replace:return void e.trigger("anyString",i.OPEN_REPLACE_TOOL);case n.commandPane:return void e.trigger("anyString",i.OPEN_COMMAND_LINE)}}}},"I/n2":function(e,t,n){"use strict";n("fwXI");var r=n("CC+v"),a=n.n(r),i=(n("zmYW"),n("DtFj")),o=n.n(i),l=(n("tL+A"),n("QpBz")),s=n.n(l),c=n("Yz+Y"),u=n.n(c),d=n("iCc5"),h=n.n(d),f=n("V7oC"),m=n.n(f),g=n("FYw3"),p=n.n(g),v=n("mRg0"),k=n.n(v),y=n("sbe7"),b=n.n(y),C=n("7Qib"),T=n("P2sY"),E=n.n(T),S=(n("u0fT"),n("QKiz"),n("VrN/"));n("/9rB"),n("bFCb");var w=function(e){function t(){var e,n,r,a;h()(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=p()(this,(e=t.__proto__||u()(t)).call.apply(e,[this].concat(o))),r.initUI=function(e,t){var n=r.props,a=n.onChange,i=n.readOnly,o=r.getCodeMirrorIns().MergeView(r.diffView,{value:e,origLeft:null,orig:t,lineNumbers:!0,mode:"text/x-sql",highlightDifferences:!0,connect:null,collapseIdentical:!1,readOnly:i});o.edit.doc.on("change",function(t){a&&a(e,t.getValue())}),o.wrap.style.height="500px",r._self=o},a=n,p()(r,a)}return k()(t,e),m()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,n=e.compareTo;this.initUI(t,n)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=e.compareTo;e.tableRefresh&&(this._self.edit.doc.setValue(t),this._self.right.orig.doc.setValue(n)),t&&this.props.value!==t&&this._self.edit.doc.setValue(t),n&&this.props.compareTo!==n&&this._self.right.orig.doc.setValue(n)}},{key:"mergeViewHeight",value:function(e){function t(e){return e?e.getScrollInfo().height:0}return Math.max(t(e.leftOriginal()),t(e.editor()),t(e.rightOriginal()))}},{key:"resize",value:function(e){for(var t=this.mergeViewHeight(e);;){e.leftOriginal()&&e.leftOriginal().setSize(null,t),e.editor().setSize(null,t),e.rightOriginal()&&e.rightOriginal().setSize(null,t);var n=this.mergeViewHeight(e);if(n>=t)break;t=n}e.wrap.style.height=t+"px"}},{key:"getCodeMirrorIns",value:function(){return this._self||S}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,a="code-editor merge-text";a=n?a+" "+n:a;var i={position:"relative",borderTop:"1px solid #e9e9e9",marginTop:"20px"};return i=r?E()(i,r):i,b.a.createElement("div",{ref:function(t){e.diffView=t},className:a,style:i})}}]),t}(y.Component),F=n("djHj"),D=n("gDS+"),x=n.n(D),N=(n("93XW"),n("d1El")),M=n.n(N),R=(n("hr7U"),n("9xET")),O=n.n(R),_=(n("fv9D"),n("ZPTe")),P=n.n(_),L=(n("Z8Mf"),n("j7zX")),I=n.n(L),V=n("/MKj"),z=n("sVOr"),A=I.a.TabPane,B=function(e){function t(e){h()(this,t);var n=p()(this,(t.__proto__||u()(t)).call(this,e));return n.getvalue=function(e){n.setState({currentValue:e.currentValue||{},historyvalue:e.historyvalue||{},contrastResults:e.contrastResults||{}})},n.versionInfo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.attributes,a=n.upstreamTask,i=n.crosscycleDependence,o={color:"#f00"};return b.a.createElement(P.a,{span:12},b.a.createElement("div",{className:"title"},e),b.a.createElement("div",{className:"box-padding"},b.a.createElement("div",{className:"schedulingCycle"},b.a.createElement("div",{className:"sub-title",style:r?o:{}},"调度属性"),b.a.createElement("div",{className:"line"}),b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"调度状态 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.scheduleStatus)),b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"生效日期 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.effectiveDate)),b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"调度周期 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.schedulingCycle&&t.schedulingCycle.period)),t.schedulingCycle&&t.schedulingCycle.beginTime?b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"开始时间 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.schedulingCycle.beginTime)):"",t.schedulingCycle&&t.schedulingCycle.gapTime?b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"间隔时间 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.schedulingCycle.gapTime)):"",t.schedulingCycle&&t.schedulingCycle.endTime?b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"结束时间 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.schedulingCycle.endTime)):"",t.schedulingCycle&&t.schedulingCycle.selectTime?b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"选择时间 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.schedulingCycle.selectTime)):"",t.schedulingCycle&&t.schedulingCycle.specificTime?b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"6",className:"txt-left"},"具体时间 : "),b.a.createElement(P.a,{span:"18",className:"txt-left"},t.schedulingCycle.specificTime)):""),b.a.createElement("div",{className:"sub-title",style:a?o:{}},"任务间依赖"),b.a.createElement("div",{className:"line"}),b.a.createElement(O.a,null,b.a.createElement(P.a,{span:"24",className:"txt-left"},"上游任务 : "),b.a.createElement(M.a,{title:t.upstreamTask,overlayStyle:{fontSize:"14px"}},b.a.createElement(P.a,{span:"20",className:"word-break"},t.upstreamTask))),b.a.createElement("div",{className:"sub-title",style:i?o:{}},"跨周期依赖"),b.a.createElement("div",{className:"line"}),b.a.createElement(O.a,null,b.a.createElement(M.a,{title:t.crosscycleDependence,overlayStyle:{fontSize:"14px"}},b.a.createElement(P.a,{span:"20",className:"word-break"},t.crosscycleDependence)))))},n.state={currentValue:n.props.currentValue||{},historyvalue:n.props.historyvalue||{},contrastResults:n.props.contrastResults||{}},n}return k()(t,e),m()(t,[{key:"componentWillReceiveProps",value:function(e){e!=this.props&&this.getvalue(e)}},{key:"render",value:function(){var e=this.state,t=e.currentValue,n=e.historyvalue,r=e.contrastResults;return b.a.createElement(O.a,{gutter:16,className:"diff-params",style:{padding:"0 10px"}},this.versionInfo("当前版本",t,r),this.versionInfo("历史版本",n))}}]),t}(b.a.Component),q=function(e){function t(e){h()(this,t);var n=p()(this,(t.__proto__||u()(t)).call(this,e));return n.getData=function(e){n.setState({historyvalue:{}}),z.a.taskVersionScheduleConf({versionId:e}).then(function(e){1==e.code?n.setState({historyvalue:e.data||{}},n.contrastData):n.setState({historyvalue:{}},n.contrastData)})},n.getRealData=function(){n.setState({historyvalue:n.props.currentRealTabData&&n.props.currentRealTabData.taskVersions[0]||{},tableRefresh:Math.random()},n.contrastData)},n.checkTime=function(e){var t="00";return e&&(t=e.toString().length>1?e:"0"+e),t},n.dealWeekDay=function(e){var t=void 0;switch(e.toString()){case"1":t="一";break;case"2":t="二";break;case"3":t="三";break;case"4":t="四";break;case"5":t="五";break;case"6":t="六";break;case"7":t="七"}return t?"星期"+t:" "},n.parseScheduleConf=function(e,t){var r={},a=e.scheduleConf&&JSON.parse(e.scheduleConf)||{};2==e.scheduleStatus?r.scheduleStatus="已冻结":1==e.scheduleStatus?r.scheduleStatus="未冻结":r.scheduleStatus="";var i=a.beginDate&&a.endDate?a.beginDate+" ~ "+a.endDate:"";r.effectiveDate=i;var o={};switch(a.periodType){case"0":o.period="分钟",o.gapTime=a.gapMin?a.gapMin+"分钟":" ",o.beginTime=n.checkTime(a.beginHour)+":"+n.checkTime(a.beginMin),o.endTime=n.checkTime(a.endHour)+":"+n.checkTime(a.endMin);break;case"1":o.period="小时",o.gapTime=a.gapHour?a.gapHour+"小时":" ",o.beginTime=n.checkTime(a.beginHour)+":"+n.checkTime(a.beginMin),o.endTime=n.checkTime(a.endHour)+":"+n.checkTime(a.endMin);break;case"2":o.period="天",o.specificTime=n.checkTime(a.hour)+":"+n.checkTime(a.min);break;case"3":o.period="周";var l=a.weekDay?a.weekDay.split(",").map(function(e){return n.dealWeekDay(e)}):[];o.selectTime=l?l.join(","):" ",o.specificTime=n.checkTime(a.hour)+":"+n.checkTime(a.min);break;case"4":o.period="月",o.selectTime=a.day?"每月"+a.day+"号":" ",o.specificTime=n.checkTime(a.hour)+":"+n.checkTime(a.min);break;default:o.period=""}if(r.schedulingCycle=o,1===t){var s=e.dependencyTaskNames&&e.dependencyTaskNames.join(" 、");r.upstreamTask=s}else{var c=(e.taskVOS||[]).map(function(e){return e.name});c=c.join(" 、"),r.upstreamTask=c}var u=void 0;switch(a.selfReliance){case 0:case!1:u="不依赖上一调度周期";break;case 1:case!0:u="自依赖，等待上一调度周期成功，才能继续运行";break;case 3:u="自依赖，等待上一调度周期结束，才能继续运行";break;case 2:u="等待下游任务的上一周期成功，才能继续运行";break;case 4:u="等待下游任务的上一周期结束，才能继续运行";break;default:u="不依赖上一调度周期"}return r.crosscycleDependence=u,r},n.contrastData=function(){var e=n.state,t=e.historyvalue,r=e.contrastResults;r.attributes=!1,r.upstreamTask=!1,r.crosscycleDependence=!1;var a=n.parseScheduleConf(t,1),i=n.parseScheduleConf(n.currentValue,2);["scheduleStatus","effectiveDate","schedulingCycle"].forEach(function(e){x()(a[e])==x()(i[e])||(r.attributes=!0)}),Boolean(a.upstreamTask)!=Boolean(i.upstreamTask)&&(r.upstreamTask=!0),a.crosscycleDependence!=a.crosscycleDependence&&(r.crosscycleDependence=!0),n.setState({currentParse:i,historyParse:a,contrastResults:r})},n.componentDidMount=function(){"realTimeTask"!=n.props.taskType?n.getData(n.versionId):n.getRealData()},n.callback=function(e){n.setState({tabKey:e,tableRefresh:Math.random()})},n.codeChange=function(e,t){n.props.setTaskParams(t)},n.state={historyvalue:{},historyParse:{},contrastResults:{attributes:!1,upstreamTask:!1,crosscycleDependence:!1},currentParse:{},tabKey:"realTimeTask"===n.props.taskType?"params":"config",tableRefresh:Math.random()},n.currentValue="realTimeTask"===n.props.taskType?n.props.currentRealTabData:n.props.currentTabData,n.versionId=n.props.diffParams&&n.props.diffParams.id,n}return k()(t,e),m()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.taskType||e.diffParams.id==this.props.diffParams.id?"realTimeTask"===this.props.taskType&&(this.getRealData(),this.currentValue=e.currentRealTabData):(e.diffParams.id&&(this.getData(e.diffParams.id),this.currentValue=e.currentTabData),this.setState({tabKey:"config"}))}},{key:"render",value:function(){var e=this.props.taskType,t=this.state,n=t.contrastResults,r=t.historyParse,a=t.currentParse,i=t.historyvalue,o=t.tabKey,l=t.tableRefresh;return b.a.createElement("div",{className:"m-taksdetail",style:{marginTop:"5px"}},b.a.createElement(I.a,{onChange:this.callback,type:"card",activeKey:o},"realTimeTask"===e?"":b.a.createElement(A,{tab:"调度配置",key:"config"},b.a.createElement(B,{historyvalue:r,contrastResults:n,currentValue:a})),this.currentValue.taskType!==F.v.SYNC&&b.a.createElement(A,{tab:"环境参数",key:"params"},b.a.createElement(w,{readOnly:!0,compareTo:i&&i.taskParams||" ",value:this.currentValue&&this.currentValue.taskParams||" ",tableRefresh:l}))))}}]),t}(b.a.Component),H=Object(V.b)(function(e){var t=e.offlineTask.workbench,n=t.currentTab,r=t.tabs,a=e.realtimeTask.currentPage;return{currentTabData:r.filter(function(e){return e.id===n})[0],currentRealTabData:a}})(q);n.d(t,"a",function(){return W});var W=function(e){function t(e){h()(this,t);var n=p()(this,(t.__proto__||u()(t)).call(this,e));return n.state={showDiff:!1,campareTo:"",diffParams:{showDiffparams:!1,tableInfo:""}},n.diffCode=function(e){n.setState({showDiff:!0,campareTo:e})},n.diffParams=function(e){var t=n.state.diffParams;t.showDiffparams=!0,t.tableInfo=e,n.setState({diffParams:t})},n.close=function(){n.setState({showDiff:!1,campareTo:""})},n.closeParamsModal=function(){var e=n.state.diffParams;e.showDiffparams=!1,e.tableInfo="",n.setState({diffParams:e})},n.codeChange=function(e,t){n.props.changeSql(t)},n.getFomatedJSON=function(e){if(!e)return"";var t=C.a.jsonFormat(e);return t||(s.a.error("您的数据同步JSON配置格式有误"),e)},n.taskTypeJudge=function(e,t){return e.taskType===F.v.SQL||e.taskType===F.v.SYNC?b.a.createElement("div",null,b.a.createElement("a",{onClick:function(){return n.diffCode(t)}},"代码"),b.a.createElement("span",{className:"ant-divider"}),b.a.createElement("a",{onClick:function(){return n.diffParams(t)}},"参数")):"-"},n.taskVersionCols=function(){var e=n.props.taskInfo;return[{width:120,title:"发布时间",dataIndex:"gmtCreate",key:"gmtCreate",render:function(e){return C.a.formatDateTime(e)}},{title:"发布人",dataIndex:"userName",key:"userName"},{width:120,title:"描述",dataIndex:"publishDesc",key:"publishDesc"},{title:"操作",dataIndex:"operation",width:80,key:"operation",render:function(t,r){return n.taskTypeJudge(e,r)}}]},n}return k()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.taskInfo,n=e.taskType,r=this.state,i=r.showDiff,l=r.campareTo,s=r.diffParams,c=t.readWriteLockVO&&!t.readWriteLockVO.getLock,u=t.sqlText,d=l.sqlText;return b.a.createElement("div",null,b.a.createElement(o.a,{className:"m-table",rowKey:"id",dataSource:t.taskVersions||[],columns:this.taskVersionCols(),pagination:!1}),b.a.createElement(a.a,{wrapClassName:"vertical-center-modal modal-body-nopadding",title:"代码对比",width:"900px",bodyStyle:{minHeight:"500px"},visible:i,onCancel:this.close,cancelText:"关闭",footer:null},b.a.createElement(w,{readOnly:c,value:u,compareTo:d,onChange:this.codeChange})),b.a.createElement(a.a,{wrapClassName:"vertical-center-modal modal-body-nopadding",title:"参数对比",width:"900px",bodyStyle:{minHeight:"500px",paddingBottom:20},visible:s.showDiffparams,onCancel:this.closeParamsModal,cancelText:"关闭",footer:null},b.a.createElement(H,{value:t,diffParams:s.tableInfo,taskType:n})))}}]),t}(b.a.Component)},Ohfy:function(e,t,n){"use strict";var r=n("QbLZ"),a=n.n(r),i=n("Yz+Y"),o=n.n(i),l=n("iCc5"),s=n.n(l),c=n("V7oC"),u=n.n(c),d=n("FYw3"),h=n.n(d),f=n("mRg0"),m=n.n(f),g=n("sbe7"),p=n.n(g),v=n("17x9"),k=n.n(v),y=n("hJue"),b=n.n(y),C=n("moyJ"),T=(n("G851"),n("ZvzK")),E=n.n(T),S=(n("FGdI"),n("Pbn2")),w=n.n(S),F=(n("MaXC"),n("4IMT")),D=n.n(F),x=(n("PFYH"),n("Jv8k")),N=n.n(x),M=function(e){function t(){var e,n,r,a;s()(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=h()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),r.editMenu=function(){var e=r.props.onFileEdit;return p.a.createElement(N.a,{onClick:function(t){var n=t.key;e(n)}},p.a.createElement(N.a.Item,{key:"find"},"查找（Cmd/Ctrl）+ F"),p.a.createElement(N.a.Item,{key:"replace"},"替换（Cmd/Ctrl）+ F"),p.a.createElement(N.a.Item,{key:"commandPane"},"命令面板 (F1)"))},r.viewMenu=function(){var e=r.props.onThemeChange;return p.a.createElement(N.a,{onClick:function(t){var n=t.key;e(n)}},p.a.createElement(N.a.Item,{key:"vs"},"默认"),p.a.createElement(N.a.Item,{key:"vs-dark"},"黑色"),p.a.createElement(N.a.Item,{key:"hc-black"},"高对比黑色"))},r.renderRun=function(){var e=r.props,t=e.isRunning,n=e.onRun,a=e.onStop;return e.enableRun?[p.a.createElement(D.a,{key:"btnRun",onClick:n,loading:t,disabled:t,title:"立即运行",icon:"play-circle-o",style:{marginLeft:"0px"}}," ","运行"),p.a.createElement(D.a,{key:"btnStop",onClick:a,icon:"pause-circle-o",title:"立即停止",disabled:!t},"停止")]:""},a=n,h()(r,a)}return m()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.onFormat,n=e.enableFormat,r=e.leftCustomButton,a=e.rightCustomButton;return p.a.createElement("div",{className:"toolbar ide-toolbar clear-offset"},this.renderRun(),r,n&&p.a.createElement(D.a,{icon:"appstore-o",title:"格式化",onClick:t},"格式化"),p.a.createElement(E.a,{overlay:this.editMenu(),trigger:["click"]},p.a.createElement(D.a,{icon:"edit",title:"编辑"},"编辑",p.a.createElement(w.a,{type:"down"}))),p.a.createElement(E.a,{overlay:this.viewMenu(),trigger:["click"]},p.a.createElement(D.a,{icon:"skin",title:"主题"},"主题",p.a.createElement(w.a,{type:"down"}))),p.a.createElement("span",{style:{float:"right",position:"relative",marginRight:"18px",lineHeight:"28px",zIndex:"901"}},a))}}]),t}(g.Component),R=(n("93XW"),n("d1El")),O=n.n(R),_=(n("zmYW"),n("DtFj")),P=n.n(_),L=(n("Z8Mf"),n("j7zX")),I=n.n(L),V=n("LvDl"),z=n("pKDC"),A=n("pAlz"),B=I.a.TabPane,q={position:"absolute",bottom:"0px",height:"30px"},H="console-log",W=function(e){function t(){var e,n,r,a;s()(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=h()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),r.state={currentPage:1},r.onChange=function(e){r.setState({currentPage:e.current})},a=n,h()(r,a)}return m()(t,e),u()(t,[{key:"generateCols",value:function(e){var t=this.state.currentPage;if(e&&e.length>0){var n=[{title:"序号",key:"t-id",render:function(e,n,r){return 10*(t-1)+(r+1)}}];return e.forEach(function(e,t){n.push({title:e,key:t+e,render:function(e,n){return p.a.createElement("textarea",{title:n[t],value:n[t]})}})}),n}return[]}},{key:"render",value:function(){var e=this.props.data,t=e.slice(1,e.length),n=this.generateCols(e[0]);return p.a.createElement(P.a,{rowKey:"id",scroll:{x:!0},className:"console-table",bordered:!0,dataSource:t,onChange:this.onChange,columns:n})}}]),t}(g.Component),K=function(e){function t(){var e,n,r,a;s()(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=h()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),r.state={activeKey:H},r.onEdit=function(e,t){r[t](e)},r.onTabChange=function(e){var t=r.props.onConsoleTabChange;r.setState({activeKey:e},function(){e===H?(r.focusEditor(),t(1)):t(0)})},r.focusEditor=function(){var e=r.editor.self;e.doc.setCursor(e.lineCount(),null)},r.remove=function(e){var t=r.props.onRemoveTab;t&&t(parseInt(e,10))},a=n,h()(r,a)}return m()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=this.props.data;t.showRes&&t.results.length>0&&!Object(V.isEqual)(t.results,n.results)?(this.setState({activeKey:""+(t.results.length-1)}),this.props.onConsoleTabChange(0)):0===t.results.length&&this.setState({activeKey:H},this.focusEditor)}},{key:"renderTabs",value:function(e){var t=this;return e&&e.length>0?e.map(function(e,n){var r=p.a.createElement("span",null,"结果",n+1);return p.a.createElement(B,{style:{minHeight:"100%",position:"relative"},tab:r,key:""+n},p.a.createElement(W,{data:e.data}),e.jobId?p.a.createElement("a",{href:t.props.downloadUri+"?jobId="+e.jobId,download:!0},p.a.createElement(D.a,{style:q},"下载")):null)}):[]}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.setSplitMax,a=t.setSplitMin,i=t.activedTab,o=t.onConsoleClose,l=i?"console-log":this.state.activeKey;return A.a.readOnly=!0,A.a.lineNumbers=!1,p.a.createElement("div",{className:"ide-console"},p.a.createElement(I.a,{hideAdd:!0,type:"editable-card",activeKey:l,onChange:this.onTabChange,onEdit:this.onEdit},p.a.createElement(B,{tab:"日志",key:"console-log"},p.a.createElement("div",{style:{position:"relative"}},p.a.createElement(z.a,{cursorAlwaysInEnd:!0,style:{minHeight:"auto"},ref:function(t){e.editor=t},options:A.a,key:"output-log",sync:!0,value:n.log}))),this.renderTabs(n.results)),p.a.createElement(w.a,{onClick:r,className:"console-icon up",type:"up-square-o"}),p.a.createElement(w.a,{onClick:a,className:"console-icon down",type:"down-square-o"}),p.a.createElement(O.a,{placement:"top",title:"关闭控制台"},p.a.createElement(w.a,{className:"close-console",type:"close",onClick:o})))}}]),t}(g.Component),j={editor:k.a.object,toolbar:k.a.object,console:k.a.object},Y=function(e){function t(){var e,n,r,a;s()(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=h()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),r.state={changeTab:!0,size:void 0},r.changeTab=function(e){var t=r.state.changeTab;t=!!e,r.setState({changeTab:t})},a=n,h()(r,a)}return m()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.editor,r=t.toolbar,i=t.console,o=t.editorInstanceRef,l=this.state.size,s=p.a.createElement(C.a,a()({editorInstanceRef:o},n));return p.a.createElement("div",{className:"ide-editor"},r&&r.enable?p.a.createElement("div",{className:"ide-header bd-bottom"},p.a.createElement(M,a()({},r,{changeTab:this.changeTab}))):"",p.a.createElement("div",{style:{zIndex:901},className:"ide-content"},i&&i.data&&i.data.log?p.a.createElement(b.a,{split:"horizontal",minSize:100,maxSize:-77,style:{paddingBottom:"40px"},defaultSize:"60%",primary:"first",size:l,onDragStarted:function(){e.setState({size:void 0})}},s,p.a.createElement(K,a()({onConsoleTabChange:this.changeTab,activedTab:this.state.changeTab,setSplitMax:function(){e.setState({size:"100px"})},setSplitMin:function(){e.setState({size:"calc(100% - 40px)"})}},i))):s))}}]),t}(g.Component);Y.propTypes=j;t.a=Y},QKiz:function(e,t,n){},bAm3:function(e,t,n){"use strict";n("MaXC");var r=n("4IMT"),a=n.n(r),i=n("QbLZ"),o=n.n(i),l=n("Yz+Y"),s=n.n(l),c=n("iCc5"),u=n.n(c),d=n("V7oC"),h=n.n(d),f=n("FYw3"),m=n.n(f),g=n("mRg0"),p=n.n(g),v=n("sbe7"),k=n.n(v),y=n("/gYX"),b=n("YEIV"),C=n.n(b),T=n("P2sY"),E=n.n(T),S=function(e){function t(e){u()(this,t);var n=m()(this,(t.__proto__||s()(t)).call(this,e));return n.bindEvent=function(e){var t=n.props,r=t.onTrigger,a=t.keyMap,i=e.keyCode,o="keydown"===e.type;if(o){if(!0===a[i]){var l=E()(n.state.currentKeys,C()({},i,o));n.setState({currentKeys:l});var s=!0;for(var c in a)if(!l[c]){s=!1;break}s&&r(e)}}else n.setState({currentKeys:{}})},n.state={currentKeys:{}},n}return p()(t,e),h()(t,[{key:"componentDidMount",value:function(){addEventListener("keydown",this.bindEvent,!1),addEventListener("keyup",this.bindEvent,!1)}},{key:"componentWillUnmount",value:function(){removeEventListener("keydown",this.bindEvent,!1),removeEventListener("keyup",this.bindEvent,!1),this.setState({currentKeys:{}})}},{key:"render",value:function(){return this.props.children}}]),t}(k.a.Component);n.d(t,"a",function(){return w});var w=function(e){function t(){var e,n,r,a;u()(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=m()(this,(e=t.__proto__||s()(t)).call.apply(e,[this].concat(o))),r.state={isFullScreen:!1},r.keyPressFullScreen=function(e){e.preventDefault(),r.fullScreen()},r.fullScreen=function(){var e=r.props.target;if(r.state.isFullScreen)document.exitFullscreen?document.exitFullscreen():document.mozExitFullscreen?document.mozExitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen();else{var t=document.getElementById(e)||document.body;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFUllscreen():t.mozRequestFullscreen?t.mozRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}r.setState({isFullScreen:!r.state.isFullScreen})},a=n,m()(r,a)}return p()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this,t=document.body,n=function(n){var r=void 0;t.requestFullscreen?r=document.fullscreenElement:t.msRequestFullscreen?r=document.msFullscreenElement:t.mozRequestFullscreen?r=document.mozFullScreenElement:t.webkitRequestFullscreen&&(r=document.webkitFullscreenElement),e.setState({isFullScreen:!!r})};t.requestFullscreen?t.onfullscreenchange=n:t.msRequestFullscreen?t.onmsfullscreenchange=n:t.mozRequestFullscreen?t.onmozfullscreenchange=n:t.webkitRequestFullscreen&&(t.onwebkitfullscreenchange=n)}},{key:"componentWillUnmount",value:function(){var e=document.body;e.requestFullscreen?document.onfullscreenchange=null:e.msRequestFullscreen?document.onmsfullscreenchange=null:e.mozRequestFullscreen?document.onmozfullscreenchange=null:e.webkitRequestFullscreen&&(document.onwebkitfullscreenchange=null)}},{key:"render",value:function(){var e=this.state.isFullScreen?"退出全屏":"全屏",t=this.state.isFullScreen?"exit-fullscreen":"fullscreen";return k.a.createElement(S,{onTrigger:this.keyPressFullScreen,keyMap:{70:!0,91:!0,16:!0}},k.a.createElement(a.a,o()({},this.props,{onClick:this.fullScreen}),k.a.createElement(y.a,{className:"my-icon",type:t}),e))}}]),t}(v.Component)},bFCb:function(e,t,n){var r=n("ZBwS"),a=(n("VrN/"),-1),i=1,o=0;!function(e){"use strict";var t=e.Pos,n="http://www.w3.org/2000/svg";function l(e,t){this.mv=e,this.type=t,this.classes="left"==t?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}function s(t){t.diffOutOfDate&&(t.diff=R(t.orig.getValue(),t.edit.getValue(),t.mv.options.ignoreWhitespace),t.chunks=O(t.diff),t.diffOutOfDate=!1,e.signal(t.edit,"updateDiff",t.diff))}l.prototype={constructor:l,init:function(t,n,r){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=e(t,q({value:n,readOnly:!this.mv.options.allowEditingOriginals},q(r))),"align"==this.mv.options.connect&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new Y(this.edit)),this.orig.state.trackAlignable=new Y(this.orig)),this.orig.state.diffViews=[this];var a=r.chunkClassLocation||"background";"[object Array]"!=Object.prototype.toString.call(a)&&(a=[a]),this.classes.classLocation=a,this.diff=R(N(n),N(r.value),this.mv.options.ignoreWhitespace),this.chunks=O(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=!1!==r.showDifferences},registerEvents:function(t){this.forceUpdate=function(t){var n,r={from:0,to:0,marked:[]},o={from:0,to:0,marked:[]},l=!1;function d(e){c=!0,l=!1,"full"==e&&(t.svg&&A(t.svg),t.copyButtons&&A(t.copyButtons),m(t.edit,r.marked,t.classes),m(t.orig,o.marked,t.classes),r.from=r.to=o.from=o.to=0),s(t),t.showDifferences&&(g(t.edit,t.diff,r,i,t.classes),g(t.orig,t.diff,o,a,t.classes)),"align"==t.mv.options.connect&&T(t),k(t),null!=t.needsScrollSync&&u(t,t.needsScrollSync),c=!1}function h(e){c||(t.dealigned=!0,f(e))}function f(e){c||l||(clearTimeout(n),!0===e&&(l=!0),n=setTimeout(d,!0===e?20:250))}function p(e,n){t.diffOutOfDate||(t.diffOutOfDate=!0,r.from=r.to=o.from=o.to=0),h(n.text.length-1!=n.to.line-n.from.line)}function v(){t.diffOutOfDate=!0,t.dealigned=!0,d("full")}return t.edit.on("change",p),t.orig.on("change",p),t.edit.on("swapDoc",v),t.orig.on("swapDoc",v),"align"==t.mv.options.connect&&(e.on(t.edit.state.trackAlignable,"realign",h),e.on(t.orig.state.trackAlignable,"realign",h)),t.edit.on("viewportChange",function(){f(!1)}),t.orig.on("viewportChange",function(){f(!1)}),d(),d}(this),h(this,!0,!1),function(e,t){e.edit.on("scroll",function(){u(e,!0)&&k(e)}),e.orig.on("scroll",function(){u(e,!1)&&k(e),t&&u(t,!0)&&k(t)})}(this,t)},setShowDifferences:function(e){(e=!1!==e)!=this.showDifferences&&(this.showDifferences=e,this.forceUpdate("full"))}};var c=!1;function u(e,t){if(e.diffOutOfDate)return e.lockScroll&&null==e.needsScrollSync&&(e.needsScrollSync=t),!1;if(e.needsScrollSync=null,!e.lockScroll)return!0;var n,r,a=+new Date;if(t?(n=e.edit,r=e.orig):(n=e.orig,r=e.edit),n.state.scrollSetBy==e&&(n.state.scrollSetAt||0)+250>a)return!1;var i=n.getScrollInfo();if("align"==e.mv.options.connect)p=i.top;else{var o,l,s=.5*i.clientHeight,c=i.top+s,u=n.lineAtHeight(c,"local"),h=function(e,t,n){for(var r,a,i,o,l=0;l<e.length;l++){var s=e[l],c=n?s.editFrom:s.origFrom,u=n?s.editTo:s.origTo;null==a&&(c>t?(a=s.editFrom,o=s.origFrom):u>t&&(a=s.editTo,o=s.origTo)),u<=t?(r=s.editTo,i=s.origTo):c<=t&&(r=s.editFrom,i=s.origFrom)}return{edit:{before:r,after:a},orig:{before:i,after:o}}}(e.chunks,u,t),f=d(n,t?h.edit:h.orig),m=d(r,t?h.orig:h.edit),g=(c-f.top)/(f.bot-f.top),p=m.top-s+g*(m.bot-m.top);if(p>i.top&&(l=i.top/s)<1)p=p*l+i.top*(1-l);else if((o=i.height-i.clientHeight-i.top)<s){var v=r.getScrollInfo(),k=v.height-v.clientHeight-p;k>o&&(l=o/s)<1&&(p=p*l+(v.height-v.clientHeight-o)*(1-l))}}return r.scrollTo(i.left,p),r.state.scrollSetAt=a,r.state.scrollSetBy=e,!0}function d(e,t){var n=t.after;return null==n&&(n=e.lastLine()+1),{top:e.heightAtLine(t.before||0,"local"),bot:e.heightAtLine(n,"local")}}function h(e,t,n){e.lockScroll=t,t&&0!=n&&u(e,i)&&k(e),e.lockButton.innerHTML=t?"⇛⇚":"⇛&nbsp;&nbsp;⇚"}function f(e,t,n){for(var r=n.classLocation,a=0;a<r.length;a++)e.removeLineClass(t,r[a],n.chunk),e.removeLineClass(t,r[a],n.start),e.removeLineClass(t,r[a],n.end)}function m(t,n,r){for(var a=0;a<n.length;++a){var i=n[a];i instanceof e.TextMarker?i.clear():i.parent&&f(t,i,r)}n.length=0}function g(e,t,n,r,a){var i=e.getViewport();e.operation(function(){n.from==n.to||i.from-n.to>20||n.from-i.to>20?(m(e,n.marked,a),v(e,t,r,n.marked,i.from,i.to,a),n.from=i.from,n.to=i.to):(i.from<n.from&&(v(e,t,r,n.marked,i.from,n.from,a),n.from=i.from),i.to>n.to&&(v(e,t,r,n.marked,n.to,i.to,a),n.to=i.to))})}function p(e,t,n,r,a,i){for(var o=n.classLocation,l=e.getLineHandle(t),s=0;s<o.length;s++)r&&e.addLineClass(l,o[s],n.chunk),a&&e.addLineClass(l,o[s],n.start),i&&e.addLineClass(l,o[s],n.end);return l}function v(e,n,r,i,l,s,c){var u=t(0,0),d=t(l,0),h=e.clipPos(t(s-1)),f=r==a?c.del:c.insert;function m(t,n){for(var r=Math.max(l,t),a=Math.min(s,n),o=r;o<a;++o)i.push(p(e,o,c,!0,o==t,o==n-1));t==n&&r==n&&a==n&&(r?i.push(p(e,r-1,c,!1,!1,!0)):i.push(p(e,r,c,!1,!0,!1)))}for(var g=0,v=!1,k=0;k<n.length;++k){var y=n[k],b=y[0],C=y[1];if(b==o){var T=u.line+(P(n,k)?0:1);H(u,C);var E=u.line+(_(n,k)?1:0);E>T&&(v&&(m(g,T),v=!1),g=E)}else if(v=!0,b==r){var S=H(u,C,!0),w=U(d,u),F=J(h,S);X(w,F)||i.push(e.markText(w,F,{className:f})),u=S}}v&&m(g,u.line+1)}function k(e){if(e.showDifferences){if(e.svg){A(e.svg);var t=e.gap.offsetWidth;B(e.svg,"width",t,"height",e.gap.offsetHeight)}e.copyButtons&&A(e.copyButtons);for(var n=e.edit.getViewport(),r=e.orig.getViewport(),a=e.mv.wrap.getBoundingClientRect().top,i=a-e.edit.getScrollerElement().getBoundingClientRect().top+e.edit.getScrollInfo().top,o=a-e.orig.getScrollerElement().getBoundingClientRect().top+e.orig.getScrollInfo().top,l=0;l<e.chunks.length;l++){var s=e.chunks[l];s.editFrom<=n.to&&s.editTo>=n.from&&s.origFrom<=r.to&&s.origTo>=r.from&&w(e,s,o,i,t)}}}function y(e,t){for(var n=0,r=0,a=0;a<t.length;a++){var i=t[a];if(i.editTo>e&&i.editFrom<=e)return null;if(i.editFrom>e)break;n=i.editTo,r=i.origTo}return r+(e-n)}function b(e,t,n){for(var r=e.state.trackAlignable,a=e.firstLine(),i=0,o=[],l=0;;l++){for(var s=t[l],c=s?n?s.origFrom:s.editFrom:1e9;i<r.alignable.length;i+=2){var u=r.alignable[i]+1;if(!(u<=a)){if(!(u<=c))break;o.push(u)}}if(!s)break;o.push(a=n?s.origTo:s.editTo)}return o}function C(e,t,n,r){var a=0,i=0,o=0,l=0;e:for(;;a++){var s=e[a],c=t[i];if(!s&&null==c)break;for(var u=s?s[0]:1e9,d=null==c?1e9:c;o<n.length;){var h=n[o];if(h.origFrom<=d&&h.origTo>d){i++,a--;continue e}if(h.editTo>u){if(h.editFrom<=u)continue e;break}l+=h.origTo-h.origFrom-(h.editTo-h.editFrom),o++}if(u==d-l)s[r]=d,i++;else if(u<d-l)s[r]=u+l;else{var f=[d-l,null,null];f[r]=d,e.splice(a,0,f),i++}}}function T(e,t){if(e.dealigned||t){if(!e.orig.curOp)return e.orig.operation(function(){T(e,t)});e.dealigned=!1;var n=e.mv.left==e?e.mv.right:e.mv.left;n&&(s(n),n.dealigned=!1);for(var r=function(e,t){var n=b(e.edit,e.chunks,!1),r=[];if(t)for(var a=0,i=0;a<t.chunks.length;a++){for(var o=t.chunks[a].editTo;i<n.length&&n[i]<o;)i++;i!=n.length&&n[i]==o||n.splice(i++,0,o)}for(var a=0;a<n.length;a++)r.push([n[a],null,null]);return C(r,b(e.orig,e.chunks,!0),e.chunks,1),t&&C(r,b(t.orig,t.chunks,!0),t.chunks,2),r}(e,n),a=e.mv.aligners,i=0;i<a.length;i++)a[i].clear();a.length=0;var o=[e.edit,e.orig],l=[];n&&o.push(n.orig);for(var i=0;i<o.length;i++)l.push(o[i].getScrollInfo().top);for(var c=0;c<r.length;c++)E(o,r[c],a);for(var i=0;i<o.length;i++)o[i].scrollTo(null,l[i])}}function E(e,t,n){for(var r=0,a=[],i=0;i<e.length;i++)if(null!=t[i]){var o=e[i].heightAtLine(t[i],"local");a[i]=o,r=Math.max(r,o)}for(var i=0;i<e.length;i++)if(null!=t[i]){var l=r-a[i];l>1&&n.push(S(e[i],t[i],l))}}function S(e,t,n){var r=!0;t>e.lastLine()&&(t--,r=!1);var a=document.createElement("div");return a.className="CodeMirror-merge-spacer",a.style.height=n+"px",a.style.minWidth="1px",e.addLineWidget(t,a,{height:n,above:r,mergeSpacer:!0,handleMouseEvents:!0})}function w(e,t,r,a,i){var o="left"==e.type,l=e.orig.heightAtLine(t.origFrom,"local",!0)-r;if(e.svg){var s=l,c=e.edit.heightAtLine(t.editFrom,"local",!0)-a;if(o){var u=s;s=c,c=u}var d=e.orig.heightAtLine(t.origTo,"local",!0)-r,h=e.edit.heightAtLine(t.editTo,"local",!0)-a;if(o){var u=d;d=h,h=u}var f=" C "+i/2+" "+c+" "+i/2+" "+s+" "+(i+2)+" "+s,m=" C "+i/2+" "+d+" "+i/2+" "+h+" -1 "+h;B(e.svg.appendChild(document.createElementNS(n,"path")),"d","M -1 "+c+f+" L "+(i+2)+" "+d+m+" z","class",e.classes.connect)}if(e.copyButtons){var g=e.copyButtons.appendChild(z("div","left"==e.type?"⇝":"⇜","CodeMirror-merge-copy")),p=e.mv.options.allowEditingOriginals;if(g.title=p?"Push to left":"Revert chunk",g.chunk=t,g.style.top=(t.origTo>t.origFrom?l:e.edit.heightAtLine(t.editFrom,"local")-a)+"px",p){var v=e.edit.heightAtLine(t.editFrom,"local")-a,k=e.copyButtons.appendChild(z("div","right"==e.type?"⇝":"⇜","CodeMirror-merge-copy-reverse"));k.title="Push to right",k.chunk={editFrom:t.origFrom,editTo:t.origTo,origFrom:t.editFrom,origTo:t.editTo},k.style.top=v+"px","right"==e.type?k.style.left="2px":k.style.right="2px"}}}function F(e,n,r,a){if(!e.diffOutOfDate){var i=a.origTo>r.lastLine()?t(a.origFrom-1):t(a.origFrom,0),o=t(a.origTo,0),l=a.editTo>n.lastLine()?t(a.editFrom-1):t(a.editFrom,0),s=t(a.editTo,0),c=e.mv.options.revertChunk;c?c(e.mv,r,i,o,n,l,s):n.replaceRange(r.getRange(i,o),l,s)}}var D=e.MergeView=function(t,n){if(!(this instanceof D))return new D(t,n);this.options=n;var r=n.origLeft,a=null==n.origRight?n.orig:n.origRight,i=null!=r,o=null!=a,s=1+(i?1:0)+(o?1:0),c=[],u=this.left=null,d=this.right=null,h=this;if(i){u=this.left=new l(this,"left");var f=z("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");c.push(f),c.push(x(u))}var m=z("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(c.push(m),o){d=this.right=new l(this,"right"),c.push(x(d));var g=z("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");c.push(g)}(o?g:m).className+=" CodeMirror-merge-pane-rightmost",c.push(z("div",null,null,"height: 0; clear: both;"));var p=this.wrap=t.appendChild(z("div",c,"CodeMirror-merge CodeMirror-merge-"+s+"pane"));this.edit=e(m,q(n)),u&&u.init(f,r,n),d&&d.init(g,a,n),n.collapseIdentical&&this.editor().operation(function(){!function(e,t){"number"!=typeof t&&(t=2);for(var n=[],r=e.editor(),a=r.firstLine(),i=a,o=r.lastLine();i<=o;i++)n.push(!0);e.left&&V(e.left,t,a,n),e.right&&V(e.right,t,a,n);for(var l=0;l<n.length;l++)if(n[l]){for(var s=l+a,c=1;l<n.length-1&&n[l+1];l++,c++);if(c>t){var u=[{line:s,cm:r}];e.left&&u.push({line:y(s,e.left.chunks),cm:e.left.orig}),e.right&&u.push({line:y(s,e.right.chunks),cm:e.right.orig});var d=I(c,u);e.options.onCollapse&&e.options.onCollapse(e,s,c,d)}}}(h,n.collapseIdentical)}),"align"==n.connect&&(this.aligners=[],T(this.left||this.right,!0)),u&&u.registerEvents(d),d&&d.registerEvents(u);var v=function(){u&&k(u),d&&k(d)};e.on(window,"resize",v);var b=setInterval(function(){for(var t=p.parentNode;t&&t!=document.body;t=t.parentNode);t||(clearInterval(b),e.off(window,"resize",v))},5e3)};function x(t){var r=t.lockButton=z("div",null,"CodeMirror-merge-scrolllock");r.title="Toggle locked scrolling";var a=z("div",[r],"CodeMirror-merge-scrolllock-wrap");e.on(r,"click",function(){h(t,!t.lockScroll)});var i=[a];if(!1!==t.mv.options.revertButtons&&(t.copyButtons=z("div",null,"CodeMirror-merge-copybuttons-"+t.type),e.on(t.copyButtons,"click",function(e){var n=e.target||e.srcElement;n.chunk&&("CodeMirror-merge-copy-reverse"!=n.className?F(t,t.edit,t.orig,n.chunk):F(t,t.orig,t.edit,n.chunk))}),i.unshift(t.copyButtons)),"align"!=t.mv.options.connect){var o=document.createElementNS&&document.createElementNS(n,"svg");o&&!o.createSVGRect&&(o=null),t.svg=o,o&&i.push(o)}return t.gap=z("div",i,"CodeMirror-merge-gap")}function N(e){return"string"==typeof e?e:e.getValue()}D.prototype={constructor:D,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(e){this.right&&this.right.setShowDifferences(e),this.left&&this.left.setShowDifferences(e)},rightChunks:function(){if(this.right)return s(this.right),this.right.chunks},leftChunks:function(){if(this.left)return s(this.left),this.left.chunks}};var M=new r;function R(e,t,n){for(var r=M.diff_main(e,t),a=0;a<r.length;++a){var i=r[a];(n?/[^ \t]/.test(i[1]):i[1])?a&&r[a-1][0]==i[0]&&(r.splice(a--,1),r[a][1]+=i[1]):r.splice(a--,1)}return r}function O(e){for(var n=[],r=0,a=0,l=t(0,0),s=t(0,0),c=0;c<e.length;++c){var u=e[c],d=u[0];if(d==o){var h=!P(e,c)||l.line<r||s.line<a?1:0,f=l.line+h,m=s.line+h;H(l,u[1],null,s);var g=_(e,c)?1:0,p=l.line+g,v=s.line+g;p>f&&(c&&n.push({origFrom:a,origTo:m,editFrom:r,editTo:f}),r=p,a=v)}else H(d==i?l:s,u[1])}return(r<=l.line||a<=s.line)&&n.push({origFrom:a,origTo:s.line+1,editFrom:r,editTo:l.line+1}),n}function _(e,t){if(t==e.length-1)return!0;var n=e[t+1][1];return!(1==n.length&&t<e.length-2||10!=n.charCodeAt(0))&&(t==e.length-2||((n=e[t+2][1]).length>1||t==e.length-3)&&10==n.charCodeAt(0))}function P(e,t){if(0==t)return!0;var n=e[t-1][1];return 10==n.charCodeAt(n.length-1)&&(1==t||10==(n=e[t-2][1]).charCodeAt(n.length-1))}function L(n,r,a){n.addLineClass(r,"wrap","CodeMirror-merge-collapsed-line");var i=document.createElement("span");i.className="CodeMirror-merge-collapsed-widget",i.title="Identical text collapsed. Click to expand.";var o=n.markText(t(r,0),t(a-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:i,clearOnEnter:!0});function l(){o.clear(),n.removeLineClass(r,"wrap","CodeMirror-merge-collapsed-line")}return e.on(i,"click",l),{mark:o,clear:l}}function I(e,t){var n=[];function r(){for(var e=0;e<n.length;e++)n[e].clear()}for(var a=0;a<t.length;a++){var i=t[a],o=L(i.cm,i.line,i.line+e);n.push(o),o.mark.on("clear",r)}return n[0].mark}function V(e,t,n,r){for(var a=0;a<e.chunks.length;a++)for(var i=e.chunks[a],o=i.editFrom-t;o<i.editTo+t;o++){var l=o+n;l>=0&&l<r.length&&(r[l]=!1)}}function z(e,t,n,r){var a=document.createElement(e);if(n&&(a.className=n),r&&(a.style.cssText=r),"string"==typeof t)a.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)a.appendChild(t[i]);return a}function A(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild)}function B(e){for(var t=1;t<arguments.length;t+=2)e.setAttribute(arguments[t],arguments[t+1])}function q(e,t){for(var n in t||(t={}),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function H(e,n,r,a){for(var i=r?t(e.line,e.ch):e,o=0;;){var l=n.indexOf("\n",o);if(-1==l)break;++i.line,a&&++a.line,o=l+1}return i.ch=(o?0:i.ch)+(n.length-o),a&&(a.ch=(o?0:a.ch)+(n.length-o)),i}var W=1,K=2,j=4;function Y(e){this.cm=e,this.alignable=[],this.height=e.doc.height;var t=this;e.on("markerAdded",function(e,n){if(n.collapsed){var r=n.find(1);null!=r&&t.set(r.line,j)}}),e.on("markerCleared",function(e,n,r,a){null!=a&&n.collapsed&&t.check(a,j,t.hasMarker)}),e.on("markerChanged",this.signal.bind(this)),e.on("lineWidgetAdded",function(e,n,r){n.mergeSpacer||(n.above?t.set(r-1,K):t.set(r,W))}),e.on("lineWidgetCleared",function(e,n,r){n.mergeSpacer||(n.above?t.check(r-1,K,t.hasWidgetBelow):t.check(r,W,t.hasWidget))}),e.on("lineWidgetChanged",this.signal.bind(this)),e.on("change",function(e,n){var r=n.from.line,a=n.to.line-n.from.line,i=n.text.length-1,o=r+i;(a||i)&&t.map(r,a,i),t.check(o,j,t.hasMarker),(a||i)&&t.check(n.from.line,j,t.hasMarker)}),e.on("viewportChange",function(){t.cm.doc.height!=t.height&&t.signal()})}function J(e,t){return(e.line-t.line||e.ch-t.ch)<0?e:t}function U(e,t){return(e.line-t.line||e.ch-t.ch)>0?e:t}function X(e,t){return e.line==t.line&&e.ch==t.ch}function Z(e,t,n){for(var r=e.length-1;r>=0;r--){var a=e[r],i=(n?a.origTo:a.editTo)-1;if(i<t)return i}}function Q(e,t,n){for(var r=0;r<e.length;r++){var a=e[r],i=n?a.origFrom:a.editFrom;if(i>t)return i}}function G(t,n){var r=null,a=t.state.diffViews,i=t.getCursor().line;if(a)for(var o=0;o<a.length;o++){var l=a[o],c=t==l.orig;s(l);var u=n<0?Z(l.chunks,i,c):Q(l.chunks,i,c);null==u||null!=r&&!(n<0?u>r:u<r)||(r=u)}if(null==r)return e.Pass;t.setCursor(r,0)}Y.prototype={signal:function(){e.signal(this,"realign"),this.height=this.cm.doc.height},set:function(e,t){for(var n=-1;n<this.alignable.length;n+=2){var r=this.alignable[n]-e;if(0==r){if((this.alignable[n+1]&t)==t)return;return this.alignable[n+1]|=t,void this.signal()}if(r>0)break}this.signal(),this.alignable.splice(n,0,e,t)},find:function(e){for(var t=0;t<this.alignable.length;t+=2)if(this.alignable[t]==e)return t;return-1},check:function(e,t,n){var r=this.find(e);if(-1!=r&&this.alignable[r+1]&t&&!n.call(this,e)){this.signal();var a=this.alignable[r+1]&~t;a?this.alignable[r+1]=a:this.alignable.splice(r,2)}},hasMarker:function(e){var t=this.cm.getLineHandle(e);if(t.markedSpans)for(var n=0;n<t.markedSpans.length;n++)if(t.markedSpans[n].mark.collapsed&&null!=t.markedSpans[n].to)return!0;return!1},hasWidget:function(e){var t=this.cm.getLineHandle(e);if(t.widgets)for(var n=0;n<t.widgets.length;n++)if(!t.widgets[n].above&&!t.widgets[n].mergeSpacer)return!0;return!1},hasWidgetBelow:function(e){if(e==this.cm.lastLine())return!1;var t=this.cm.getLineHandle(e+1);if(t.widgets)for(var n=0;n<t.widgets.length;n++)if(t.widgets[n].above&&!t.widgets[n].mergeSpacer)return!0;return!1},map:function(e,t,n){for(var r=n-t,a=e+t,i=-1,o=-1,l=0;l<this.alignable.length;l+=2){var s=this.alignable[l];s==e&&this.alignable[l+1]&K&&(i=l),s==a&&this.alignable[l+1]&K&&(o=l),s<=e||(s<a?this.alignable.splice(l--,2):this.alignable[l]+=r)}if(i>-1){var c=this.alignable[i+1];c==K?this.alignable.splice(i,2):this.alignable[i+1]=c&~K}o>-1&&n&&this.set(e+n,K)}},e.commands.goNextDiff=function(e){return G(e,1)},e.commands.goPrevDiff=function(e){return G(e,-1)}}(n("VrN/"))},tHbZ:function(e,t,n){"use strict";n.d(t,"a",function(){return v});n("93XW");var r=n("d1El"),a=n.n(r),i=n("Yz+Y"),o=n.n(i),l=n("iCc5"),s=n.n(l),c=n("V7oC"),u=n.n(c),d=n("FYw3"),h=n.n(d),f=n("mRg0"),m=n.n(f),g=n("sbe7"),p=n.n(g),v=function(e){function t(e){return s()(this,t),h()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),u()(t,[{key:"render",value:function(){return this.props.notSynced?p.a.createElement(a.a,{title:"修改已保存至本地存储但尚未同步到服务器，你可以点击上面的保存按钮立即同步。"},p.a.createElement("span",{style:{display:"inline-block",marginRight:8,borderRadius:"50%",border:"4px solid ",borderColor:"#EF5350"}})):p.a.createElement("span",{style:{display:"inline-block",marginRight:8,borderRadius:"50%",border:"4px solid ",borderColor:"#00A755"}})}}]),t}(p.a.Component)}}]);