(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1408:function(e,t,n){},1419:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n.n(a),r=n(4),s=n.n(r),i=n(6),l=n.n(i),c=n(3),u=n.n(c),p=n(8),d=n.n(p),_=(n(214),n(124)),g=n.n(_),E=n(0),m=n.n(E),h=n(213),w=n.n(h),b=n(26),C=n.n(b),x=(n(1408),n(591)({mxImageBasePath:"public/rdos/mxgraph/images",mxBasePath:"public/rdos/mxgraph"})),k=x.mxGraph,T=x.mxShape,f=x.mxConnectionConstraint,A=x.mxPoint,R=x.mxPolyline,L=x.mxEvent,O=x.mxRubberband,v=x.mxCellState,D=x.mxConstants,y=x.mxEdgeStyle,S=x.mxPopupMenu,M=x.mxPerimeter,N=x.mxUndoManager,H={COMMAND:91,CTRL:17,BACKUP:8,A:65},I={width:120,height:60},U=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.Container;this.initEditor(),this.loadEditor(e),this.listenKeyboard(),this.listenDoubleClick(),this.listenConnection(),this.undoManager()}},{key:"initEditor",value:function(){k.prototype.getAllConnectionConstraints=function(e,t){if(null!=e&&null!=e.shape)if(null!=e.shape.stencil){if(null!=e.shape.stencil)return e.shape.stencil.constraints}else if(null!=e.shape.constraints)return e.shape.constraints;return null},T.prototype.constraints=[new f(new A(.25,0),!0),new f(new A(.5,0),!0),new f(new A(.75,0),!0),new f(new A(0,.25),!0),new f(new A(0,.5),!0),new f(new A(0,.75),!0),new f(new A(1,.25),!0),new f(new A(1,.5),!0),new f(new A(1,.75),!0),new f(new A(.25,1),!0),new f(new A(.5,1),!0),new f(new A(.75,1),!0)],R.prototype.constraints=null}},{key:"loadEditor",value:function(e){L.disableContextMenu(e);var t=new k(e);this.graph=t,t.setConnectable(!0),t.setTooltips(!0),t.view.setScale(1),t.isCellsMovable=function(e){e=t.getSelectionCell();return console.log("isCellsMovable movable:",e),!(e&&e.edge)};var n=this.getDefaultVertexStyle();t.getStylesheet().putDefaultVertexStyle(n);var a=this.getDefaultEdgeStyle();t.getStylesheet().putDefaultEdgeStyle(a),new O(t);var o=t.getDefaultParent(),r=t.getModel();r.beginUpdate();try{var s=t.insertVertex(o,null,"block1",20,20,I.width,I.height),i=t.insertVertex(o,null,"block2",200,150,I.width,I.height),l=t.insertVertex(o,null,"block3",300,150,I.width,I.height);t.insertEdge(o,null,"",s,l),t.insertEdge(o,null,"",i,l)}finally{r.endUpdate()}this.initContextMenu(t)}},{key:"getDefaultVertexStyle",value:function(){var e=[];return e[D.STYLE_SHAPE]=D.SHAPE_RECTANGLE,e[D.STYLE_PERIMETER]=M.RectanglePerimeter,e[D.STYLE_STROKECOLOR]="#fff",e[D.STYLE_ROUNDED]=!0,e[D.STYLE_FILLCOLOR]="#18a689",e[D.STYLE_FONTCOLOR]="#ffffff",e[D.STYLE_ALIGN]=D.ALIGN_CENTER,e[D.STYLE_VERTICAL_ALIGN]=D.ALIGN_MIDDLE,e[D.STYLE_FONTSIZE]="12",e[D.STYLE_FONTSTYLE]=1,e}},{key:"getDefaultEdgeStyle",value:function(){var e=[];return e[D.STYLE_SHAPE]=D.SHAPE_CONNECTOR,e[D.STYLE_STROKECOLOR]="#18a689",e[D.STYLE_ALIGN]=D.ALIGN_CENTER,e[D.STYLE_VERTICAL_ALIGN]=D.ALIGN_MIDDLE,e[D.STYLE_EDGE]=y.ElbowConnector,e[D.STYLE_ENDARROW]=D.ARROW_CLASSIC,e[D.STYLE_FONTSIZE]="10",e}},{key:"initContextMenu",value:function(e){var t=S.prototype.showMenu;S.prototype.showMenu=function(){var e=this.graph.getSelectionCells();if(!(e.length>0&&e[0].vertex))return!1;t.apply(this,arguments)},e.popupMenuHandler.autoExpand=!0,e.popupMenuHandler.factoryMethod=function(t,n,a){t.addItem("Item1",null,function(){alert("item 1")}),t.addItem("移除",null,function(){console.log(e,n),e.removeCells([n])}),t.addSeparator();var o=t.addItem("SubMen",null,null);t.addItem("Item2",null,function(){alert("item 1")},o)}}},{key:"zoomIn",value:function(){this.graph.zoomIn()}},{key:"zoomOut",value:function(){this.graph.zoomOut()}},{key:"removeCell",value:function(e){var t=e||this.graph.getSelectionCells();t&&t.length>0&&(console.log("state:",this.graph.getSelectionCell()),this.graph.removeCells(t))}},{key:"insert",value:function(){var e=this.graph.getDefaultParent();this.graph.insertVertex(e,null,(new Date).getTime(),null,150,80,30)}},{key:"outputRoot",value:function(){var e=this.graph.getDefaultParent();console.log("aaa",this.graph.getChildCells(e))}},{key:"disableConnection",value:function(){this.graph.setConnectable(!1)}},{key:"resetView",value:function(){this.graph.view.scaleAndTranslate(1,0,0)}},{key:"listenDoubleClick",value:function(){this.graph.addListener(L.DOUBLE_CLICK,function(e,t){t.getProperty("cell")&&window.open("http://www.google.com")})}},{key:"listenConnection",value:function(){var e=this.graph;e.connectionHandler.createEdgeState=function(t){var n=e.createEdge(null,null,null,null,null);return new v(e.view,n,e.getCellStyle(n))},e.connectionHandler.addListener(L.CONNECT,function(t,n){var a=n.getProperty("cell"),o=e.getModel().getTerminal(a,!0),r=e.getModel().getTerminal(a,!1);console.log("connect:",o,r),o&&r||e.removeCells([a])}),e.connectionHandler.addListener(L.RESET,function(t,n){var a=n.getProperty("cell"),o=e.getModel().getTerminal(a,!0),r=e.getModel().getTerminal(a,!1);console.log("RESET connect:",o,r),o&&r||e.removeCells([a])})}},{key:"listenKeyboard",value:function(){var e,t=this,n=(e={},C()(e,H.COMMAND,!1),C()(e,H.A,!1),C()(e,H.CTRL,!1),e);document.addEventListener("keydown",function(e){switch(console.log("keycode:",e,e.keyCode),e.keyCode){case H.BACKUP:t.removeCell();break;case H.COMMAND:n[H.COMMAND]=!0;break;case H.A:n[H.A]=!0;break;case H.CTRL:n[H.CTRL]=!0}console.log("keypress",n),(n[H.COMMAND]&&n[H.A]||n[H.A]&&n[H.CTRL])&&(t.graph.selectAll(),n[H.COMMAND]=!1,n[H.A]=!1,n[H.CTRL]=!1)})}},{key:"graphEnable",value:function(){var e=this.graph.isEnabled();this.graph.setEnabled(!e)}},{key:"undoManager",value:function(){var e=new N,t=this.graph;this.undoMana=e;var n=function(t,n){e.undoableEditHappened(n.getProperty("edit"))};t.getModel().addListener(L.UNDO,n),t.getView().addListener(L.UNDO,n)}},{key:"undo",value:function(){console.log("undo!!"),this.undoMana.undo()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{className:"editor",ref:function(t){e.Container=t}}),m.a.createElement("div",{style:{position:"absolute",zIndex:"2",right:"20px",top:"30px"}},m.a.createElement("button",{onClick:function(){return e.zoomIn()}},"放大"),m.a.createElement("button",{onClick:function(){return e.zoomOut()}},"缩小"),m.a.createElement("button",{onClick:function(){return e.resetView()}},"重置"),m.a.createElement("button",{onClick:function(){return e.insert()}},"添加"),m.a.createElement("button",{onClick:function(){return e.outputRoot()}},"Root节点"),m.a.createElement("button",{onClick:function(){return e.disableConnection()}},"禁止链接"),m.a.createElement("button",{onClick:function(){return e.currentState()}},"状态"),m.a.createElement("button",{onClick:function(){return e.graphEnable()}},"禁止编辑"),m.a.createElement("button",{onClick:function(){return e.undo()}},"撤销")))}}]),t}(E.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(x,"Mx","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(k,"mxGraph","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(T,"mxShape","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(f,"mxConnectionConstraint","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(A,"mxPoint","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(R,"mxPolyline","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(L,"mxEvent","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(O,"mxRubberband","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(v,"mxCellState","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(D,"mxConstants","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(y,"mxEdgeStyle","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(S,"mxPopupMenu","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(M,"mxPerimeter","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(N,"mxUndoManager","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(H,"KEY","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(I,"VertexSize","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(U,"Editor","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"));n.d(t,"default",function(){return j});var P=g.a.TreeNode,j=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return m.a.createElement(w.a,{split:"vertical",minSize:300,maxSize:"80%",defaultSize:"60%",primary:"first"},m.a.createElement("div",{className:"leftSidebar"},m.a.createElement("h1",null,"Left.")),m.a.createElement(w.a,{split:"horizontal"},m.a.createElement("div",null,m.a.createElement("h1",null,"Right-Top")),m.a.createElement("div",null,m.a.createElement(U,null))))}}]),t}(E.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(P,"TreeNode","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/views/test.js"),__REACT_HOT_LOADER__.register(j,"Test","/Users/xuexiaokang/Documents/webpack优化/data-stack-web/src/webapps/rdos/views/test.js"))}}]);