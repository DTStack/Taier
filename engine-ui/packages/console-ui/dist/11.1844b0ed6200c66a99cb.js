(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1474:function(e,a,t){"use strict";t.r(a);t(70);var r=t(31),n=t.n(r),s=(t(74),t(27)),i=t.n(s),c=(t(48),t(18)),l=t.n(c),o=(t(38),t(15)),_=t.n(o),u=t(4),p=t.n(u),d=t(76),m=t.n(d),h=t(43),E=t.n(h),k=(t(822),t(420)),v=t.n(k),T=(t(34),t(13)),f=t.n(T),g=t(8),O=t.n(g),y=t(5),A=t.n(y),C=t(7),R=t.n(C),b=t(1),D=t.n(b),L=t(6),w=t.n(L),P=(t(53),t(17)),H=t.n(P),x=(t(58),t(30)),N=t.n(x),S=t(0),W=t.n(S),U=t(20),j=t(14),I=t(9),z=t(12),V=t(23),F=t(104),K=t(242),M=t(127),B=t(119),q=t(59),Q=t(11),G=(t(223),t(101)),J=t.n(G),X=(t(60),t(22)),Y=t.n(X),Z=(t(188),t(52)),$=t.n(Z),ee=t(172),ae=t.n(ee),te=(t(581),t(382)),re=t.n(te),ne=(t(78),t(37)),se=t.n(ne),ie=(t(208),t(1453)),ce=t(165),le=(t(71),t(85),t(50)),oe=t.n(le),_e=H.a.Item,ue=oe.a.Group,pe=function(e){function a(){return A()(this,a),D()(this,(a.__proto__||O()(a)).apply(this,arguments))}return w()(a,e),R()(a,[{key:"render",value:function(){var e=this.props,a=e.form,t=e.currentPage,r=a.getFieldDecorator;return W.a.createElement("div",{style:{padding:"60px"}},W.a.createElement(H.a,null,W.a.createElement(_e,p()({},Q.t,{label:"任务名称",hasFeedback:!0}),r("name",{rules:[{required:!0,message:"任务名称不可为空！"},{max:64,message:"任务名称不得超过64个字符！"}],initialValue:t?t.name:""})(W.a.createElement(_.a,null))),W.a.createElement(_e,p()({},Q.t,{label:"任务类型"}),r("taskType",{rules:[],initialValue:t?t.taskType:0})(W.a.createElement(ue,{disabled:!0},W.a.createElement(oe.a,{value:0},"SQL任务"),W.a.createElement(oe.a,{value:1},"MR任务")))),W.a.createElement(_e,p()({},Q.t,{label:"资源",hasFeedback:!0}),t&&t.resourceList&&t.resourceList.length>0?t.resourceList[0].resourceName:""),W.a.createElement(_e,p()({},Q.t,{label:"mainClass"}),r("mainClass",{rules:[{}],initialValue:t&&t.mainClass})(W.a.createElement(_.a,{placeholder:"请输入mainClass"}))),W.a.createElement(_e,p()({},Q.t,{label:"参数"}),r("exeArgs",{rules:[{}],initialValue:t&&t.exeArgs})(W.a.createElement(_.a,{placeholder:"请输入任务参数"}))),W.a.createElement(_e,p()({},Q.t,{label:"描述",hasFeedback:!0}),r("taskDesc",{rules:[],initialValue:t?t.taskDesc:""})(W.a.createElement(_.a,{type:"textarea",rows:4})))))}}]),a}(S.Component),de=function(e,a){var t=e.dispatch,r=e.currentPage,n=!1;""===a.name&&(n=!0),a.invalid=n;var s=E()(r,a);t(M.i(s)),t(M.j(s))},me=H.a.create({onValuesChange:de})(pe),he=me,Ee=he,ke=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_e,"FormItem","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/mrEditor.js"),__REACT_HOT_LOADER__.register(ue,"RadioGroup","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/mrEditor.js"),__REACT_HOT_LOADER__.register(pe,"MrEditor","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/mrEditor.js"),__REACT_HOT_LOADER__.register(de,"taskValueChange","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/mrEditor.js"),__REACT_HOT_LOADER__.register(me,"wrappedForm","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/mrEditor.js"),__REACT_HOT_LOADER__.register(he,"default","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/mrEditor.js")),function(e){function a(){return A()(this,a),D()(this,(a.__proto__||O()(a)).apply(this,arguments))}return w()(a,e),R()(a,[{key:"render",value:function(){var e=this.props,a=e.currentPage,t=e.editorChange,r=e.editorFocus,n=e.editorFocusOut,s=a.taskType===Q.q.SQL?W.a.createElement(ce.a,{key:"main-editor-"+a.id,value:a.sqlText,sync:a.merged||void 0,onFocus:r,focusOut:n,onChange:t}):W.a.createElement(Ee,this.props);return W.a.createElement("div",{className:"editor-container"},s)}}]),a}(S.Component)),ve=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(ke,"EditorContainer","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/editorContainer.js"),t(820),t(676)),Te=t.n(ve),fe=(t(40),t(16)),ge=t.n(fe),Oe=t(1452),ye=ge.a.Option,Ae=Te.a.Panel,Ce=function(e){function a(){var e,t,r,n;A()(this,a);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return t=r=D()(this,(e=a.__proto__||O()(a)).call.apply(e,[this].concat(i))),r.state={visibleAlterRes:!1,resList:[]},r.handleChange=function(){var e;return(e=r).__handleChange__REACT_HOT_LOADER__.apply(e,arguments)},r.alterRes=function(){var e;return(e=r).__alterRes__REACT_HOT_LOADER__.apply(e,arguments)},n=t,D()(r,n)}return w()(a,e),R()(a,[{key:"componentWillReceiveProps",value:function(e){var a=e.currentPage,t=this.props.currentPage;if(a.id!==t.id){var r=a.resourceList.length>0?a.resourceList.map(function(e){return e.id}):[];this.setState({resList:r})}}},{key:"__handleChange__REACT_HOT_LOADER__",value:function(e){this.setState({resList:e})}},{key:"__alterRes__REACT_HOT_LOADER__",value:function(){var e=this,a=this.props.currentPage,t=this.state.resList;0!==(t=Array.isArray(t)?t:[t]).length?a&&a.id&&t.length>0&&V.a.updateTaskRes({id:a.id,resources:t}).then(function(t){1===t.code&&(f.a.success("资源修改成功！"),e.reloadTask(a.id),e.setState({visibleAlterRes:!1,resList:[]}))}):f.a.info("您没有选择任何资源！")}},{key:"reloadTask",value:function(e){var a=this.props.dispatch;V.a.getTask({taskId:e}).then(function(e){1===e.code&&(a(M.i(e.data)),a(M.j(e.data)))})}},{key:"render",value:function(){var e=this,a=this.state,t=a.visibleAlterRes,r=a.resList,s=this.props,c=s.resources,l=s.currentPage,o=s.editorChange,_=(s.versionEditorChange,l.resourceList&&l.resourceList.map(function(e){return W.a.createElement(v.a,{key:e.id,color:"blue"},e.resourceName)})),u=c&&c.map(function(e){return W.a.createElement(ye,{value:e.id,key:e.id,name:e.resourceName},e.resourceName)});return W.a.createElement("div",{className:"m-taksdetail"},W.a.createElement(Te.a,{bordered:!1,defaultActiveKey:["1","2"]},W.a.createElement(Ae,{key:"1",header:"任务属性"},W.a.createElement(n.a,{className:"task-info"},W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"任务名称："),W.a.createElement(i.a,{span:"14"},l.name)),W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"任务类型："),W.a.createElement(i.a,{span:"14"},0===l.taskType?"SQL任务":"MR任务")),W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"资源："),W.a.createElement(i.a,{span:"14",style:{marginTop:"10px"}},_)),W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"创建人员："),W.a.createElement(i.a,{span:"14"},l.createUserName)),W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"创建时间："),W.a.createElement(i.a,{span:"14"},z.a.formatDateTime(l.gmtCreate))),W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"最近修改时间："),W.a.createElement(i.a,{span:"14"},z.a.formatDateTime(l.gmtModified))),W.a.createElement(n.a,null,W.a.createElement(i.a,{span:"10",className:"txt-right"},"描述："),W.a.createElement(i.a,{span:"14"},l.taskDesc)),W.a.createElement(N.a,{title:"修改任务资源",wrapClassName:"vertical-center-modal",visible:t,onCancel:function(){e.setState({visibleAlterRes:!1})},onOk:this.alterRes},W.a.createElement(ge.a,{mode:0===l.taskType?"multiple":"",style:{width:"100%"},showSearch:!0,value:r,placeholder:"请选择资源",optionFilterProp:"name",onChange:this.handleChange},u)))),W.a.createElement(Ae,{key:"2",header:"历史发布版本"},W.a.createElement(Oe.a,{taskInfo:l,changeSql:o.bind(null,!0),taskType:"realTimeTask"}))))}}]),a}(S.Component),Re=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ye,"Option","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/taskDetail.js"),__REACT_HOT_LOADER__.register(Ae,"Panel","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/taskDetail.js"),__REACT_HOT_LOADER__.register(Ce,"TaskDetail","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/taskDetail.js")),se.a.TabPane),be=N.a.confirm,De=function(e){function a(){var e,t,r,n;A()(this,a);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return t=r=D()(this,(e=a.__proto__||O()(a)).call.apply(e,[this].concat(i))),r.state={selected:"",expanded:!1},r.onChange=function(){var e;return(e=r).__onChange__REACT_HOT_LOADER__.apply(e,arguments)},r.onEdit=function(){var e;return(e=r).__onEdit__REACT_HOT_LOADER__.apply(e,arguments)},r.mapPanels=function(){var e;return(e=r).__mapPanels__REACT_HOT_LOADER__.apply(e,arguments)},r.tabClick=function(){var e;return(e=r).__tabClick__REACT_HOT_LOADER__.apply(e,arguments)},r.unLock=function(){var e;return(e=r).__unLock__REACT_HOT_LOADER__.apply(e,arguments)},r.handleCustomParamsChange=function(){var e;return(e=r).__handleCustomParamsChange__REACT_HOT_LOADER__.apply(e,arguments)},n=t,D()(r,n)}return w()(a,e),R()(a,[{key:"__onChange__REACT_HOT_LOADER__",value:function(e){var a=this.props,t=a.dispatch,r=a.pages,n=parseInt(e,10),s=r&&r.find(function(e){return e.id===n});s&&t(M.i(s))}},{key:"__onEdit__REACT_HOT_LOADER__",value:function(e,a){var t=this.props,r=t.pages,n=t.currentPage,s=t.dispatch;switch(a){case"remove":n.notSynced?be({title:"部分任务修改尚未同步到服务器，是否强制关闭 ?",content:"强制关闭将丢弃这些修改数据",onOk:function(){s(M.c(parseInt(e,10),r,n))},onCancel:function(){}}):s(M.c(parseInt(e,10),r,n))}}},{key:"__mapPanels__REACT_HOT_LOADER__",value:function(e){return e&&e.length>0?e.map(function(e){var a=W.a.createElement("span",null,W.a.createElement(ie.a,{notSynced:e.notSynced}),e.name);return W.a.createElement(Re,{style:{height:"0px"},tab:a,key:e.id})}):[]}},{key:"__tabClick__REACT_HOT_LOADER__",value:function(e){var a=this.state,t=a.selected,r=a.expanded;e===t&&r?(this.setState({selected:"",expanded:!1}),this.SideBench.style.width="30px"):e!==t&&(this.SideBench.style.width="500px",this.setState({selected:e,expanded:!0}))}},{key:"__unLock__REACT_HOT_LOADER__",value:function(){var e=this.props,a=e.currentPage,t=e.dispatch,r=a.readWriteLockVO;be({title:"解锁提醒",content:"文件正在被"+r.lastKeepLockUserName+"编辑中，开始编辑时间\n                "+z.a.formatDateTime(r.gmtModified)+"。\n                强制编辑可能导致"+r.lastKeepLockUserName+"对该文件的修改无法保存！\n            ",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){var e={fileId:a.id,type:Q.h.STREAM_TASK,lockVersion:r.version};V.a.unlockFile(e).then(function(e){if(1===e.code){var r=e.data;r.getLock?f.a.success("文件解锁成功！"):N.a.error({title:"解锁失败",content:"文件正在被"+r.lastKeepLockUserName+"编辑中!开始编辑时间\n                                "+z.a.formatDateTime(r.gmtModified)+"."});var n={id:a.id};V.a.getTask(n).then(function(e){if(1===e.code){var r=e.data;r.merged=!0;var n={id:a.id,readWriteLockVO:r.readWriteLockVO};t(M.i(r)),t(Object(B.e)(n))}})}})},onCancel:function(){}})}},{key:"renderLock",value:function(e){return e.readWriteLockVO&&!e.readWriteLockVO.getLock?W.a.createElement("div",{className:"lock-layer"},W.a.createElement(re.a,{style:{position:"absolute",top:"10px",left:"35%",zIndex:"999"},showIcon:!0,message:W.a.createElement("span",null,"当前文件为只读状态！",W.a.createElement("a",{onClick:this.unLock},"解锁")),type:"warning"})):null}},{key:"__handleCustomParamsChange__REACT_HOT_LOADER__",value:function(e){var a=this.props,t=a.currentPage,r=a.dispatch,n=E()(t,e);r(M.i(n))}},{key:"closeAllorOthers",value:function(e){var a=e.key,t=this.props,r=t.pages,n=t.currentPage,s=t.dispatch;if("ALL"===a){var i=!0,c=!0,l=!1,o=void 0;try{for(var _,u=ae()(r);!(c=(_=u.next()).done);c=!0){_.value.notSynced&&(i=!1);break}}catch(e){l=!0,o=e}finally{try{!c&&u.return&&u.return()}finally{if(l)throw o}}i?s(M.a()):be({title:"部分任务修改尚未同步到服务器，是否强制关闭 ?",content:"强制关闭将丢弃所有修改数据",onOk:function(){s(M.a())},onCancel:function(){}})}else{var p=!0,d=!0,m=!1,h=void 0;try{for(var E,k=ae()(r);!(d=(E=k.next()).done);d=!0){var v=E.value;v.notSynced&&v.id!==n.id&&(p=!1);break}}catch(e){m=!0,h=e}finally{try{!d&&k.return&&k.return()}finally{if(m)throw h}}p?s(M.b(n)):be({title:"部分任务修改尚未同步到服务器，是否强制关闭 ?",content:"强制关闭将丢弃这些修改数据",onOk:function(){s(M.b(n))},onCancel:function(){}})}}},{key:"render",value:function(){var e=this,a=this.props,t=a.currentPage,r=a.pages,s=a.router,i=a.editorFocus,c=a.editorFocusOut,l=a.editorParamsChange;0===r.length&&s.push("/realtime");var o=this.mapPanels(r);return W.a.createElement(n.a,{className:"task-browser"},W.a.createElement("div",{className:"browser-content"},W.a.createElement(se.a,{hideAdd:!0,onTabClick:this.onChange,activeKey:""+t.id,type:"editable-card",className:"browser-tabs",onEdit:this.onEdit,tabBarExtraContent:W.a.createElement(J.a,{overlay:W.a.createElement($.a,{style:{marginRight:2},onClick:this.closeAllorOthers.bind(this)},W.a.createElement($.a.Item,{key:"OHTERS"},"关闭其他"),W.a.createElement($.a.Item,{key:"ALL"},"关闭所有"))},W.a.createElement(Y.a,{type:"bars",style:{margin:"10 0 0 0"}}))},o),this.renderLock(t),W.a.createElement(ke,this.props),W.a.createElement("div",{className:"m-siderbench bd-left",ref:function(a){e.SideBench=a}},W.a.createElement(se.a,{activeKey:this.state.selected,type:"card",className:"task-params",tabPosition:"right",onTabClick:this.tabClick},W.a.createElement(Re,{tab:W.a.createElement("span",{className:"title-vertical"},"任务详情"),key:"params1"},W.a.createElement(Ce,this.props)),W.a.createElement(Re,{tab:W.a.createElement("span",{className:"title-vertical"},"环境参数"),key:"params2"},W.a.createElement(ce.a,{key:"params-editor",options:Q.C,onFocus:i,focusOut:c,value:t.taskParams,onChange:l}))))))}}]),a}(S.Component),Le=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Re,"TabPane","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/taskBrowser.js"),__REACT_HOT_LOADER__.register(be,"confirm","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/taskBrowser.js"),__REACT_HOT_LOADER__.register(De,"TaskBrowser","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/taskBrowser.js")),N.a.confirm),we=H.a.Item,Pe=function(e){function a(){var e,t,r,n;A()(this,a);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return t=r=D()(this,(e=a.__proto__||O()(a)).call.apply(e,[this].concat(i))),r.state={publishDesc:"",showPublish:!1},r.saveTask=function(){var e;return(e=r).__saveTask__REACT_HOT_LOADER__.apply(e,arguments)},r.editorChange=function(){var e;return(e=r).__editorChange__REACT_HOT_LOADER__.apply(e,arguments)},r.debounceChange=Object(I.debounce)(r.editorChange,300,{maxWait:2e3}),r.editorParamsChange=function(){var e;return(e=r).__editorParamsChange__REACT_HOT_LOADER__.apply(e,arguments)},r.startTask=function(){var e;return(e=r).__startTask__REACT_HOT_LOADER__.apply(e,arguments)},r.loadTreeData=function(){var e;return(e=r).__loadTreeData__REACT_HOT_LOADER__.apply(e,arguments)},r.closePublish=function(){var e;return(e=r).__closePublish__REACT_HOT_LOADER__.apply(e,arguments)},r.publishChange=function(){var e;return(e=r).__publishChange__REACT_HOT_LOADER__.apply(e,arguments)},r.renderPublish=function(){var e;return(e=r).__renderPublish__REACT_HOT_LOADER__.apply(e,arguments)},n=t,D()(r,n)}return w()(a,e),R()(a,[{key:"componentDidMount",value:function(){}},{key:"__saveTask__REACT_HOT_LOADER__",value:function(){var e=this.props,a=e.currentPage,t=e.dispatch,r=a.resourceList;r&&r.length>0&&(a.resourceIdList=r.map(function(e){return e.id})),a.lockVersion=a.readWriteLockVO.version,V.a.saveTask(a).then(function(e){var r=function(e){f.a.success("任务保存成功"),e.notSynced=!1,t(M.i(e)),a.taskType===Q.q.MR&&t(B.a({id:e.parentId,catalogueType:Q.i.TASK}))};if(1===e.code){var n=e.data.readWriteLockVO,s=n.result;0===s?r(e.data):1===s?Le({title:"锁定提醒",content:W.a.createElement("span",null,"文件正在被",n.lastKeepLockUserName,"编辑中，开始编辑时间为",z.a.formatDateTime(n.gmtModified),"。 强制保存可能导致",n.lastKeepLockUserName,"对文件的修改无法正常保存！"),okText:"确定保存",okType:"danger",cancelText:"取消",onOk:function(){V.a.forceUpdateTask(a).then(function(e){1===e.code&&r(e.data)})}}):2===s&&Le({title:"保存警告",content:W.a.createElement("span",null,"文件已经被",n.lastKeepLockUserName,"编辑过，编辑时间为",z.a.formatDateTime(n.gmtModified),"。 点击确认按钮会",W.a.createElement(v.a,{color:"orange"},"覆盖"),"您本地的代码，请您提前做好备份！"),okText:"确定覆盖",okType:"danger",cancelText:"取消",onOk:function(){var e={id:a.id,lockVersion:n.version};V.a.getTask(e).then(function(e){if(1===e.code){var a=e.data;a.merged=!0,r(a)}})}})}})}},{key:"__editorChange__REACT_HOT_LOADER__",value:function(e,a){var t=this.props,r=t.currentPage,n=t.dispatch;r=Object(I.cloneDeep)(r),e!==a&&(r.merged="boolean"==typeof e,r.sqlText=a,r.notSynced=!0,n(M.i(r)))}},{key:"__editorParamsChange__REACT_HOT_LOADER__",value:function(e,a){var t=this.props,r=t.currentPage,n=t.dispatch;e!==a&&(r.taskParams=a,n(M.i(r)))}},{key:"__startTask__REACT_HOT_LOADER__",value:function(){var e=this.props,a=e.currentPage,t=e.dispatch;V.a.startTask({id:a.id,isRestoration:0}).then(function(e){1===e.code&&(a.status=10,t(M.i(E()({},a))),f.a.success("任务已经成功提交！"))})}},{key:"autoSaveTask",value:function(){var e=this;this.timerID=setInterval(function(){if("edit"===e.state.editorState){var a=e.props.currentPage;V.a.saveTask(a).then(function(e){1===e.code&&f.a.success("任务已自动保存")})}},3e4)}},{key:"__loadTreeData__REACT_HOT_LOADER__",value:function(e){var a=this.props.dispatch,t=e.props.data;return new m.a(function(e){a(B.a(t)),e()})}},{key:"__closePublish__REACT_HOT_LOADER__",value:function(){this.setState({publishDesc:"",showPublish:!1})}},{key:"submitTab",value:function(){var e=this,a=this.props,t=a.currentPage,r=a.dispatch,n=this.state.publishDesc,s=Object(I.cloneDeep)(t);return n?n.length>200?(f.a.error("备注信息不可超过200个字符！"),!1):(s.publishDesc=n,s.preSave=!0,s.submitStatus=1,void M.h(s).then(function(a){e.closePublish(),a&&(f.a.success("发布成功！"),V.a.getTask({id:t.id}).then(function(e){if(1===e.code){var a=e.data;a.merged=!0,a.notSynced=!1,r(M.i(a))}}))})):(f.a.error("发布备注不可为空！"),!1)}},{key:"__publishChange__REACT_HOT_LOADER__",value:function(e){this.setState({publishDesc:e.target.value})}},{key:"__renderPublish__REACT_HOT_LOADER__",value:function(){var e=this.props.user,a=this.state.publishDesc;return W.a.createElement(N.a,{wrapClassName:"vertical-center-modal",title:"发布任务",style:{height:"600px",width:"600px"},visible:this.state.showPublish,onCancel:this.closePublish,onOk:this.submitTab.bind(this),cancelText:"关闭"},W.a.createElement(H.a,null,W.a.createElement(we,p()({},Q.t,{label:"发布人",hasFeedback:!0}),W.a.createElement("span",null,e.userName)),W.a.createElement(we,p()({},Q.t,{label:W.a.createElement("span",{className:"ant-form-item-required"},"备注"),hasFeedback:!0}),W.a.createElement(_.a,{type:"textarea",value:a,name:"publishDesc",rows:4,onChange:this.publishChange}))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.dispatch,r=a.currentPage,s=r.notSynced;return W.a.createElement(n.a,{className:"task-editor"},W.a.createElement("header",{className:"toolbar bd-bottom clear"},W.a.createElement(i.a,{className:"left"},W.a.createElement(l.a,{onClick:function(){t(K.a(q.b.ADD_TASK_VISIBLE))},title:"创建任务"},W.a.createElement(F.a,{className:"my-icon",type:"focus"})," 新建任务"),W.a.createElement(l.a,{disabled:r.invalid,onClick:this.saveTask,title:"保存任务"},W.a.createElement(F.a,{className:"my-icon",type:"save"}),"保存")),W.a.createElement(i.a,{className:"right"},W.a.createElement(l.a,{disabled:s,onClick:function(){e.setState({showPublish:!0})}},W.a.createElement(F.a,{className:"my-icon",type:"fly"})," 发布"),W.a.createElement(j.c,{to:"/operation/realtime?tname="+r.name},W.a.createElement(l.a,null,W.a.createElement(F.a,{className:"my-icon",type:"goin"})," 运维")))),W.a.createElement(De,p()({},this.props,{ayncTree:this.loadTreeData,editorParamsChange:this.editorParamsChange,editorChange:this.debounceChange})),this.renderPublish())}}]),a}(S.Component),He=Object(U.b)(function(e){var a=e.realtimeTask,t=a.resources,r=a.pages;return{currentPage:a.currentPage,pages:r,resources:t,user:e.user}})(Pe);a.default=He,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Le,"confirm","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/index.js"),__REACT_HOT_LOADER__.register(we,"FormItem","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/index.js"),__REACT_HOT_LOADER__.register(Pe,"TaskIndex","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/index.js"),__REACT_HOT_LOADER__.register(He,"default","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/task/realtime/index.js"))}}]);