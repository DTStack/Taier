(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1455:function(e,t,n){},1467:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n.n(r),o=n(5),s=n.n(o),i=n(7),l=n.n(i),c=n(1),p=n.n(c),u=n(6),d=n.n(u),_=(n(225),n(123)),E=n.n(_),m=n(0),g=n.n(m),h=n(208),v=n.n(h),C=n(29),T=n.n(C),f=(n(1455),n(419)({mxImageBasePath:"public/rdos/mxgraph/images",mxBasePath:"public/rdos/mxgraph"})),k=f.mxGraph,A=f.mxShape,w=f.mxConnectionConstraint,R=f.mxPoint,L=f.mxPolyline,O=f.mxEvent,D=f.mxRubberband,x=f.mxCellState,b=f.mxConstants,y=f.mxEdgeStyle,S=f.mxPopupMenu,M=f.mxPerimeter,N=f.mxUndoManager,z={COMMAND:91,CTRL:17,BACKUP:8,A:65},H={width:120,height:60},I=function(e){function t(){return s()(this,t),p()(this,(t.__proto__||a()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.Container;this.initEditor(),this.loadEditor(e),this.listenKeyboard(),this.listenDoubleClick(),this.listenConnection(),this.undoManager()}},{key:"initEditor",value:function(){k.prototype.getAllConnectionConstraints=function(e,t){if(null!=e&&null!=e.shape)if(null!=e.shape.stencil){if(null!=e.shape.stencil)return e.shape.stencil.constraints}else if(null!=e.shape.constraints)return e.shape.constraints;return null},A.prototype.constraints=[new w(new R(.25,0),!0),new w(new R(.5,0),!0),new w(new R(.75,0),!0),new w(new R(0,.25),!0),new w(new R(0,.5),!0),new w(new R(0,.75),!0),new w(new R(1,.25),!0),new w(new R(1,.5),!0),new w(new R(1,.75),!0),new w(new R(.25,1),!0),new w(new R(.5,1),!0),new w(new R(.75,1),!0)],L.prototype.constraints=null}},{key:"loadEditor",value:function(e){O.disableContextMenu(e);var t=new k(e);this.graph=t,t.setConnectable(!0),t.setTooltips(!0),t.view.setScale(1),t.isCellsMovable=function(e){return!((e=t.getSelectionCell())&&e.edge)};var n=this.getDefaultVertexStyle();t.getStylesheet().putDefaultVertexStyle(n);var r=this.getDefaultEdgeStyle();t.getStylesheet().putDefaultEdgeStyle(r),new D(t);var a=t.getDefaultParent(),o=t.getModel();o.beginUpdate();try{var s=t.insertVertex(a,null,"block1",20,20,H.width,H.height),i=t.insertVertex(a,null,"block2",200,150,H.width,H.height),l=t.insertVertex(a,null,"block3",300,150,H.width,H.height);t.insertEdge(a,null,"",s,l),t.insertEdge(a,null,"",i,l)}finally{o.endUpdate()}this.initContextMenu(t)}},{key:"getDefaultVertexStyle",value:function(){var e=[];return e[b.STYLE_SHAPE]=b.SHAPE_RECTANGLE,e[b.STYLE_PERIMETER]=M.RectanglePerimeter,e[b.STYLE_STROKECOLOR]="#fff",e[b.STYLE_ROUNDED]=!0,e[b.STYLE_FILLCOLOR]="#18a689",e[b.STYLE_FONTCOLOR]="#ffffff",e[b.STYLE_ALIGN]=b.ALIGN_CENTER,e[b.STYLE_VERTICAL_ALIGN]=b.ALIGN_MIDDLE,e[b.STYLE_FONTSIZE]="12",e[b.STYLE_FONTSTYLE]=1,e}},{key:"getDefaultEdgeStyle",value:function(){var e=[];return e[b.STYLE_SHAPE]=b.SHAPE_CONNECTOR,e[b.STYLE_STROKECOLOR]="#18a689",e[b.STYLE_ALIGN]=b.ALIGN_CENTER,e[b.STYLE_VERTICAL_ALIGN]=b.ALIGN_MIDDLE,e[b.STYLE_EDGE]=y.ElbowConnector,e[b.STYLE_ENDARROW]=b.ARROW_CLASSIC,e[b.STYLE_FONTSIZE]="10",e}},{key:"initContextMenu",value:function(e){var t=S.prototype.showMenu;S.prototype.showMenu=function(){var e=this.graph.getSelectionCells();if(!(e.length>0&&e[0].vertex))return!1;t.apply(this,arguments)},e.popupMenuHandler.autoExpand=!0,e.popupMenuHandler.factoryMethod=function(t,n,r){t.addItem("Item1",null,function(){alert("item 1")}),t.addItem("移除",null,function(){e.removeCells([n])}),t.addSeparator();var a=t.addItem("SubMen",null,null);t.addItem("Item2",null,function(){alert("item 1")},a)}}},{key:"zoomIn",value:function(){this.graph.zoomIn()}},{key:"zoomOut",value:function(){this.graph.zoomOut()}},{key:"removeCell",value:function(e){var t=e||this.graph.getSelectionCells();t&&t.length>0&&this.graph.removeCells(t)}},{key:"insert",value:function(){var e=this.graph.getDefaultParent();this.graph.insertVertex(e,null,(new Date).getTime(),null,150,80,30)}},{key:"outputRoot",value:function(){this.graph.getDefaultParent()}},{key:"disableConnection",value:function(){this.graph.setConnectable(!1)}},{key:"resetView",value:function(){this.graph.view.scaleAndTranslate(1,0,0)}},{key:"listenDoubleClick",value:function(){this.graph.addListener(O.DOUBLE_CLICK,function(e,t){t.getProperty("cell")&&window.open("http://www.google.com")})}},{key:"listenConnection",value:function(){var e=this.graph;e.connectionHandler.createEdgeState=function(t){var n=e.createEdge(null,null,null,null,null);return new x(e.view,n,e.getCellStyle(n))},e.connectionHandler.addListener(O.CONNECT,function(t,n){var r=n.getProperty("cell"),a=e.getModel().getTerminal(r,!0),o=e.getModel().getTerminal(r,!1);a&&o||e.removeCells([r])}),e.connectionHandler.addListener(O.RESET,function(t,n){var r=n.getProperty("cell"),a=e.getModel().getTerminal(r,!0),o=e.getModel().getTerminal(r,!1);a&&o||e.removeCells([r])})}},{key:"listenKeyboard",value:function(){var e,t=this,n=(e={},T()(e,z.COMMAND,!1),T()(e,z.A,!1),T()(e,z.CTRL,!1),e);document.addEventListener("keydown",function(e){switch(e.keyCode){case z.BACKUP:t.removeCell();break;case z.COMMAND:n[z.COMMAND]=!0;break;case z.A:n[z.A]=!0;break;case z.CTRL:n[z.CTRL]=!0}(n[z.COMMAND]&&n[z.A]||n[z.A]&&n[z.CTRL])&&(t.graph.selectAll(),n[z.COMMAND]=!1,n[z.A]=!1,n[z.CTRL]=!1)})}},{key:"graphEnable",value:function(){var e=this.graph.isEnabled();this.graph.setEnabled(!e)}},{key:"undoManager",value:function(){var e=new N,t=this.graph;this.undoMana=e;var n=function(t,n){e.undoableEditHappened(n.getProperty("edit"))};t.getModel().addListener(O.UNDO,n),t.getView().addListener(O.UNDO,n)}},{key:"undo",value:function(){this.undoMana.undo()}},{key:"render",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement("div",{className:"editor",ref:function(t){e.Container=t}}),g.a.createElement("div",{style:{position:"absolute",zIndex:"2",right:"20px",top:"30px"}},g.a.createElement("button",{onClick:function(){return e.zoomIn()}},"放大"),g.a.createElement("button",{onClick:function(){return e.zoomOut()}},"缩小"),g.a.createElement("button",{onClick:function(){return e.resetView()}},"重置"),g.a.createElement("button",{onClick:function(){return e.insert()}},"添加"),g.a.createElement("button",{onClick:function(){return e.outputRoot()}},"Root节点"),g.a.createElement("button",{onClick:function(){return e.disableConnection()}},"禁止链接"),g.a.createElement("button",{onClick:function(){return e.currentState()}},"状态"),g.a.createElement("button",{onClick:function(){return e.graphEnable()}},"禁止编辑"),g.a.createElement("button",{onClick:function(){return e.undo()}},"撤销")))}}]),t}(m.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"Mx","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(k,"mxGraph","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(A,"mxShape","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(w,"mxConnectionConstraint","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(R,"mxPoint","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(L,"mxPolyline","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(O,"mxEvent","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(D,"mxRubberband","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(x,"mxCellState","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(b,"mxConstants","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(y,"mxEdgeStyle","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(S,"mxPopupMenu","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(M,"mxPerimeter","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(N,"mxUndoManager","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(z,"KEY","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(H,"VertexSize","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(I,"Editor","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/components/graph-editor/index.js"));n.d(t,"default",function(){return P});var U=E.a.TreeNode,P=function(e){function t(){return s()(this,t),p()(this,(t.__proto__||a()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(v.a,{split:"vertical",minSize:300,maxSize:"80%",defaultSize:"60%",primary:"first"},g.a.createElement("div",{className:"leftSidebar"},g.a.createElement("h1",null,"Left.")),g.a.createElement(v.a,{split:"horizontal"},g.a.createElement("div",null,g.a.createElement("h1",null,"Right-Top")),g.a.createElement("div",null)))}}]),t}(m.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(U,"TreeNode","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/test.js"),__REACT_HOT_LOADER__.register(P,"Test","/Users/ziv/Development/Workspace/data-stack/src/webapps/rdos/views/test.js"))}}]);