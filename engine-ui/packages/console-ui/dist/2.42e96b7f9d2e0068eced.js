(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1468:function(e,t,n){},1478:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),o=n(5),s=n.n(o),i=n(7),l=n.n(i),u=n(1),c=n.n(u),d=n(6),p=n.n(d),_=(n(227),n(117)),g=n.n(_),E=n(0),m=n.n(E),h=n(226),x=n.n(h),C=n(31),w=n.n(C),T=(n(1468),n(432)({mxImageBasePath:"public/rdos/mxgraph/images",mxBasePath:"public/rdos/mxgraph"})),f=T.mxGraph,b=T.mxShape,k=T.mxConnectionConstraint,A=T.mxPoint,R=T.mxPolyline,L=T.mxEvent,O=T.mxRubberband,D=T.mxCellState,v=T.mxConstants,y=T.mxEdgeStyle,S=T.mxPopupMenu,M=T.mxPerimeter,N=T.mxUndoManager,H={COMMAND:91,CTRL:17,BACKUP:8,A:65},I={width:120,height:60},U=function(e){function t(){return s()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.Container;this.initEditor(),this.loadEditor(e),this.listenKeyboard(),this.listenDoubleClick(),this.listenConnection(),this.undoManager()}},{key:"initEditor",value:function(){f.prototype.getAllConnectionConstraints=function(e,t){if(null!=e&&null!=e.shape)if(null!=e.shape.stencil){if(null!=e.shape.stencil)return e.shape.stencil.constraints}else if(null!=e.shape.constraints)return e.shape.constraints;return null},b.prototype.constraints=[new k(new A(.25,0),!0),new k(new A(.5,0),!0),new k(new A(.75,0),!0),new k(new A(0,.25),!0),new k(new A(0,.5),!0),new k(new A(0,.75),!0),new k(new A(1,.25),!0),new k(new A(1,.5),!0),new k(new A(1,.75),!0),new k(new A(.25,1),!0),new k(new A(.5,1),!0),new k(new A(.75,1),!0)],R.prototype.constraints=null}},{key:"loadEditor",value:function(e){L.disableContextMenu(e);var t=new f(e);this.graph=t,t.setConnectable(!0),t.setTooltips(!0),t.view.setScale(1),t.isCellsMovable=function(e){return!((e=t.getSelectionCell())&&e.edge)};var n=this.getDefaultVertexStyle();t.getStylesheet().putDefaultVertexStyle(n);var a=this.getDefaultEdgeStyle();t.getStylesheet().putDefaultEdgeStyle(a),new O(t);var r=t.getDefaultParent(),o=t.getModel();o.beginUpdate();try{var s=t.insertVertex(r,null,"block1",20,20,I.width,I.height),i=t.insertVertex(r,null,"block2",200,150,I.width,I.height),l=t.insertVertex(r,null,"block3",300,150,I.width,I.height);t.insertEdge(r,null,"",s,l),t.insertEdge(r,null,"",i,l)}finally{o.endUpdate()}this.initContextMenu(t)}},{key:"getDefaultVertexStyle",value:function(){var e=[];return e[v.STYLE_SHAPE]=v.SHAPE_RECTANGLE,e[v.STYLE_PERIMETER]=M.RectanglePerimeter,e[v.STYLE_STROKECOLOR]="#fff",e[v.STYLE_ROUNDED]=!0,e[v.STYLE_FILLCOLOR]="#18a689",e[v.STYLE_FONTCOLOR]="#ffffff",e[v.STYLE_ALIGN]=v.ALIGN_CENTER,e[v.STYLE_VERTICAL_ALIGN]=v.ALIGN_MIDDLE,e[v.STYLE_FONTSIZE]="12",e[v.STYLE_FONTSTYLE]=1,e}},{key:"getDefaultEdgeStyle",value:function(){var e=[];return e[v.STYLE_SHAPE]=v.SHAPE_CONNECTOR,e[v.STYLE_STROKECOLOR]="#18a689",e[v.STYLE_ALIGN]=v.ALIGN_CENTER,e[v.STYLE_VERTICAL_ALIGN]=v.ALIGN_MIDDLE,e[v.STYLE_EDGE]=y.ElbowConnector,e[v.STYLE_ENDARROW]=v.ARROW_CLASSIC,e[v.STYLE_FONTSIZE]="10",e}},{key:"initContextMenu",value:function(e){var t=S.prototype.showMenu;S.prototype.showMenu=function(){var e=this.graph.getSelectionCells();if(!(e.length>0&&e[0].vertex))return!1;t.apply(this,arguments)},e.popupMenuHandler.autoExpand=!0,e.popupMenuHandler.factoryMethod=function(t,n,a){t.addItem("Item1",null,function(){alert("item 1")}),t.addItem("移除",null,function(){e.removeCells([n])}),t.addSeparator();var r=t.addItem("SubMen",null,null);t.addItem("Item2",null,function(){alert("item 1")},r)}}},{key:"zoomIn",value:function(){this.graph.zoomIn()}},{key:"zoomOut",value:function(){this.graph.zoomOut()}},{key:"removeCell",value:function(e){var t=e||this.graph.getSelectionCells();t&&t.length>0&&this.graph.removeCells(t)}},{key:"insert",value:function(){var e=this.graph.getDefaultParent();this.graph.insertVertex(e,null,(new Date).getTime(),null,150,80,30)}},{key:"outputRoot",value:function(){this.graph.getDefaultParent()}},{key:"disableConnection",value:function(){this.graph.setConnectable(!1)}},{key:"resetView",value:function(){this.graph.view.scaleAndTranslate(1,0,0)}},{key:"listenDoubleClick",value:function(){this.graph.addListener(L.DOUBLE_CLICK,function(e,t){t.getProperty("cell")&&window.open("http://www.google.com")})}},{key:"listenConnection",value:function(){var e=this.graph;e.connectionHandler.createEdgeState=function(t){var n=e.createEdge(null,null,null,null,null);return new D(e.view,n,e.getCellStyle(n))},e.connectionHandler.addListener(L.CONNECT,function(t,n){var a=n.getProperty("cell"),r=e.getModel().getTerminal(a,!0),o=e.getModel().getTerminal(a,!1);r&&o||e.removeCells([a])}),e.connectionHandler.addListener(L.RESET,function(t,n){var a=n.getProperty("cell"),r=e.getModel().getTerminal(a,!0),o=e.getModel().getTerminal(a,!1);r&&o||e.removeCells([a])})}},{key:"listenKeyboard",value:function(){var e,t=this,n=(e={},w()(e,H.COMMAND,!1),w()(e,H.A,!1),w()(e,H.CTRL,!1),e);document.addEventListener("keydown",function(e){switch(e.keyCode){case H.BACKUP:t.removeCell();break;case H.COMMAND:n[H.COMMAND]=!0;break;case H.A:n[H.A]=!0;break;case H.CTRL:n[H.CTRL]=!0}(n[H.COMMAND]&&n[H.A]||n[H.A]&&n[H.CTRL])&&(t.graph.selectAll(),n[H.COMMAND]=!1,n[H.A]=!1,n[H.CTRL]=!1)})}},{key:"graphEnable",value:function(){var e=this.graph.isEnabled();this.graph.setEnabled(!e)}},{key:"undoManager",value:function(){var e=new N,t=this.graph;this.undoMana=e;var n=function(t,n){e.undoableEditHappened(n.getProperty("edit"))};t.getModel().addListener(L.UNDO,n),t.getView().addListener(L.UNDO,n)}},{key:"undo",value:function(){this.undoMana.undo()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{className:"editor",ref:function(t){e.Container=t}}),m.a.createElement("div",{style:{position:"absolute",zIndex:"2",right:"20px",top:"30px"}},m.a.createElement("button",{onClick:function(){return e.zoomIn()}},"放大"),m.a.createElement("button",{onClick:function(){return e.zoomOut()}},"缩小"),m.a.createElement("button",{onClick:function(){return e.resetView()}},"重置"),m.a.createElement("button",{onClick:function(){return e.insert()}},"添加"),m.a.createElement("button",{onClick:function(){return e.outputRoot()}},"Root节点"),m.a.createElement("button",{onClick:function(){return e.disableConnection()}},"禁止链接"),m.a.createElement("button",{onClick:function(){return e.currentState()}},"状态"),m.a.createElement("button",{onClick:function(){return e.graphEnable()}},"禁止编辑"),m.a.createElement("button",{onClick:function(){return e.undo()}},"撤销")))}}]),t}(E.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(T,"Mx","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(f,"mxGraph","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(b,"mxShape","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(k,"mxConnectionConstraint","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(A,"mxPoint","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(R,"mxPolyline","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(L,"mxEvent","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(O,"mxRubberband","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(D,"mxCellState","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(v,"mxConstants","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(y,"mxEdgeStyle","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(S,"mxPopupMenu","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(M,"mxPerimeter","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(N,"mxUndoManager","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(H,"KEY","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(I,"VertexSize","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"),__REACT_HOT_LOADER__.register(U,"Editor","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/components/graph-editor/index.js"));n.d(t,"default",function(){return j});var P=g.a.TreeNode,j=function(e){function t(){return s()(this,t),c()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return m.a.createElement(x.a,{split:"vertical",minSize:300,maxSize:"80%",defaultSize:"60%",primary:"first"},m.a.createElement("div",{className:"leftSidebar"},m.a.createElement("h1",null,"Left.")),m.a.createElement(x.a,{split:"horizontal"},m.a.createElement("div",null,m.a.createElement("h1",null,"Right-Top")),m.a.createElement("div",null)))}}]),t}(E.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(P,"TreeNode","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/views/test.js"),__REACT_HOT_LOADER__.register(j,"Test","/Users/xuexiaokang/Documents/数据中台/git/data-stack-web/src/webapps/rdos/views/test.js"))}}]);